var ZU=Object.create;var wR=Object.defineProperty;var e8=Object.getOwnPropertyDescriptor;var t8=Object.getOwnPropertyNames;var r8=Object.getPrototypeOf,n8=Object.prototype.hasOwnProperty;var L=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var i8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of t8(t))!n8.call(e,i)&&i!==r&&wR(e,i,{get:()=>t[i],enumerable:!(n=e8(t,i))||n.enumerable});return e};var Yt=(e,t,r)=>(r=e!=null?ZU(r8(e)):{},i8(t||!e||!e.__esModule?wR(r,"default",{value:e,enumerable:!0}):r,e));var _R=w((kSe,Ha)=>{"use strict";var s8=e=>{let t=e.headers["content-encoding"]||e.headers["Content-Encoding"];return t&&t!=="identity"},o8=(e,t)=>(typeof e.enforceBase64=="function"?e.enforceBase64:s8)(t)===!0;Ha.exports=(e,t)=>{t=t||{},t.binaryMimeTypes=t.binaryMimeTypes||[],t.serializeLambdaArguments=t.serializeLambdaArguments!==void 0?t.serializeLambdaArguments:!1,t.decorateRequest=t.decorateRequest!==void 0?t.decorateRequest:!0;let r={};return t.decorateRequest&&(t.decorationPropertyName=t.decorationPropertyName||"awsLambda",e.decorateRequest(t.decorationPropertyName,{getter:()=>({get event(){return r.event},get context(){return r.context}})})),(n,i,s)=>{r.event=n,r.context=i,t.callbackWaitsForEmptyEventLoop!==void 0&&(i.callbackWaitsForEmptyEventLoop=t.callbackWaitsForEmptyEventLoop),n.body=n.body||"";let o=n.httpMethod||(n.requestContext&&n.requestContext.http?n.requestContext.http.method:void 0),a=n.path||n.rawPath||"/";n.requestContext&&n.requestContext.stage&&n.requestContext.resourcePath&&a.indexOf(`/${n.requestContext.stage}/`)===0&&n.requestContext.resourcePath.indexOf(`/${n.requestContext.stage}/`)!==0&&(a=a.substring(n.requestContext.stage.length+1));let l={};n.requestContext&&n.requestContext.elb?n.multiValueQueryStringParameters?Object.keys(n.multiValueQueryStringParameters).forEach(h=>{l[decodeURIComponent(h)]=n.multiValueQueryStringParameters[h].map(f=>decodeURIComponent(f))}):n.queryStringParameters&&Object.keys(n.queryStringParameters).forEach(h=>{l[decodeURIComponent(h)]=decodeURIComponent(n.queryStringParameters[h]),n.version==="2.0"&&typeof l[decodeURIComponent(h)]=="string"&&l[decodeURIComponent(h)].indexOf(",")>0&&(l[decodeURIComponent(h)]=l[decodeURIComponent(h)].split(","))}):(n.queryStringParameters&&n.version==="2.0"&&Object.keys(n.queryStringParameters).forEach(h=>{typeof n.queryStringParameters[h]=="string"&&n.queryStringParameters[h].indexOf(",")>0&&(n.queryStringParameters[h]=n.queryStringParameters[h].split(","))}),Object.assign(l,n.multiValueQueryStringParameters||n.queryStringParameters));let c=Object.assign({},n.headers);n.multiValueHeaders&&Object.keys(n.multiValueHeaders).forEach(h=>{n.multiValueHeaders[h].length>1&&(c[h]=n.multiValueHeaders[h])});let u=Buffer.from(n.body,n.isBase64Encoded?"base64":"utf8");n.body&&!c["Content-Length"]&&!c["content-length"]&&(c["content-length"]=Buffer.byteLength(u)),t.serializeLambdaArguments&&(n.body=void 0,c["x-apigateway-event"]=encodeURIComponent(JSON.stringify(n)),i&&(c["x-apigateway-context"]=encodeURIComponent(JSON.stringify(i)))),n.requestContext&&n.requestContext.requestId&&(c["x-request-id"]=c["x-request-id"]||n.requestContext.requestId),n.cookies&&n.cookies.length&&(c.cookie=n.cookies.join(";"));let d=new Promise(h=>{e.inject({method:o,url:a,query:l,payload:u,headers:c},(f,p)=>{if(r={},f)return console.error(f),h({statusCode:500,body:"",headers:{}});c["transfer-encoding"]==="chunked"&&delete c["transfer-encoding"],c["Transfer-Encoding"]==="chunked"&&delete c["Transfer-Encoding"];let m,v;Object.keys(p.headers).forEach(g=>{let P=g.toLowerCase()==="set-cookie",O=Array.isArray(p.headers[g]);O?P?(m=m||{},m[g]=p.headers[g]):p.headers[g]=p.headers[g].join(","):typeof p.headers[g]<"u"&&typeof p.headers[g]!="string"&&(p.headers[g]=p.headers[g].toString()),P&&(v=O?p.headers[g]:[p.headers[g]],(n.version==="2.0"||O)&&delete p.headers[g])});let y=(p.headers["content-type"]||p.headers["Content-Type"]||"").split(";")[0],E=t.binaryMimeTypes.indexOf(y)>-1||o8(t,p),b={statusCode:p.statusCode,body:E?p.rawPayload.toString("base64"):p.payload,headers:p.headers,isBase64Encoded:E};v&&n.version==="2.0"&&(b.cookies=v),m&&(!n.version||n.version==="1.0")&&(b.multiValueHeaders=m),h(b)})});return s&&d.then(h=>s(null,h)).catch(s),d}};Ha.exports.default=Ha.exports;Ha.exports.awsLambdaFastify=Ha.exports});var xR=w((OSe,ER)=>{"use strict";function a8(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}ER.exports=a8});var vy=w((CSe,by)=>{"use strict";var l8=xR();function SR(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=l8(c8),i=null,s=null,o=0,a=null,l={push:m,drain:Tn,saturated:Tn,pause:u,paused:!1,concurrency:r,running:c,resume:f,idle:p,length:d,getQueue:h,unshift:v,empty:Tn,kill:E,killAndDrain:b,error:g};return l;function c(){return o}function u(){l.paused=!0}function d(){for(var P=i,O=0;P;)P=P.next,O++;return O}function h(){for(var P=i,O=[];P;)O.push(P.value),P=P.next;return O}function f(){if(l.paused){l.paused=!1;for(var P=0;P<l.concurrency;P++)o++,y()}}function p(){return o===0&&l.length()===0}function m(P,O){var R=n.get();R.context=e,R.release=y,R.value=P,R.callback=O||Tn,R.errorHandler=a,o===l.concurrency||l.paused?s?(s.next=R,s=R):(i=R,s=R,l.saturated()):(o++,t.call(e,R.value,R.worked))}function v(P,O){var R=n.get();R.context=e,R.release=y,R.value=P,R.callback=O||Tn,o===l.concurrency||l.paused?i?(R.next=i,i=R):(i=R,s=R,l.saturated()):(o++,t.call(e,R.value,R.worked))}function y(P){P&&n.release(P);var O=i;O?l.paused?o--:(s===i&&(s=null),i=O.next,O.next=null,t.call(e,O.value,O.worked),s===null&&l.empty()):--o===0&&l.drain()}function E(){i=null,s=null,l.drain=Tn}function b(){i=null,s=null,l.drain(),l.drain=Tn}function g(P){a=P}}function Tn(){}function c8(){this.value=null,this.callback=Tn,this.next=null,this.release=Tn,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=Tn,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function u8(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(u,d){t.call(this,u).then(function(h){d(null,h)},d)}var i=SR(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=l,i.drained=c,i;function a(u){var d=new Promise(function(h,f){s(u,function(p,m){if(p){f(p);return}h(m)})});return d.catch(Tn),d}function l(u){var d=new Promise(function(h,f){o(u,function(p,m){if(p){f(p);return}h(m)})});return d.catch(Tn),d}function c(){if(i.idle())return new Promise(function(h){h()});var u=i.drain,d=new Promise(function(h){i.drain=function(){u(),h()}});return d}}by.exports=SR;by.exports.promise=u8});var _y=w((ISe,RR)=>{"use strict";var{inherits:f8,format:wy}=L("util");function Po(e,t,r=Error){if(!e)throw new Error("Avvio error code must not be empty");if(!t)throw new Error("Avvio base error message must not be empty");function n(i,s,o){if(!(this instanceof n))return new n(i,s,o);Error.captureStackTrace(this,n),this.code=e,this.message=t,this.name="AvvioError",i&&s&&o?this.message=wy(t,i,s,o):i&&s?this.message=wy(t,i,s):i?this.message=wy(t,i):this.message=t}return n.prototype[Symbol.toStringTag]="Error",n.prototype.toString=function(){return`${this.name} [${this.code}]: ${this.message}`},f8(n,r),n}RR.exports={createError:Po,AVV_ERR_EXPOSE_ALREADY_DEFINED:Po("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' () is already defined, specify an expose option"),AVV_ERR_CALLBACK_NOT_FN:Po("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:Po("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:Po("AVV_ERR_PLUGIN_NOT_VALID","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:Po("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:Po("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")}});var PR=w(($Se,TR)=>{TR.exports=function e(t,r,n){r===void 0&&(r=""),n||(n={});var i=function(l){var c={"\u2502":"|","\u2514":"`","\u251C":"+","\u2500":"-","\u252C":"-"};return n.unicode===!1?c[l]:l};typeof t=="string"&&(t={label:t});var s=t.nodes||[],o=(t.label||"").split(`
`),a=`
`+r+(s.length?i("\u2502"):" ")+" ";return r+o.join(a)+`
`+s.map(function(l,c){var u=c===s.length-1,d=l.nodes&&l.nodes.length,h=r+(u?" ":i("\u2502"))+" ";return r+i(u?"\u2514":"\u251C")+i("\u2500")+i(d?"\u252C":"\u2500")+" "+e(l,h,n).slice(r.length+2)}).join("")}});var $R=w((NSe,IR)=>{"use strict";var d8=PR(),AR=Symbol("avvio.TimeTree.untrackNode"),Ey=Symbol("avvio.TimeTree.trackNode"),kR=Symbol("avvio.TimeTree.getParent"),OR=Symbol("avvio.TimeTree.getNode"),CR=Symbol("avvio.TimeTree.addNode"),xy=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[Ey](t){this.tableId.set(t.id,t),this.tableLabel.has(t.label)?this.tableLabel.get(t.label).push(t):this.tableLabel.set(t.label,[t])}[AR](t){this.tableId.delete(t.id);let r=this.tableLabel.get(t.label);if(r.id){this.tableLabel.delete(t.label);return}r.pop(),r.length===0&&this.tableLabel.delete(t.label)}[kR](t){if(t===null)return this.root;let r=this.tableLabel.get(t);return r.id?r:r[r.length-1]}[OR](t){return this.tableId.get(t)}[CR](t,r,n){if(t===null)return this.root={id:"root",label:r,start:n,nodes:[]},this[Ey](this.root),this.root.id;let s=this[kR](t),o=`${r}-${Math.random()}`,a={id:o,parent:t,start:n,label:r,nodes:[]};return s.nodes.push(a),this[Ey](a),o}start(t,r,n=Date.now()){return this[CR](t,r,n)}stop(t,r=Date.now()){let n=this[OR](t);n&&(n.stop=r,n.diff=n.stop-n.start||0,this[AR](n))}toJSON(){return Object.assign({},this.root)}prittyPrint(){let t=n=>(n.label=`${n.label} ${n.diff} ms`,n.nodes.length>0&&(n.nodes=n.nodes.map(i=>t(i))),n),r=t(this.toJSON());return d8(r)}};IR.exports=xy});var jR=w((jSe,NR)=>{var Ua=1e3,Va=Ua*60,Ga=Va*60,Ao=Ga*24,h8=Ao*7,p8=Ao*365.25;NR.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return m8(e);if(r==="number"&&isFinite(e))return t.long?y8(e):g8(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function m8(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*p8;case"weeks":case"week":case"w":return r*h8;case"days":case"day":case"d":return r*Ao;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ga;case"minutes":case"minute":case"mins":case"min":case"m":return r*Va;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ua;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function g8(e){var t=Math.abs(e);return t>=Ao?Math.round(e/Ao)+"d":t>=Ga?Math.round(e/Ga)+"h":t>=Va?Math.round(e/Va)+"m":t>=Ua?Math.round(e/Ua)+"s":e+"ms"}function y8(e){var t=Math.abs(e);return t>=Ao?Cd(e,t,Ao,"day"):t>=Ga?Cd(e,t,Ga,"hour"):t>=Va?Cd(e,t,Va,"minute"):t>=Ua?Cd(e,t,Ua,"second"):e+" ms"}function Cd(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Sy=w((qSe,qR)=>{function b8(e){r.debug=r,r.default=r,r.coerce=l,r.disable=s,r.enable=i,r.enabled=o,r.humanize=jR(),r.destroy=c,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=t;function r(u){let d,h=null,f,p;function m(...v){if(!m.enabled)return;let y=m,E=Number(new Date),b=E-(d||E);y.diff=b,y.prev=d,y.curr=E,d=E,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let g=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(O,R)=>{if(O==="%%")return"%";g++;let C=r.formatters[R];if(typeof C=="function"){let q=v[g];O=C.call(y,q),v.splice(g,1),g--}return O}),r.formatArgs.call(y,v),(y.log||r.log).apply(y,v)}return m.namespace=u,m.useColors=r.useColors(),m.color=r.selectColor(u),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(f!==r.namespaces&&(f=r.namespaces,p=r.enabled(u)),p),set:v=>{h=v}}),typeof r.init=="function"&&r.init(m),m}function n(u,d){let h=r(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d,h=(typeof u=="string"?u:"").split(/[\s,]+/),f=h.length;for(d=0;d<f;d++)h[d]&&(u=h[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){let u=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let d,h;for(d=0,h=r.skips.length;d<h;d++)if(r.skips[d].test(u))return!1;for(d=0,h=r.names.length;d<h;d++)if(r.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}qR.exports=b8});var DR=w((un,Id)=>{un.formatArgs=w8;un.save=_8;un.load=E8;un.useColors=v8;un.storage=x8();un.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();un.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function v8(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function w8(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Id.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}un.log=console.debug||console.log||(()=>{});function _8(e){try{e?un.storage.setItem("debug",e):un.storage.removeItem("debug")}catch{}}function E8(){let e;try{e=un.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function x8(){try{return localStorage}catch{}}Id.exports=Sy()(un);var{formatters:S8}=Id.exports;S8.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var FR=w((DSe,LR)=>{"use strict";LR.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var zR=w((LSe,BR)=>{"use strict";var R8=L("os"),MR=L("tty"),Pn=FR(),{env:ir}=process,xs;Pn("no-color")||Pn("no-colors")||Pn("color=false")||Pn("color=never")?xs=0:(Pn("color")||Pn("colors")||Pn("color=true")||Pn("color=always"))&&(xs=1);"FORCE_COLOR"in ir&&(ir.FORCE_COLOR==="true"?xs=1:ir.FORCE_COLOR==="false"?xs=0:xs=ir.FORCE_COLOR.length===0?1:Math.min(parseInt(ir.FORCE_COLOR,10),3));function Ry(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Ty(e,t){if(xs===0)return 0;if(Pn("color=16m")||Pn("color=full")||Pn("color=truecolor"))return 3;if(Pn("color=256"))return 2;if(e&&!t&&xs===void 0)return 0;let r=xs||0;if(ir.TERM==="dumb")return r;if(process.platform==="win32"){let n=R8.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in ir)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in ir)||ir.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in ir)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ir.TEAMCITY_VERSION)?1:0;if(ir.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ir){let n=parseInt((ir.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ir.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ir.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ir.TERM)||"COLORTERM"in ir?1:r}function T8(e){let t=Ty(e,e&&e.isTTY);return Ry(t)}BR.exports={supportsColor:T8,stdout:Ry(Ty(!0,MR.isatty(1))),stderr:Ry(Ty(!0,MR.isatty(2)))}});var UR=w((pr,Nd)=>{var P8=L("tty"),$d=L("util");pr.init=N8;pr.log=C8;pr.formatArgs=k8;pr.save=I8;pr.load=$8;pr.useColors=A8;pr.destroy=$d.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");pr.colors=[6,2,3,4,5,1];try{let e=zR();e&&(e.stderr||e).level>=2&&(pr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}pr.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function A8(){return"colors"in pr.inspectOpts?Boolean(pr.inspectOpts.colors):P8.isatty(process.stderr.fd)}function k8(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+Nd.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=O8()+t+" "+e[0]}function O8(){return pr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function C8(...e){return process.stderr.write($d.format(...e)+`
`)}function I8(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function $8(){return process.env.DEBUG}function N8(e){e.inspectOpts={};let t=Object.keys(pr.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=pr.inspectOpts[t[r]]}Nd.exports=Sy()(pr);var{formatters:HR}=Nd.exports;HR.o=function(e){return this.inspectOpts.colors=this.useColors,$d.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};HR.O=function(e){return this.inspectOpts.colors=this.useColors,$d.inspect(e,this.inspectOpts)}});var Ay=w((FSe,Py)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Py.exports=DR():Py.exports=UR()});var VR=w((MSe,Cy)=>{"use strict";var j8=vy(),q8=L("events").EventEmitter,D8=L("util").inherits,sr=Ay()("avvio"),{AVV_ERR_READY_TIMEOUT:L8}=_y(),ky=Symbol.for("plugin-meta");function F8(e,t){return e[ky]&&e[ky].name?e[ky].name:typeof t<"u"&&typeof t!="function"&&t.name?t.name:e.name?e.name:e.toString().split(`
`).slice(0,2).map(r=>r.trim()).join(" -- ")}function M8(){let e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}function Wa(e,t,r,n,i){this.started=!1,this.func=t,this.opts=r,this.onFinish=null,this.parent=e,this.timeout=i===void 0?e._timeout:i,this.name=F8(t,r),this.isAfter=n,this.q=j8(e,B8,1),this.q.pause(),this._error=null,this.loaded=!1,this._promise=null}D8(Wa,q8);Wa.prototype.exec=function(e,t){let r=this.func,n=!1,i=this.name;if(this.parent._error&&!this.isAfter){sr("skipping loading of plugin as parent errored and it is not an after",i),process.nextTick(t);return}if(this.isAfter)this.server=e;else try{this.server=this.parent.override(e,r,this.opts)}catch(l){return sr("override errored",i),t(l)}this.opts=typeof this.opts=="function"?this.opts(this.server):this.opts,sr("exec",i);let s,o=l=>{if(n){sr("loading complete",i);return}this._error=l,sr(l?"exec errored":"exec completed",i),n=!0,s&&clearTimeout(s),t(l)};this.timeout>0&&(sr("setting up timeout",i,this.timeout),s=setTimeout(function(){sr("timed out",i),s=null;let l=new L8(i);l.fn=r,o(l)},this.timeout)),this.started=!0,this.emit("start",this.server?this.server.name:null,this.name,Date.now());let a=r(this.server,this.opts,o);a&&typeof a.then=="function"&&(sr("exec: resolving promise",i),a.then(()=>process.nextTick(o),l=>process.nextTick(o,l)))};Wa.prototype.loadedSoFar=function(){if(this.loaded)return Promise.resolve();let e=()=>{this.server.after((r,n)=>{this._error=r,this.q.pause(),r?(sr("rejecting promise",this.name,r),this._promise.reject(r)):(sr("resolving promise",this.name),this._promise.resolve()),this._promise=null,process.nextTick(n,r)}),this.q.resume()},t;return this._promise?t=Promise.resolve():(this._promise=M8(),t=this._promise.promise,this.server?e():this.on("start",e)),t};Wa.prototype.enqueue=function(e,t){sr("enqueue",this.name,e.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.q.push(e,t)};Wa.prototype.finish=function(e,t){sr("finish",this.name,e);let r=()=>{this.loaded||(sr("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,t(e))};if(e){this._promise&&(this._promise.reject(e),this._promise=null),r();return}let n=()=>{if(sr("check",this.name,this.q.length(),this.q.running(),this._promise),this.q.length()===0&&this.q.running()===0)if(this._promise){let i=()=>{sr("wrap"),queueMicrotask(n)};this._promise.resolve(),this._promise.promise.then(i,i),this._promise=null}else r();else sr("delayed",this.name),this.q.drain=()=>{sr("drain",this.name),this.q.drain=z8,queueMicrotask(n)}};queueMicrotask(n),this.q.resume()};function B8(e,t){let r=this;process.nextTick(Oy.bind(r),e,t)}function Oy(e,t){if(typeof e.func.then=="function"){e.func.then(n=>{typeof n.default=="function"&&(n=n.default),e.func=n,Oy.call(this,e,t)},t);return}let r=this._current[0];this._current.unshift(e),e.exec(r&&r.server||this._server,n=>{e.finish(n,i=>{this._current.shift(),t(i)})})}function z8(){}Cy.exports=Wa;Cy.exports.loadPlugin=Oy});var YR=w((BSe,qy)=>{"use strict";var GR=vy(),H8=L("events").EventEmitter,U8=L("util").inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED:Iy,AVV_ERR_CALLBACK_NOT_FN:$c,AVV_ERR_PLUGIN_NOT_VALID:V8,AVV_ERR_ROOT_PLG_BOOTED:G8,AVV_ERR_READY_TIMEOUT:W8}=_y(),K8=$R(),jy=VR(),Ka=Ay()("avvio"),jd=Symbol("kAvvio"),$y=Symbol("kThenifyDoNotWrap");function J8(e,t,r){let n=t.expose||{},i=n.use||"use",s=n.after||"after",o=n.ready||"ready",a=n.onClose||"onClose",l=n.close||"close";if(e[i])throw new Iy(i);if(e[s])throw new Iy(s);if(e[o])throw new Iy(o);e[i]=function(c,u){return r.use(c,u),this},Object.defineProperty(e,"then",{get:KR.bind(r)}),e[jd]=!0,e[s]=function(c){return typeof c!="function"?r._loadRegistered():(r.after(Ny(c,this)),this)},e[o]=function(c){if(c&&typeof c!="function")throw new $c(o,typeof c);return r.ready(c?Ny(c,this):void 0)},e[a]=function(c){if(typeof c!="function")throw new $c(a,typeof c);return r.onClose(e9(c,this)),this},e[l]=function(c){if(c&&typeof c!="function")throw new $c(l,typeof c);return c?(r.close(Ny(c,this)),this):r.close()}}function or(e,t,r){if(typeof e=="function"&&arguments.length===1&&(r=e,t={},e=null),typeof t=="function"&&(r=t,t={}),t=t||{},!(this instanceof or)){let n=new or(e,t,r);return e&&J8(e,t,n),n}t.autostart!==!1&&(t.autostart=!0),e=e||this,this._timeout=Number(t.timeout)||0,this._server=e,this._current=[],this._error=null,this._isOnCloseHandlerKey=Symbol("isOnCloseHandler"),this._lastUsed=null,this.setMaxListeners(0),r&&this.once("start",r),this.started=!1,this.booted=!1,this.pluginTree=new K8,this._readyQ=GR(this,JR,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=WR},this._closeQ=GR(this,Z8,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=WR},this._doStart=null,this._root=new jy(this,Y8.bind(this),t,!1,0),this._root.once("start",(n,i,s)=>{let o=this.pluginTree.start(null,i,s);this._root.once("loaded",(a,l,c)=>{this.pluginTree.stop(o,c)})}),jy.loadPlugin.call(this,this._root,n=>{Ka("root plugin ready");try{this.emit("preReady"),this._root=null}catch(i){n=n||this._error||i}if(n){if(this._error=n,this._readyQ.length()===0)throw n}else this.booted=!0;this._readyQ.resume()})}function Y8(e,t,r){this._doStart=r,t.autostart&&this.start()}U8(or,H8);or.prototype.start=function(){return this.started=!0,process.nextTick(this._doStart),this};or.prototype.override=function(e,t,r){return e};function X8(e){if(e&&typeof e=="object"&&typeof e.default=="function"&&(e=e.default),!(e&&(typeof e=="function"||typeof e.then=="function")))throw new V8(typeof e);return e}or.prototype[jd]=!0;or.prototype.use=function(e,t){return this._lastUsed=this._addPlugin(e,t,!1),this};or.prototype._loadRegistered=function(){let e=this._current[0];return!this.started&&!this.booted&&process.nextTick(()=>this._root.q.resume()),e?e.loadedSoFar():Promise.resolve()};Object.defineProperty(or.prototype,"then",{get:KR});or.prototype._addPlugin=function(e,t,r){if(e=X8(e),t=t||{},this.booted)throw new G8;let n=this._current[0],i=new jy(this,e,t,r);if(i.once("start",(s,o,a)=>{let l=this.pluginTree.start(n.name,o,a);i.once("loaded",(c,u,d)=>{this.pluginTree.stop(l,d)})}),n.loaded)throw new Error(i.name,n.name);return n.enqueue(i,s=>{s&&(this._error=s)}),i};or.prototype.after=function(e){if(!e)return this._loadRegistered();this._addPlugin(t.bind(this),{},!0);function t(r,n,i){JR.call(this,e,i)}return this};or.prototype.onClose=function(e){if(typeof e!="function")throw new Error("not a function");e[this._isOnCloseHandlerKey]=!0,this._closeQ.unshift(e,t.bind(this));function t(r){r&&(this._error=r)}return this};or.prototype.close=function(e){let t;if(e){if(typeof e!="function")throw new $c("close",typeof e)}else t=new Promise(function(r,n){e=function(i){if(i)return n(i);r()}});return this.ready(()=>{this._error=null,this._closeQ.push(e),process.nextTick(this._closeQ.resume.bind(this._closeQ))}),t};or.prototype.ready=function(e){if(e){if(typeof e!="function")throw new $c("ready",typeof e);this._readyQ.push(e),queueMicrotask(this.start.bind(this));return}return new Promise((t,r)=>{this._readyQ.push(i),this.start();let n=this._current[0].server;function i(s,o,a){s?r(s):t(n),process.nextTick(a)}})};or.prototype.prettyPrint=function(){return this.pluginTree.prittyPrint()};or.prototype.toJSON=function(){return this.pluginTree.toJSON()};function WR(){}function KR(){if(this.booted){Ka("thenify returning null because we are already booted");return}if(this[$y]){this[$y]=!1;return}return Ka("thenify"),(e,t)=>this._loadRegistered().then(()=>(this[$y]=!0,e(this._server)),t)}function JR(e,t,r){r=this._server;let n=this._error,i;this._error=null,e.length===0?(this._error=n,i=e(),i&&!i[jd]&&typeof i.then=="function"?i.then(()=>process.nextTick(t),s=>process.nextTick(t,s)):process.nextTick(t)):e.length===1?(i=e(n),i&&!i[jd]&&typeof i.then=="function"?i.then(()=>process.nextTick(t),s=>process.nextTick(t,s)):process.nextTick(t)):this._timeout===0?e.length===2?e(n,t):e(n,r,t):Q8.call(this,e,n,r,t)}function Q8(e,t,r,n){let i=e.name;Ka("setting up ready timeout",i,this._timeout);let s=setTimeout(()=>{Ka("timed out",i),s=null;let a=new W8(i);a.fn=e,this._error=a,n(a)},this._timeout);e.length===2?e(t,o.bind(this)):e(t,r,o.bind(this));function o(a){s&&(clearTimeout(s),this._error=a,n(this._error))}}function Z8(e,t,r){r=this._server;let n=e[this._isOnCloseHandlerKey];if(e.length===0||e.length===1){let i;n?i=e(r):i=e(this._error),i&&typeof i.then=="function"?(Ka("resolving close/onClose promise"),i.then(()=>process.nextTick(t),s=>process.nextTick(t,s))):process.nextTick(t)}else e.length===2?e(n?r:this._error,t):n?e(r,t):e(this._error,r,t)}function e9(e,t){return r.bind(t);function r(n,i){let s;e.length===0?(s=e(),s&&s.then?s.then(function(){process.nextTick(i)},i):process.nextTick(i)):e.length===1?(s=e(this),s&&s.then?s.then(function(){process.nextTick(i)},i):process.nextTick(i)):e(this,i)}}function Ny(e,t){return r.bind(t);function r(n,i){let s;e?e.length===0?(s=e(),s&&s.then?s.then(function(){process.nextTick(i,n)},i):process.nextTick(i,n)):e.length===1?(s=e(n),s&&s.then?s.then(function(){process.nextTick(i)},i):process.nextTick(i)):e.length===2?e(n,i):e(n,this,i):process.nextTick(i)}}qy.exports=or;qy.exports.express=function(e){return or(e,{expose:{use:"load"}})}});var ar=w((zSe,XR)=>{"use strict";var t9={kAvvioBoot:Symbol("fastify.avvioBoot"),kChildren:Symbol("fastify.children"),kServerBindings:Symbol("fastify.serverBindings"),kBodyLimit:Symbol("fastify.bodyLimit"),kRoutePrefix:Symbol("fastify.routePrefix"),kLogLevel:Symbol("fastify.logLevel"),kLogSerializers:Symbol("fastify.logSerializers"),kHooks:Symbol("fastify.hooks"),kContentTypeParser:Symbol("fastify.contentTypeParser"),kState:Symbol("fastify.state"),kOptions:Symbol("fastify.options"),kDisableRequestLogging:Symbol("fastify.disableRequestLogging"),kPluginNameChain:Symbol("fastify.pluginNameChain"),kRouteContext:Symbol("fastify.context"),kPublicRouteContext:Symbol("fastify.routeOptions"),kSchemaController:Symbol("fastify.schemaController"),kSchemaHeaders:Symbol("headers-schema"),kSchemaParams:Symbol("params-schema"),kSchemaQuerystring:Symbol("querystring-schema"),kSchemaBody:Symbol("body-schema"),kSchemaResponse:Symbol("response-schema"),kSchemaErrorFormatter:Symbol("fastify.schemaErrorFormatter"),kSchemaVisited:Symbol("fastify.schemas.visited"),kRequest:Symbol("fastify.Request"),kRequestValidateFns:Symbol("fastify.request.cache.validateFns"),kRequestPayloadStream:Symbol("fastify.RequestPayloadStream"),kRequestAcceptVersion:Symbol("fastify.RequestAcceptVersion"),kFourOhFour:Symbol("fastify.404"),kCanSetNotFoundHandler:Symbol("fastify.canSetNotFoundHandler"),kFourOhFourLevelInstance:Symbol("fastify.404LogLevelInstance"),kFourOhFourContext:Symbol("fastify.404ContextKey"),kDefaultJsonParse:Symbol("fastify.defaultJSONParse"),kReply:Symbol("fastify.Reply"),kReplySerializer:Symbol("fastify.reply.serializer"),kReplyIsError:Symbol("fastify.reply.isError"),kReplyHeaders:Symbol("fastify.reply.headers"),kReplyTrailers:Symbol("fastify.reply.trailers"),kReplyHasStatusCode:Symbol("fastify.reply.hasStatusCode"),kReplyHijacked:Symbol("fastify.reply.hijacked"),kReplyStartTime:Symbol("fastify.reply.startTime"),kReplyNextErrorHandler:Symbol("fastify.reply.nextErrorHandler"),kReplyEndTime:Symbol("fastify.reply.endTime"),kReplyErrorHandlerCalled:Symbol("fastify.reply.errorHandlerCalled"),kReplyIsRunningOnErrorHook:Symbol("fastify.reply.isRunningOnErrorHook"),kReplySerializerDefault:Symbol("fastify.replySerializerDefault"),kReplySerializeWeakMap:Symbol("fastify.reply.cache.serializeFns"),kTestInternals:Symbol("fastify.testInternals"),kErrorHandler:Symbol("fastify.errorHandler"),kHasBeenDecorated:Symbol("fastify.hasBeenDecorated"),kKeepAliveConnections:Symbol("fastify.keepAliveConnections"),kRouteByFastify:Symbol("fastify.routeByFastify")};XR.exports=t9});var Fy=w((HSe,qd)=>{"use strict";var{format:Dy}=L("util");function Ly(){let e={},t=new Map;function r(i,s,o){if(!i)throw new Error("Warning name must not be empty");if(!s)throw new Error("Warning code must not be empty");if(!o)throw new Error("Warning message must not be empty");if(s=s.toUpperCase(),e[s]!==void 0)throw new Error(`The code '${s}' already exist`);function a(l,c,u){let d;return l&&c&&u?d=Dy(o,l,c,u):l&&c?d=Dy(o,l,c):l?d=Dy(o,l):d=o,{code:s,name:i,message:d}}return t.set(s,!1),e[s]=a,e[s]}function n(i,s,o,a){if(t.get(i)===!0)return;if(e[i]===void 0)throw new Error(`The code '${i}' does not exist`);t.set(i,!0);let l=e[i](s,o,a);process.emitWarning(l.message,l.name,l.code)}return{create:r,emit:n,emitted:t}}qd.exports=Ly;qd.exports.default=Ly;qd.exports.processWarning=Ly});var ko=w((USe,QR)=>{"use strict";var Vn=Fy()();Vn.create("FastifyDeprecation","FSTDEP005",'You are accessing the deprecated "request.connection" property. Use "request.socket" instead.');Vn.create("FastifyDeprecation","FSTDEP006","You are decorating Request/Reply with a reference type. This reference is shared amongst all requests. Use onRequest hook instead. Property: %s");Vn.create("FastifyDeprecation","FSTDEP007",'You are trying to set a HEAD route using "exposeHeadRoute" route flag when a sibling route is already set. See documentation for more info.');Vn.create("FastifyDeprecation","FSTDEP008",'You are using route constraints via the route { version: "..." } option, use { constraints: { version: "..." } } option instead.');Vn.create("FastifyDeprecation","FSTDEP009",'You are using a custom route versioning strategy via the server { versioning: "..." } option, use { constraints: { version: "..." } } option instead.');Vn.create("FastifyDeprecation","FSTDEP010",'Modifying the "reply.sent" property is deprecated. Use the "reply.hijack()" method instead.');Vn.create("FastifyDeprecation","FSTDEP011",'Variadic listen method is deprecated. Please use ".listen(optionsObject)" instead. The variadic signature will be removed in `fastify@5`.');Vn.create("FastifyDeprecation","FSTDEP012",'Request#context property access is deprecated. Please use "Request#routeConfig" or "Request#routeSchema" instead for accessing Route settings. The "Request#context" will be removed in `fastify@5`.');Vn.create("FastifyDeprecation","FSTDEP013",'Direct return of "trailers" function is deprecated. Please use "callback" or "async-await" for return value. The support of direct return will removed in `fastify@5`.');Vn.create("FastifyDeprecation","FSTDEP014","You are trying to set/access the default route. This property is deprecated. Please, use setNotFoundHandler if you want to custom a 404 handler or the wildcard (*) to match all routes.");QR.exports=Vn});var ZR=w((VSe,Ld)=>{"use strict";var{inherits:r9,format:Dd}=L("util");function My(e,t,r=500,n=Error){if(!e)throw new Error("Fastify error code must not be empty");if(!t)throw new Error("Fastify error message must not be empty");e=e.toUpperCase();function i(s,o,a){if(!new.target)return new i(...arguments);switch(Error.captureStackTrace(this,i),this.name="FastifyError",this.code=e,arguments.length){case 3:this.message=Dd(t,s,o,a);break;case 2:this.message=Dd(t,s,o);break;case 1:this.message=Dd(t,s);break;case 0:this.message=t;break;default:this.message=Dd(t,...arguments)}this.statusCode=r||void 0}return i.prototype[Symbol.toStringTag]="Error",i.prototype.toString=function(){return`${this.name} [${this.code}]: ${this.message}`},r9(i,n),i}Ld.exports=My;Ld.exports.default=My;Ld.exports.createError=My});var Kr=w((GSe,Fd)=>{"use strict";var me=ZR(),Ja={FST_ERR_NOT_FOUND:me("FST_ERR_NOT_FOUND","Not Found",404),FST_ERR_CTP_ALREADY_PRESENT:me("FST_ERR_CTP_ALREADY_PRESENT","Content type parser '%s' already present."),FST_ERR_CTP_INVALID_TYPE:me("FST_ERR_CTP_INVALID_TYPE","The content type should be a string or a RegExp",500,TypeError),FST_ERR_CTP_EMPTY_TYPE:me("FST_ERR_CTP_EMPTY_TYPE","The content type cannot be an empty string",500,TypeError),FST_ERR_CTP_INVALID_HANDLER:me("FST_ERR_CTP_INVALID_HANDLER","The content type handler should be a function",500,TypeError),FST_ERR_CTP_INVALID_PARSE_TYPE:me("FST_ERR_CTP_INVALID_PARSE_TYPE","The body parser can only parse your data as 'string' or 'buffer', you asked '%s' which is not supported.",500,TypeError),FST_ERR_CTP_BODY_TOO_LARGE:me("FST_ERR_CTP_BODY_TOO_LARGE","Request body is too large",413,RangeError),FST_ERR_CTP_INVALID_MEDIA_TYPE:me("FST_ERR_CTP_INVALID_MEDIA_TYPE","Unsupported Media Type: %s",415),FST_ERR_CTP_INVALID_CONTENT_LENGTH:me("FST_ERR_CTP_INVALID_CONTENT_LENGTH","Request body size did not match Content-Length",400,RangeError),FST_ERR_CTP_EMPTY_JSON_BODY:me("FST_ERR_CTP_EMPTY_JSON_BODY","Body cannot be empty when content-type is set to 'application/json'",400),FST_ERR_DEC_ALREADY_PRESENT:me("FST_ERR_DEC_ALREADY_PRESENT","The decorator '%s' has already been added!"),FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:me("FST_ERR_DEC_DEPENDENCY_INVALID_TYPE","The dependencies of decorator '%s' must be of type Array."),FST_ERR_DEC_MISSING_DEPENDENCY:me("FST_ERR_DEC_MISSING_DEPENDENCY","The decorator is missing dependency '%s'."),FST_ERR_DEC_AFTER_START:me("FST_ERR_DEC_AFTER_START","The decorator '%s' has been added after start!"),FST_ERR_HOOK_INVALID_TYPE:me("FST_ERR_HOOK_INVALID_TYPE","The hook name must be a string",500,TypeError),FST_ERR_HOOK_INVALID_HANDLER:me("FST_ERR_HOOK_INVALID_HANDLER","%s hook should be a function, instead got %s",500,TypeError),FST_ERR_HOOK_INVALID_ASYNC_HANDLER:me("FST_ERR_HOOK_INVALID_ASYNC_HANDLER","Async function has too many arguments. Async hooks should not use the 'done' argument.",500,TypeError),FST_ERR_MISSING_MIDDLEWARE:me("FST_ERR_MISSING_MIDDLEWARE","You must register a plugin for handling middlewares, visit fastify.io/docs/latest/Reference/Middleware/ for more info.",500),FST_ERR_HOOK_TIMEOUT:me("FST_ERR_HOOK_TIMEOUT","A callback for '%s' hook timed out. You may have forgotten to call 'done' function or to resolve a Promise"),FST_ERR_LOG_INVALID_DESTINATION:me("FST_ERR_LOG_INVALID_DESTINATION","Cannot specify both logger.stream and logger.file options"),FST_ERR_REP_INVALID_PAYLOAD_TYPE:me("FST_ERR_REP_INVALID_PAYLOAD_TYPE","Attempted to send payload of invalid type '%s'. Expected a string or Buffer.",500,TypeError),FST_ERR_REP_ALREADY_SENT:me("FST_ERR_REP_ALREADY_SENT","Reply was already sent."),FST_ERR_REP_SENT_VALUE:me("FST_ERR_REP_SENT_VALUE","The only possible value for reply.sent is true."),FST_ERR_SEND_INSIDE_ONERR:me("FST_ERR_SEND_INSIDE_ONERR","You cannot use `send` inside the `onError` hook"),FST_ERR_SEND_UNDEFINED_ERR:me("FST_ERR_SEND_UNDEFINED_ERR","Undefined error has occurred"),FST_ERR_BAD_STATUS_CODE:me("FST_ERR_BAD_STATUS_CODE","Called reply with an invalid status code: %s"),FST_ERR_BAD_TRAILER_NAME:me("FST_ERR_BAD_TRAILER_NAME","Called reply.trailer with an invalid header name: %s"),FST_ERR_BAD_TRAILER_VALUE:me("FST_ERR_BAD_TRAILER_VALUE","Called reply.trailer('%s', fn) with an invalid type: %s. Expected a function."),FST_ERR_MISSING_SERIALIZATION_FN:me("FST_ERR_MISSING_SERIALIZATION_FN",'Missing serialization function. Key "%s"'),FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:me("FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN",'Missing serialization function. Key "%s:%s"'),FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:me("FST_ERR_REQ_INVALID_VALIDATION_INVOCATION",'Invalid validation invocation. Missing validation function for HTTP part "%s" nor schema provided.'),FST_ERR_SCH_MISSING_ID:me("FST_ERR_SCH_MISSING_ID","Missing schema $id property"),FST_ERR_SCH_ALREADY_PRESENT:me("FST_ERR_SCH_ALREADY_PRESENT","Schema with id '%s' already declared!"),FST_ERR_SCH_CONTENT_MISSING_SCHEMA:me("FST_ERR_SCH_CONTENT_MISSING_SCHEMA","Schema is missing for the content type '%s'"),FST_ERR_SCH_DUPLICATE:me("FST_ERR_SCH_DUPLICATE","Schema with '%s' already present!"),FST_ERR_SCH_VALIDATION_BUILD:me("FST_ERR_SCH_VALIDATION_BUILD","Failed building the validation schema for %s: %s, due to error %s"),FST_ERR_SCH_SERIALIZATION_BUILD:me("FST_ERR_SCH_SERIALIZATION_BUILD","Failed building the serialization schema for %s: %s, due to error %s"),FST_ERR_HTTP2_INVALID_VERSION:me("FST_ERR_HTTP2_INVALID_VERSION","HTTP2 is available only from node >= 8.8.1"),FST_ERR_INIT_OPTS_INVALID:me("FST_ERR_INIT_OPTS_INVALID","Invalid initialization options: '%s'"),FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:me("FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE","Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method"),FST_ERR_DUPLICATED_ROUTE:me("FST_ERR_DUPLICATED_ROUTE","Method '%s' already declared for route '%s'"),FST_ERR_BAD_URL:me("FST_ERR_BAD_URL","'%s' is not a valid url component",400),FST_ERR_ASYNC_CONSTRAINT:me("FST_ERR_ASYNC_CONSTRAINT","Unexpected error from async constraint",500),FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:me("FST_ERR_DEFAULT_ROUTE_INVALID_TYPE","The defaultRoute type should be a function",500,TypeError),FST_ERR_INVALID_URL:me("FST_ERR_INVALID_URL","URL must be a string. Received '%s'",400),FST_ERR_REOPENED_CLOSE_SERVER:me("FST_ERR_REOPENED_CLOSE_SERVER","Fastify has already been closed and cannot be reopened"),FST_ERR_REOPENED_SERVER:me("FST_ERR_REOPENED_SERVER","Fastify is already listening"),FST_ERR_PLUGIN_VERSION_MISMATCH:me("FST_ERR_PLUGIN_VERSION_MISMATCH","fastify-plugin: %s - expected '%s' fastify version, '%s' is installed"),FST_ERR_PLUGIN_CALLBACK_NOT_FN:me("FST_ERR_PLUGIN_CALLBACK_NOT_FN","fastify-plugin: %s"),FST_ERR_PLUGIN_NOT_VALID:me("FST_ERR_PLUGIN_NOT_VALID","fastify-plugin: %s"),FST_ERR_ROOT_PLG_BOOTED:me("FST_ERR_ROOT_PLG_BOOTED","fastify-plugin: %s"),FST_ERR_PARENT_PLUGIN_BOOTED:me("FST_ERR_PARENT_PLUGIN_BOOTED","fastify-plugin: %s"),FST_ERR_PLUGIN_TIMEOUT:me("FST_ERR_PLUGIN_TIMEOUT","fastify-plugin: %s")};function n9(e,t){return t.cause=e,t}Fd.exports=Ja;Fd.exports.appendStackTrace=n9;Fd.exports.AVVIO_ERRORS_MAP={AVV_ERR_CALLBACK_NOT_FN:Ja.FST_ERR_PLUGIN_CALLBACK_NOT_FN,AVV_ERR_PLUGIN_NOT_VALID:Ja.FST_ERR_PLUGIN_NOT_VALID,AVV_ERR_ROOT_PLG_BOOTED:Ja.FST_ERR_ROOT_PLG_BOOTED,AVV_ERR_PARENT_PLG_LOADED:Ja.FST_ERR_PARENT_PLUGIN_BOOTED,AVV_ERR_READY_TIMEOUT:Ja.FST_ERR_PLUGIN_TIMEOUT}});var lT=w((WSe,zy)=>{"use strict";var i9=L("http"),s9=L("https"),o9=L("dns"),eT=ko(),{kState:fn,kOptions:a9,kServerBindings:l9}=ar(),{FST_ERR_HTTP2_INVALID_VERSION:c9,FST_ERR_REOPENED_CLOSE_SERVER:nT,FST_ERR_REOPENED_SERVER:iT}=Kr();zy.exports.createServer=u9;zy.exports.compileValidateHTTPVersion=d9;function u9(e,t){let r=oT(e,t);return{server:r,listen:n};function n(i,...s){let o=s.slice(-1).pop(),a=Object.prototype.toString.call(arguments[0]);if(arguments.length===0)i=By([]);else if(arguments.length>0&&a!=="[object Object]"&&a!=="[object Function]")eT.emit("FSTDEP011"),i=By(Array.from(arguments)),o=i.cb;else if(s.length>1){eT.emit("FSTDEP011");let c=i.path?[i.path]:[i.port??0,i.host??"localhost"];Object.assign(i,By([...c,...s]))}else i.cb=o;let l;if(i.path==null?l=i.host??"localhost":l=i.host,Object.prototype.hasOwnProperty.call(i,"host")===!1&&(i.host=l),l==="localhost"&&(i.cb=(c,u)=>{if(c){o(c,u);return}tT.call(this,r,t,e,i,()=>{this[fn].listening=!0,o(null,u)})}),o===void 0){let c=f9.call(this,r,i);return l==="localhost"?c.then(u=>new Promise((d,h)=>{tT.call(this,r,t,e,i,()=>{this[fn].listening=!0,d(u)})})):c}this.ready(sT.call(this,r,i))}}function tT(e,t,r,n,i){this[fn].listening=!1,o9.lookup(n.host,{all:!0},(s,o)=>{if(s){i();return}let a=0,l=0,c=e.address();for(let d of o)if(d.address!==c.address){a++;let h=Object.assign({},n,{host:d.address,port:c.port,cb:m=>{l++,m||this[l9].push(f),l===a&&i()}}),f=oT(r,t),p=()=>{f.close(()=>{})};f.on("upgrade",e.emit.bind(e,"upgrade")),e.on("unref",p),e.on("close",p),e.on("error",p),sT.call(this,f,h)()}if(a===0){i();return}let u=e.unref;e.unref=function(){u.call(e),e.emit("unref")}})}function sT(e,t){let r=n=>{if(e.removeListener("error",r),n)this[fn].listening=!1,t.cb(n,null);else{let i=aT.call(this,e);t.cb(null,i)}};return n=>{if(n!=null)return t.cb(n);if(this[fn].listening&&this[fn].closing)return t.cb(new nT,null);if(this[fn].listening)return t.cb(new iT,null);e.once("error",r),e.listen(t,r),this[fn].listening=!0}}function f9(e,t){return this[fn].listening&&this[fn].closing?Promise.reject(new nT):this[fn].listening?Promise.reject(new iT):this.ready().then(()=>{let r,n=new Promise((s,o)=>{r=a=>{this[fn].listening=!1,o(a)},e.once("error",r)}),i=new Promise((s,o)=>{e.listen(t,()=>{e.removeListener("error",r),s(aT.call(this,e))}),this[fn].listening=!0});return Promise.race([n,i])})}function d9(e){let t=!1,r=new Map;return e.serverFactory&&(t=!0),e.http2?(r.set("2.0",!0),e.https&&e.https.allowHTTP1===!0&&(r.set("1.1",!0),r.set("1.0",!0))):(r.set("1.1",!0),r.set("1.0",!0)),function(i){return t||r.has(i)}}function oT(e,t){let r=null;return e.serverFactory?r=e.serverFactory(t,e):e.http2?(e.https?r=rT().createSecureServer(e.https,t):r=rT().createServer(t),r.on("session",p9(e.http2SessionTimeout))):(e.https?r=s9.createServer(e.https,t):r=i9.createServer(t),r.keepAliveTimeout=e.keepAliveTimeout,r.requestTimeout=e.requestTimeout,e.maxRequestsPerSocket>0&&(r.maxRequestsPerSocket=e.maxRequestsPerSocket)),e.serverFactory||r.setTimeout(e.connectionTimeout),r}function By(e){if(e.length===0)return{port:0,host:"localhost"};let r={cb:typeof e[e.length-1]=="function"?e.pop():void 0},n=e[0],i=e.length,s=e[i-1];return typeof n=="string"&&isNaN(n)?(r.path=n,r.backlog=i>1?s:void 0):(r.port=i>=1&&Number.isInteger(n)?n:h9(n),r.host=i>=2&&e[1]?e[1]:"localhost",r.backlog=i>=3?e[2]:void 0),r}function h9(e){let t=Number(e);return t>=0&&!Number.isNaN(t)&&Number.isInteger(t)?t:0}function aT(e){let t=e.address(),r=typeof t=="string";return r||(t.address.indexOf(":")===-1?t=t.address+":"+t.port:t="["+t.address+"]:"+t.port),t=(r?"":"http"+(this[a9].https?"s":"")+"://")+t,this.log.info("Server listening at "+t),t}function rT(){try{return L("http2")}catch{throw new c9}}function p9(e){return function(t){t.setTimeout(e,m9)}}function m9(){this.close()}});var Oo=w((KSe,mT)=>{"use strict";var g9=["onRoute","onRegister","onReady","onClose"],fT=["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError"],dT=fT.concat(g9),{FST_ERR_HOOK_INVALID_TYPE:y9,FST_ERR_HOOK_INVALID_HANDLER:b9,FST_ERR_SEND_UNDEFINED_ERR:hT,FST_ERR_HOOK_TIMEOUT:v9,AVVIO_ERRORS_MAP:cT,appendStackTrace:uT}=Kr(),{kChildren:Hy,kHooks:w9}=ar();function Md(){this.onRequest=[],this.preParsing=[],this.preValidation=[],this.preSerialization=[],this.preHandler=[],this.onResponse=[],this.onSend=[],this.onError=[],this.onRoute=[],this.onRegister=[],this.onReady=[],this.onTimeout=[]}Md.prototype.validate=function(e,t){if(typeof e!="string")throw new y9;if(dT.indexOf(e)===-1)throw new Error(`${e} hook not supported!`);if(typeof t!="function")throw new b9(e,Object.prototype.toString.call(t))};Md.prototype.add=function(e,t){this.validate(e,t),this[e].push(t)};function _9(e){let t=new Md;return t.onRequest=e.onRequest.slice(),t.preParsing=e.preParsing.slice(),t.preValidation=e.preValidation.slice(),t.preSerialization=e.preSerialization.slice(),t.preHandler=e.preHandler.slice(),t.onSend=e.onSend.slice(),t.onResponse=e.onResponse.slice(),t.onError=e.onError.slice(),t.onRoute=e.onRoute.slice(),t.onRegister=e.onRegister.slice(),t.onTimeout=e.onTimeout.slice(),t.onReady=[],t}function pT(e,t,r,n){let i=r[w9][e],s=0,o=0;l();function a(u){if(u){u.code==="AVV_ERR_READY_TIMEOUT"?u=uT(u,new v9(e)):u=cT[u.code]!=null?uT(u,new cT[u.code](u.message)):u,n(u);return}n()}function l(u){if(u){a(u);return}if(s===i.length&&o===r[Hy].length){s===0&&o===0?a():t(function(h,f){a(h),f(h)});return}if(s===i.length&&o<r[Hy].length){let d=r[Hy][o++];pT(e,t,d,l);return}t(c(i[s++],r)),l()}function c(u,d){return function(h,f){if(h){f(h);return}if(u.length===1){try{u.call(d,f)}catch(m){f(m)}return}let p=u.call(d);if(p&&typeof p.then=="function"){p.then(f,f);return}f(h)}}}function E9(e,t,r,n,i){let s=0;function o(c){if(c||s===e.length){i(c,r,n);return}let u;try{u=t(e[s++],r,n,o)}catch(d){o(d);return}u&&typeof u.then=="function"&&u.then(a,l)}function a(){o()}function l(c){c||(c=new hT),i(c,r,n)}o()}function x9(e,t,r,n,i){let s=0;function o(c,u){if(c){i(c,t,r,n);return}if(u!==void 0&&(n=u),s===e.length){i(null,t,r,n);return}let d;try{d=e[s++](t,r,n,o)}catch(h){o(h);return}d&&typeof d.then=="function"&&d.then(a,l)}function a(c){o(null,c)}function l(c){c||(c=new hT),i(c,t,r,n)}o()}function S9(e,t,r,n){if(r.sent!==!0)return e(t,r,n)}mT.exports={Hooks:Md,buildHooks:_9,hookRunner:E9,onSendHookRunner:x9,hookIterator:S9,hookRunnerApplication:pT,lifecycleHooks:fT,supportedHooks:dT}});var Wy=w((JSe,yT)=>{"use strict";var{kSchemaHeaders:Hd,kSchemaParams:Uy,kSchemaQuerystring:Vy,kSchemaBody:Gy,kSchemaResponse:gT}=ar(),R9=/^[1-5]{1}[0-9]{2}$|^[1-5]xx$|^default$/;function T9(e,t){if(!e.schema||!e.schema.response)return;let{method:r,url:n}=e.config||{};e[gT]=Object.keys(e.schema.response).reduce(function(i,s){let o=e.schema.response[s];if(s=s.toLowerCase(),!R9.exec(s))throw new Error('response schemas should be nested under a valid status code, e.g { 2xx: { type: "object" } }');if(o.content){let a={};for(let l of Object.keys(o.content)){let c=o.content[l].schema;a[l]=t({schema:c,url:n,method:r,httpStatus:s,contentType:l})}i[s]=a}else i[s]=t({schema:o,url:n,method:r,httpStatus:s});return i},{})}function P9(e,t,r){let{schema:n}=e;if(!n)return;let{method:i,url:s}=e.config||{},o=n.headers;if(o&&(r||Object.getPrototypeOf(o)!==Object.prototype))e[Hd]=t({schema:o,method:i,url:s,httpPart:"headers"});else if(o){let a={};Object.keys(o).forEach(l=>{a[l]=o[l]}),a.required instanceof Array&&(a.required=a.required.map(l=>l.toLowerCase())),o.properties&&(a.properties={},Object.keys(o.properties).forEach(l=>{a.properties[l.toLowerCase()]=o.properties[l]})),e[Hd]=t({schema:a,method:i,url:s,httpPart:"headers"})}n.body&&(e[Gy]=t({schema:n.body,method:i,url:s,httpPart:"body"})),n.querystring&&(e[Vy]=t({schema:n.querystring,method:i,url:s,httpPart:"querystring"})),n.params&&(e[Uy]=t({schema:n.params,method:i,url:s,httpPart:"params"}))}function Bd(e,t,r){let n=t[r]===void 0,i=e&&e(n?null:t[r]);return i===!1?e.errors:i&&i.error?i.error:(i&&i.value&&(t[r]=i.value),!1)}function A9(e,t){let r=Bd(e[Uy],t,"params");if(r)return zd(r,"params",e.schemaErrorFormatter);let n=Bd(e[Gy],t,"body");if(n)return zd(n,"body",e.schemaErrorFormatter);let i=Bd(e[Vy],t,"query");if(i)return zd(i,"querystring",e.schemaErrorFormatter);let s=Bd(e[Hd],t,"headers");return s?zd(s,"headers",e.schemaErrorFormatter):null}function zd(e,t,r){if(e instanceof Error)return e.statusCode=e.statusCode||400,e.validationContext=e.validationContext||t,e;let n=r(e,t);return n.statusCode=n.statusCode||400,n.validation=e,n.validationContext=t,n}yT.exports={symbols:{bodySchema:Gy,querystringSchema:Vy,responseSchema:gT,paramsSchema:Uy,headersSchema:Hd},compileSchemasForValidation:P9,compileSchemasForSerialization:T9,validate:A9}});var Ky=w((YSe,vT)=>{"use strict";var{kReplyIsError:bT,kReplyHijacked:k9}=ar();function O9(e,t){e.then(function(r){if(t[k9]!==!0&&(r!==void 0||t.sent===!1&&t.raw.headersSent===!1&&t.request.raw.aborted===!1))try{t.send(r)}catch(n){t[bT]=!0,t.send(n)}},function(r){if(t.sent===!0){t.log.error({err:r},"Promise errored, but reply.sent = true was set");return}t[bT]=!0;try{t.send(r)}catch(n){t.send(n)}})}vT.exports=O9});var Qy=w((XSe,Xy)=>{"use strict";var{validate:C9}=Wy(),{hookRunner:wT,hookIterator:_T}=Oo(),I9=Ky(),{kReplyIsError:Ud,kRouteContext:Rs}=ar();function $9(e,t,r){if(r.sent===!0)return;if(e!=null){r[Ud]=!0,r.send(e);return}let n=t.raw.method,i=t.headers,s=t[Rs];if(n==="GET"||n==="HEAD"){Ss(t,r);return}let o=i["content-type"];if(n==="POST"||n==="PUT"||n==="PATCH"||n==="TRACE"||n==="SEARCH"){o===void 0?i["transfer-encoding"]===void 0&&(i["content-length"]==="0"||i["content-length"]===void 0)?Ss(t,r):s.contentTypeParser.run("",Ss,t,r):s.contentTypeParser.run(o,Ss,t,r);return}if(n==="OPTIONS"||n==="DELETE"){o!==void 0&&(i["transfer-encoding"]!==void 0||i["content-length"]!==void 0)?s.contentTypeParser.run(o,Ss,t,r):Ss(t,r);return}Ss(t,r)}function Ss(e,t){try{e[Rs].preValidation!==null?wT(e[Rs].preValidation,_T,e,t,Jy):Jy(null,e,t)}catch(r){Jy(r,e,t)}}function Jy(e,t,r){if(r.sent===!0)return;if(e!=null){r[Ud]=!0,r.send(e);return}let n=C9(r[Rs],t);if(n){if(r[Rs].attachValidation===!1){r.send(n);return}r.request.validationError=n}t[Rs].preHandler!==null?wT(t[Rs].preHandler,_T,t,r,Yy):Yy(null,t,r)}function Yy(e,t,r){if(r.sent)return;if(e!=null){r[Ud]=!0,r.send(e);return}let n;try{n=t[Rs].handler(t,r)}catch(i){r[Ud]=!0,r.send(i);return}n!==void 0&&(n!==null&&typeof n.then=="function"?I9(n,r):r.send(n))}Xy.exports=$9;Xy.exports[Symbol.for("internals")]={handler:Ss,preHandlerCallback:Yy}});var xT=w((QSe,ET)=>{"use strict";function Ya(){}var N9={fatal:Ya,error:Ya,warn:Ya,info:Ya,debug:Ya,trace:Ya};Object.defineProperty(ET,"exports",{get(){return Object.create(N9)}})});var PT=w((ZSe,TT)=>{"use strict";var Nc=e=>e&&typeof e.message=="string",Zy=e=>{if(!e)return;let t=e.cause;if(typeof t=="function"){let r=e.cause();return Nc(r)?r:void 0}else return Nc(t)?t:void 0},ST=(e,t)=>{if(!Nc(e))return"";let r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;let n=Zy(e);return n?(t.add(e),r+`
caused by: `+ST(n,t)):r},j9=e=>ST(e,new Set),RT=(e,t,r)=>{if(!Nc(e))return"";let n=r?"":e.message||"";if(t.has(e))return n+": ...";let i=Zy(e);if(i){t.add(e);let s=typeof e.cause=="function";return n+(s?"":": ")+RT(i,t,s)}else return n},q9=e=>RT(e,new Set);TT.exports={isErrorLike:Nc,getErrorCause:Zy,stackWithCauses:j9,messageWithCauses:q9}});var CT=w((eRe,OT)=>{"use strict";OT.exports=r0;var{messageWithCauses:D9,stackWithCauses:L9,isErrorLike:AT}=PT(),{toString:F9}=Object.prototype,e0=Symbol("circular-ref-tag"),t0=Symbol("pino-raw-err-ref"),kT=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[t0]},set:function(e){this[t0]=e}}});Object.defineProperty(kT,t0,{writable:!0,value:{}});function r0(e){if(!AT(e))return e;e[e0]=void 0;let t=Object.create(kT);t.type=F9.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=D9(e),t.stack=L9(e),Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>r0(r)));for(let r in e)if(t[r]===void 0){let n=e[r];AT(n)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(n,e0)&&(t[r]=r0(n)):t[r]=n}return delete e[e0],t.raw=e,t}});var jT=w((tRe,NT)=>{"use strict";NT.exports={mapHttpRequest:M9,reqSerializer:$T};var n0=Symbol("pino-raw-req-ref"),IT=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[n0]},set:function(e){this[n0]=e}}});Object.defineProperty(IT,n0,{writable:!0,value:{}});function $T(e){let t=e.info||e.socket,r=Object.create(IT);if(r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl)r.url=e.originalUrl;else{let n=e.path;r.url=typeof n=="string"?n:e.url?e.url.path||e.url:void 0}return e.query&&(r.query=e.query),e.params&&(r.params=e.params),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function M9(e){return{req:$T(e)}}});var FT=w((rRe,LT)=>{"use strict";LT.exports={mapHttpResponse:B9,resSerializer:DT};var i0=Symbol("pino-raw-res-ref"),qT=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[i0]},set:function(e){this[i0]=e}}});Object.defineProperty(qT,i0,{writable:!0,value:{}});function DT(e){let t=Object.create(qT);return t.statusCode=e.headersSent?e.statusCode:null,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function B9(e){return{res:DT(e)}}});var o0=w((nRe,MT)=>{"use strict";var s0=CT(),Vd=jT(),Gd=FT();MT.exports={err:s0,mapHttpRequest:Vd.mapHttpRequest,mapHttpResponse:Gd.mapHttpResponse,req:Vd.reqSerializer,res:Gd.resSerializer,wrapErrorSerializer:function(t){return t===s0?t:function(n){return t(s0(n))}},wrapRequestSerializer:function(t){return t===Vd.reqSerializer?t:function(n){return t(Vd.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===Gd.resSerializer?t:function(n){return t(Gd.resSerializer(n))}}}});var a0=w((iRe,BT)=>{"use strict";function z9(e,t){return t}BT.exports=function(){let t=Error.prepareStackTrace;Error.prepareStackTrace=z9;let r=new Error().stack;if(Error.prepareStackTrace=t,!Array.isArray(r))return;let n=r.slice(2),i=[];for(let s of n)s&&i.push(s.getFileName());return i}});var HT=w((sRe,zT)=>{"use strict";var{createContext:H9,runInContext:U9}=L("vm");zT.exports=V9;function V9(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=e;return function({paths:i}){i.forEach(s=>{if(typeof s!="string")throw Error(t());try{if(//.test(s))throw Error();let o=new Proxy({},{get:()=>o,set:()=>{throw Error()}}),a=(s[0]==="["?"":".")+s.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(a)||/\/\*/.test(a))throw Error();U9(`
          (function () {
            'use strict'
            o${a}
            if ([o${a}].length !== 1) throw Error()
          })()
        `,H9({o,"\u3007":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch{throw Error(r(s))}})}}});var Wd=w((oRe,UT)=>{"use strict";UT.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var GT=w((aRe,VT)=>{"use strict";var G9=Wd();VT.exports=W9;function W9({paths:e}){let t=[];var r=0;let n=e.reduce(function(i,s,o){var a=s.match(G9).map(u=>u.replace(/'|"|`/g,""));let l=s[0]==="[";a=a.map(u=>u[0]==="["?u.substr(1,u.length-2):u);let c=a.indexOf("*");if(c>-1){let u=a.slice(0,c),d=u.join("."),h=a.slice(c+1,a.length),f=h.length>0;r++,t.push({before:u,beforeStr:d,after:h,nested:f})}else i[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:l};return i},{});return{wildcards:t,wcLen:r,secret:n}}});var KT=w((lRe,WT)=>{"use strict";var K9=Wd();WT.exports=J9;function J9({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i,censorFctTakesPath:s},o){let a=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${Z9(n,t)}
    }
    const { censor, secret } = this
    ${Y9(e,i,s)}
    this.compileRestore()
    ${X9(r>0,i,s)}
    ${Q9(t)}
  `).bind(o);return t===!1&&(a.restore=l=>o.restore(l)),a}function Y9(e,t,r){return Object.keys(e).map(n=>{let{escPath:i,leadingBracket:s,path:o}=e[n],a=s?1:0,l=s?"":".",c=[];for(var u;(u=K9.exec(n))!==null;){let[,p]=u,{index:m,input:v}=u;m>a&&c.push(v.substring(0,m-(p?0:1)))}var d=c.map(p=>`o${l}${p}`).join(" && ");d.length===0?d+=`o${l}${n} != null`:d+=` && o${l}${n} != null`;let h=`
      switch (true) {
        ${c.reverse().map(p=>`
          case o${l}${p} === censor:
            secret[${i}].circle = ${JSON.stringify(p)}
            break
        `).join(`
`)}
      }
    `,f=r?`val, ${JSON.stringify(o)}`:"val";return`
      if (${d}) {
        const val = o${l}${n}
        if (val === censor) {
          secret[${i}].precensored = true
        } else {
          secret[${i}].val = val
          o${l}${n} = ${t?`censor(${f})`:"censor"}
          ${h}
        }
      }
    `}).join(`
`)}function X9(e,t,r){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t}, ${r})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t}, ${r})
      }
    }
  `:""}function Q9(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function Z9(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var l0=w((cRe,YT)=>{"use strict";YT.exports={groupRedact:tV,groupRestore:eV,nestedRedact:nV,nestedRestore:rV};function eV({keys:e,values:t,target:r}){if(r==null)return;let n=e.length;for(var i=0;i<n;i++){let s=e[i];r[s]=t[i]}}function tV(e,t,r,n,i){let s=JT(e,t);if(s==null)return{keys:null,values:null,target:null,flat:!0};let o=Object.keys(s),a=o.length,l=t.length,c=i?[...t]:void 0,u=new Array(a);for(var d=0;d<a;d++){let h=o[d];u[d]=s[h],i?(c[l]=h,s[h]=r(s[h],c)):n?s[h]=r(s[h]):s[h]=r}return{keys:o,values:u,target:s,flat:!0}}function rV(e){let t=e.length;for(var r=0;r<t;r++){let{key:i,target:s,value:o}=e[r];if(Kd(s,i)&&(s[i]=o),typeof s=="object"){let a=Object.keys(s);for(var n=0;n<a.length;n++){let l=a[n],c=s[l];Kd(c,i)&&(c[i]=o)}}}}function nV(e,t,r,n,i,s,o){let a=JT(t,r);if(a==null)return;let l=Object.keys(a),c=l.length;for(var u=0;u<c;u++){let d=l[u],{value:h,parent:f,exists:p}=iV(a,d,r,n,i,s,o);p===!0&&f!==null&&e.push({key:n[n.length-1],target:f,value:h})}return e}function Kd(e,t){return e!=null?"hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t):!1}function iV(e,t,r,n,i,s,o){let a=n.length,l=a-1,c=t;var u=-1,d,h,f,p=null,m=!0,v=null;if(f=d=e[t],typeof d!="object")return{value:null,parent:null,exists:m};for(;d!=null&&++u<a;){if(t=n[u],p=f,t!=="*"&&!v&&!(typeof d=="object"&&t in d)){m=!1;break}if(!(t==="*"&&(v=t,u!==l))){if(v){let E=Object.keys(d);for(var y=0;y<E.length;y++){let b=E[y],g=d[b],P=t==="*";(P||typeof g=="object"&&g!==null&&t in g)&&(P?f=g:f=g[t],h=u!==l?f:s?o?i(f,[...r,c,...n]):i(f):i,P?d[b]=h:g[t]===h?m=!1:g[t]=h===void 0&&i!==void 0||Kd(g,t)&&h===f?g[t]:h)}v=null}else f=d[t],h=u!==l?f:s?o?i(f,[...r,c,...n]):i(f):i,d[t]=Kd(d,t)&&h===f||h===void 0&&i!==void 0?d[t]:h,d=d[t];if(typeof d!="object")break;f===p&&(m=!1)}}return{value:f,parent:p,exists:m}}function JT(e,t){for(var r=-1,n=t.length,i=e;i!=null&&++r<n;)i=i[t[r]];return i}});var QT=w((uRe,XT)=>{"use strict";var{groupRestore:sV,nestedRestore:oV}=l0();XT.exports=aV;function aV({secret:e,wcLen:t}){return function(){if(this.restore)return;let n=Object.keys(e),i=lV(e,n),s=t>0,o=s?{secret:e,groupRestore:sV,nestedRestore:oV}:{secret:e};this.restore=Function("o",cV(i,n,s)).bind(o)}}function lV(e,t){return t.map(r=>{let{circle:n,escPath:i,leadingBracket:s}=e[r],a=n?`o.${n} = secret[${i}].val`:`o${s?"":"."}${r} = secret[${i}].val`,l=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${l}
      }
    `}).join("")}function cV(e,t,r){return`
    const secret = this.secret
    ${r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:""}
    ${e}
    return o
  `}});var eP=w((fRe,ZT)=>{"use strict";ZT.exports=uV;function uV(e){let{secret:t,censor:r,compileRestore:n,serialize:i,groupRedact:s,nestedRedact:o,wildcards:a,wcLen:l}=e,c=[{secret:t,censor:r,compileRestore:n}];return i!==!1&&c.push({serialize:i}),l>0&&c.push({groupRedact:s,nestedRedact:o,wildcards:a,wcLen:l}),Object.assign(...c)}});var nP=w((dRe,rP)=>{"use strict";var tP=HT(),fV=GT(),dV=KT(),hV=QT(),{groupRedact:pV,nestedRedact:mV}=l0(),gV=eP(),yV=Wd(),bV=tP(),c0=e=>e;c0.restore=c0;var vV="[REDACTED]";u0.rx=yV;u0.validator=tP;rP.exports=u0;function u0(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let i=n===!0?void 0:"censor"in e?e.censor:vV,s=typeof i=="function",o=s&&i.length>1;if(t.length===0)return r||c0;bV({paths:t,serialize:r,censor:i});let{wildcards:a,wcLen:l,secret:c}=fV({paths:t,censor:i}),u=hV({secret:c,wcLen:l}),d="strict"in e?e.strict:!0;return dV({secret:c,wcLen:l,serialize:r,strict:d,isCensorFct:s,censorFctTakesPath:o},gV({secret:c,censor:i,compileRestore:u,serialize:r,groupRedact:pV,nestedRedact:mV,wildcards:a,wcLen:l}))}});var Xa=w((hRe,iP)=>{"use strict";var wV=Symbol("pino.setLevel"),_V=Symbol("pino.getLevel"),EV=Symbol("pino.levelVal"),xV=Symbol("pino.useLevelLabels"),SV=Symbol("pino.useOnlyCustomLevels"),RV=Symbol("pino.mixin"),TV=Symbol("pino.lsCache"),PV=Symbol("pino.chindings"),AV=Symbol("pino.asJson"),kV=Symbol("pino.write"),OV=Symbol("pino.redactFmt"),CV=Symbol("pino.time"),IV=Symbol("pino.timeSliceIndex"),$V=Symbol("pino.stream"),NV=Symbol("pino.stringify"),jV=Symbol("pino.stringifySafe"),qV=Symbol("pino.stringifiers"),DV=Symbol("pino.end"),LV=Symbol("pino.formatOpts"),FV=Symbol("pino.messageKey"),MV=Symbol("pino.errorKey"),BV=Symbol("pino.nestedKey"),zV=Symbol("pino.nestedKeyStr"),HV=Symbol("pino.mixinMergeStrategy"),UV=Symbol("pino.msgPrefix"),VV=Symbol("pino.wildcardFirst"),GV=Symbol.for("pino.serializers"),WV=Symbol.for("pino.formatters"),KV=Symbol.for("pino.hooks"),JV=Symbol.for("pino.metadata");iP.exports={setLevelSym:wV,getLevelSym:_V,levelValSym:EV,useLevelLabelsSym:xV,mixinSym:RV,lsCacheSym:TV,chindingsSym:PV,asJsonSym:AV,writeSym:kV,serializersSym:GV,redactFmtSym:OV,timeSym:CV,timeSliceIndexSym:IV,streamSym:$V,stringifySym:NV,stringifySafeSym:jV,stringifiersSym:qV,endSym:DV,formatOptsSym:LV,messageKeySym:FV,errorKeySym:MV,nestedKeySym:BV,wildcardFirstSym:VV,needsMetadataGsym:JV,useOnlyCustomLevelsSym:SV,formattersSym:WV,hooksSym:KV,nestedKeyStrSym:zV,mixinMergeStrategySym:HV,msgPrefixSym:UV}});var h0=w((pRe,lP)=>{"use strict";var d0=nP(),{redactFmtSym:YV,wildcardFirstSym:Jd}=Xa(),{rx:f0,validator:XV}=d0,sP=XV({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),oP="[Redacted]",aP=!1;function QV(e,t){let{paths:r,censor:n}=ZV(e),i=r.reduce((a,l)=>{f0.lastIndex=0;let c=f0.exec(l),u=f0.exec(l),d=c[1]!==void 0?c[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):c[0];if(d==="*"&&(d=Jd),u===null)return a[d]=null,a;if(a[d]===null)return a;let{index:h}=u,f=`${l.substr(h,l.length-1)}`;return a[d]=a[d]||[],d!==Jd&&a[d].length===0&&a[d].push(...a[Jd]||[]),d===Jd&&Object.keys(a).forEach(function(p){a[p]&&a[p].push(f)}),a[d].push(f),a},{}),s={[YV]:d0({paths:r,censor:n,serialize:t,strict:aP})},o=(...a)=>t(typeof n=="function"?n(...a):n);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((a,l)=>{if(i[l]===null)a[l]=c=>o(c,[l]);else{let c=typeof n=="function"?(u,d)=>n(u,[l,...d]):n;a[l]=d0({paths:i[l],censor:c,serialize:t,strict:aP})}return a},s)}function ZV(e){if(Array.isArray(e))return e={paths:e,censor:oP},sP(e),e;let{paths:t,censor:r=oP,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),sP({paths:t,censor:r}),{paths:t,censor:r}}lP.exports=QV});var uP=w((mRe,cP)=>{"use strict";var e7=()=>"",t7=()=>`,"time":${Date.now()}`,r7=()=>`,"time":${Math.round(Date.now()/1e3)}`,n7=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;cP.exports={nullTime:e7,epochTime:t7,unixTime:r7,isoTime:n7}});var dP=w((gRe,fP)=>{"use strict";function i7(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}fP.exports=s7;function s7(e,t,r){var n=r&&r.stringify||i7,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var l=t.length;if(l===0)return e;for(var c="",u=1-i,d=-1,h=e&&e.length||0,f=0;f<h;){if(e.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=l||t[u]==null)break;d<f&&(c+=e.slice(d,f)),c+=Number(t[u]),d=f+2,f++;break;case 105:if(u>=l||t[u]==null)break;d<f&&(c+=e.slice(d,f)),c+=Math.floor(Number(t[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=l||t[u]===void 0)break;d<f&&(c+=e.slice(d,f));var p=typeof t[u];if(p==="string"){c+="'"+t[u]+"'",d=f+2,f++;break}if(p==="function"){c+=t[u].name||"<anonymous>",d=f+2,f++;break}c+=n(t[u]),d=f+2,f++;break;case 115:if(u>=l)break;d<f&&(c+=e.slice(d,f)),c+=String(t[u]),d=f+2,f++;break;case 37:d<f&&(c+=e.slice(d,f)),c+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?e:(d<h&&(c+=e.slice(d)),c)}});var m0=w((yRe,p0)=>{"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));p0.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};p0.exports=e}});var yP=w((bRe,gP)=>{"use strict";var Jr=L("fs"),o7=L("events"),a7=L("util").inherits,hP=L("path"),pP=m0(),g0=100,l7=16*1024;function mP(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;function r(s,o){if(s){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",s)}):t.emit("error",s);return}t.fd=o,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t._reopening&&!t._writing&&t._len>t.minLength&&!t.destroyed&&Qa(t)}let n=t.append?"a":"w",i=t.mode;if(t.sync)try{t.mkdir&&Jr.mkdirSync(hP.dirname(e),{recursive:!0});let s=Jr.openSync(e,n,i);r(null,s)}catch(s){throw r(s),s}else t.mkdir?Jr.mkdir(hP.dirname(e),{recursive:!0},s=>{if(s)return r(s);Jr.open(e,n,i,r)}):Jr.open(e,n,i,r)}function Yr(e){if(!(this instanceof Yr))return new Yr(e);let{fd:t,dest:r,minLength:n,maxLength:i,maxWrite:s,sync:o,append:a=!0,mode:l,mkdir:c,retryEAGAIN:u,fsync:d}=e||{};if(t=t||r,this._bufs=[],this._len=0,this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._hwm=Math.max(n||0,16387),this.file=null,this.destroyed=!1,this.minLength=n||0,this.maxLength=i||0,this.maxWrite=s||l7,this.sync=o||!1,this._fsync=d||!1,this.append=a||!1,this.mode=l,this.retryEAGAIN=u||(()=>!0),this.mkdir=c||!1,typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")mP(t,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(h,f)=>{if(h){if(h.code==="EAGAIN"&&this.retryEAGAIN(h,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{pP(g0),this.release(void 0,0)}catch(m){this.release(m)}else setTimeout(()=>{Jr.write(this.fd,this._writingBuf,"utf8",this.release)},g0);else this._writing=!1,this.emit("error",h);return}if(this.emit("write",f),this._len-=f,this._len<0&&(this._len=0),this._writingBuf=this._writingBuf.slice(f),this._writingBuf.length){if(!this.sync){Jr.write(this.fd,this._writingBuf,"utf8",this.release);return}try{do{let m=Jr.writeSync(this.fd,this._writingBuf,"utf8");this._len-=m,this._writingBuf=this._writingBuf.slice(m)}while(this._writingBuf)}catch(m){this.release(m);return}}this._fsync&&Jr.fsyncSync(this.fd);let p=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):p>this.minLength?Qa(this):this._ending?p>0?Qa(this):(this._writing=!1,Yd(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(c7,this)):this.emit("drain"))},this.on("newListener",function(h){h==="drain"&&(this._asyncDrainScheduled=!1)})}function c7(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}a7(Yr,o7);Yr.prototype.write=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&Qa(this),this._len<this._hwm)};Yr.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||(this._bufs.length===0&&this._bufs.push(""),Qa(this))};Yr.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&Jr.close(t,r=>{if(r)return this.emit("error",r)})}),mP(e||this.file,this)};Yr.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?Qa(this):Yd(this)))};Yr.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e.length;){e.length<=0&&(e=this._bufs[0]);try{let t=Jr.writeSync(this.fd,e,"utf8");e=e.slice(t),this._len=Math.max(this._len-t,0),e.length<=0&&this._bufs.shift()}catch(t){if(t.code!=="EAGAIN"||!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;pP(g0)}}};Yr.prototype.destroy=function(){this.destroyed||Yd(this)};function Qa(e){let t=e.release;if(e._writing=!0,e._writingBuf=e._writingBuf||e._bufs.shift()||"",e.sync)try{let r=Jr.writeSync(e.fd,e._writingBuf,"utf8");t(null,r)}catch(r){t(r)}else Jr.write(e.fd,e._writingBuf,"utf8",t)}function Yd(e){if(e.fd===-1){e.once("ready",Yd.bind(null,e));return}e.destroyed=!0,e._bufs=[],e.fd!==1&&e.fd!==2?Jr.close(e.fd,t):setImmediate(t);function t(r){if(r){e.emit("error",r);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}}Yr.SonicBoom=Yr;Yr.default=Yr;gP.exports=Yr});var y0=w((vRe,xP)=>{"use strict";var Ts={exit:[],beforeExit:[]},bP={exit:f7,beforeExit:d7},vP=new FinalizationRegistry(h7);function u7(e){Ts[e].length>0||process.on(e,bP[e])}function wP(e){Ts[e].length>0||process.removeListener(e,bP[e])}function f7(){_P("exit")}function d7(){_P("beforeExit")}function _P(e){for(let t of Ts[e]){let r=t.deref(),n=t.fn;r!==void 0&&n(r,e)}}function h7(e){for(let t of["exit","beforeExit"]){let r=Ts[t].indexOf(e);Ts[t].splice(r,r+1),wP(t)}}function EP(e,t,r){if(t===void 0)throw new Error("the object can't be undefined");u7(e);let n=new WeakRef(t);n.fn=r,vP.register(t,n),Ts[e].push(n)}function p7(e,t){EP("exit",e,t)}function m7(e,t){EP("beforeExit",e,t)}function g7(e){vP.unregister(e);for(let t of["exit","beforeExit"])Ts[t]=Ts[t].filter(r=>{let n=r.deref();return n&&n!==e}),wP(t)}xP.exports={register:p7,registerBeforeExit:m7,unregister:g7}});var SP=w((wRe,y7)=>{y7.exports={name:"thread-stream",version:"2.3.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^18.0.0","@types/tap":"^15.0.0",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^8.0.1","sonic-boom":"^3.0.0",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^4.7.2","why-is-node-running":"^2.2.2"},scripts:{test:"standard && npm run transpile && tap test/*.test.*js && tap --ts test/*.test.*ts","test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var TP=w((_Re,RP)=>{"use strict";function b7(e,t,r,n,i){let s=Date.now()+n,o=Atomics.load(e,t);if(o===r){i(null,"ok");return}let a=o,l=c=>{Date.now()>s?i(null,"timed-out"):setTimeout(()=>{a=o,o=Atomics.load(e,t),o===a?l(c>=1e3?1e3:c*2):o===r?i(null,"ok"):i(null,"not-equal")},c)};l(1)}function v7(e,t,r,n,i){let s=Date.now()+n,o=Atomics.load(e,t);if(o!==r){i(null,"ok");return}let a=l=>{Date.now()>s?i(null,"timed-out"):setTimeout(()=>{o=Atomics.load(e,t),o!==r?i(null,"ok"):a(l>=1e3?1e3:l*2)},l)};a(1)}RP.exports={wait:b7,waitDiff:v7}});var AP=w((ERe,PP)=>{"use strict";PP.exports={WRITE_INDEX:4,READ_INDEX:8}});var $P=w((SRe,IP)=>{"use strict";var{version:w7}=SP(),{EventEmitter:_7}=L("events"),{Worker:E7}=L("worker_threads"),{join:x7}=L("path"),{pathToFileURL:S7}=L("url"),{wait:R7}=TP(),{WRITE_INDEX:Xr,READ_INDEX:yi}=AP(),T7=L("buffer"),P7=L("assert"),K=Symbol("kImpl"),A7=T7.constants.MAX_STRING_LENGTH,Qd=class{constructor(t){this._value=t}deref(){return this._value}},k7=global.FinalizationRegistry||class{register(){}unregister(){}},O7=global.WeakRef||Qd,kP=new k7(e=>{e.exited||e.terminate()});function C7(e,t){let{filename:r,workerData:n}=t,s=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||x7(__dirname,"lib","worker.js"),o=new E7(s,{...t.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:S7(r).href,dataBuf:e[K].dataBuf,stateBuf:e[K].stateBuf,workerData:{$context:{threadStreamVersion:w7},...n}}});return o.stream=new Qd(e),o.on("message",I7),o.on("exit",CP),kP.register(e,o),o}function OP(e){P7(!e[K].sync),e[K].needDrain&&(e[K].needDrain=!1,e.emit("drain"))}function Xd(e){let t=Atomics.load(e[K].state,Xr),r=e[K].data.length-t;if(r>0){if(e[K].buf.length===0){e[K].flushing=!1,e[K].ending?E0(e):e[K].needDrain&&process.nextTick(OP,e);return}let n=e[K].buf.slice(0,r),i=Buffer.byteLength(n);i<=r?(e[K].buf=e[K].buf.slice(r),Zd(e,n,Xd.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[K].state,yi,0),Atomics.store(e[K].state,Xr,0);i>e[K].data.length;)r=r/2,n=e[K].buf.slice(0,r),i=Buffer.byteLength(n);e[K].buf=e[K].buf.slice(r),Zd(e,n,Xd.bind(null,e))}})}else if(r===0){if(t===0&&e[K].buf.length===0)return;e.flush(()=>{Atomics.store(e[K].state,yi,0),Atomics.store(e[K].state,Xr,0),Xd(e)})}else bi(e,new Error("overwritten"))}function I7(e){let t=this.stream.deref();if(t===void 0){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new O7(t),t.flush(()=>{t[K].ready=!0,t.emit("ready")});break;case"ERROR":bi(t,e.err);break;case"EVENT":Array.isArray(e.args)?t.emit(e.name,...e.args):t.emit(e.name,e.args);break;default:bi(t,new Error("this should not happen: "+e.code))}}function CP(e){let t=this.stream.deref();t!==void 0&&(kP.unregister(t),t.worker.exited=!0,t.worker.off("exit",CP),bi(t,e!==0?new Error("the worker thread exited"):null))}var v0=class extends _7{constructor(t={}){if(super(),t.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[K]={},this[K].stateBuf=new SharedArrayBuffer(128),this[K].state=new Int32Array(this[K].stateBuf),this[K].dataBuf=new SharedArrayBuffer(t.bufferSize||4*1024*1024),this[K].data=Buffer.from(this[K].dataBuf),this[K].sync=t.sync||!1,this[K].ending=!1,this[K].ended=!1,this[K].needDrain=!1,this[K].destroyed=!1,this[K].flushing=!1,this[K].ready=!1,this[K].finished=!1,this[K].errored=null,this[K].closed=!1,this[K].buf="",this.worker=C7(this,t)}write(t){if(this[K].destroyed)return w0(this,new Error("the worker has exited")),!1;if(this[K].ending)return w0(this,new Error("the worker is ending")),!1;if(this[K].flushing&&this[K].buf.length+t.length>=A7)try{b0(this),this[K].flushing=!0}catch(r){return bi(this,r),!1}if(this[K].buf+=t,this[K].sync)try{return b0(this),!0}catch(r){return bi(this,r),!1}return this[K].flushing||(this[K].flushing=!0,setImmediate(Xd,this)),this[K].needDrain=this[K].data.length-this[K].buf.length-Atomics.load(this[K].state,Xr)<=0,!this[K].needDrain}end(){this[K].destroyed||(this[K].ending=!0,E0(this))}flush(t){if(this[K].destroyed){typeof t=="function"&&process.nextTick(t,new Error("the worker has exited"));return}let r=Atomics.load(this[K].state,Xr);R7(this[K].state,yi,r,1/0,(n,i)=>{if(n){bi(this,n),process.nextTick(t,n);return}if(i==="not-equal"){this.flush(t);return}process.nextTick(t)})}flushSync(){this[K].destroyed||(b0(this),_0(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[K].ready}get destroyed(){return this[K].destroyed}get closed(){return this[K].closed}get writable(){return!this[K].destroyed&&!this[K].ending}get writableEnded(){return this[K].ending}get writableFinished(){return this[K].finished}get writableNeedDrain(){return this[K].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[K].errored}};function w0(e,t){setImmediate(()=>{e.emit("error",t)})}function bi(e,t){e[K].destroyed||(e[K].destroyed=!0,t&&(e[K].errored=t,w0(e,t)),e.worker.exited?setImmediate(()=>{e[K].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[K].closed=!0,e.emit("close")}))}function Zd(e,t,r){let n=Atomics.load(e[K].state,Xr),i=Buffer.byteLength(t);return e[K].data.write(t,n),Atomics.store(e[K].state,Xr,n+i),Atomics.notify(e[K].state,Xr),r(),!0}function E0(e){if(!(e[K].ended||!e[K].ending||e[K].flushing)){e[K].ended=!0;try{e.flushSync();let t=Atomics.load(e[K].state,yi);Atomics.store(e[K].state,Xr,-1),Atomics.notify(e[K].state,Xr);let r=0;for(;t!==-1;){if(Atomics.wait(e[K].state,yi,t,1e3),t=Atomics.load(e[K].state,yi),t===-2){bi(e,new Error("end() failed"));return}if(++r===10){bi(e,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{e[K].finished=!0,e.emit("finish")})}catch(t){bi(e,t)}}}function b0(e){let t=()=>{e[K].ending?E0(e):e[K].needDrain&&process.nextTick(OP,e)};for(e[K].flushing=!1;e[K].buf.length!==0;){let r=Atomics.load(e[K].state,Xr),n=e[K].data.length-r;if(n===0){_0(e),Atomics.store(e[K].state,yi,0),Atomics.store(e[K].state,Xr,0);continue}else if(n<0)throw new Error("overwritten");let i=e[K].buf.slice(0,n),s=Buffer.byteLength(i);if(s<=n)e[K].buf=e[K].buf.slice(n),Zd(e,i,t);else{for(_0(e),Atomics.store(e[K].state,yi,0),Atomics.store(e[K].state,Xr,0);s>e[K].buf.length;)n=n/2,i=e[K].buf.slice(0,n),s=Buffer.byteLength(i);e[K].buf=e[K].buf.slice(n),Zd(e,i,t)}}}function _0(e){if(e[K].flushing)throw new Error("unable to flush while flushing");let t=Atomics.load(e[K].state,Xr),r=0;for(;;){let n=Atomics.load(e[K].state,yi);if(n===-2)throw Error("_flushSync failed");if(n!==t)Atomics.wait(e[K].state,yi,n,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}IP.exports=v0});var R0=w((RRe,NP)=>{"use strict";var{createRequire:$7}=L("module"),N7=a0(),{join:x0,isAbsolute:j7}=L("path"),q7=m0(),S0=y0(),D7=$P();function L7(e){S0.register(e,M7),S0.registerBeforeExit(e,B7),e.on("close",function(){S0.unregister(e)})}function F7(e,t,r){let n=new D7({filename:e,workerData:t,workerOpts:r});n.on("ready",i),n.on("close",function(){process.removeListener("exit",s)}),process.on("exit",s);function i(){process.removeListener("exit",s),n.unref(),r.autoEnd!==!1&&L7(n)}function s(){n.closed||(n.flushSync(),q7(100),n.end())}return n}function M7(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}function B7(e){e.flushSync()}function z7(e){let{pipeline:t,targets:r,levels:n,options:i={},worker:s={},caller:o=N7()}=e,a=typeof o=="string"?[o]:o,l="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},c=e.target;if(c&&r)throw new Error("only one of target or targets can be specified");return r?(c=l["pino-worker"]||x0(__dirname,"worker.js"),i.targets=r.map(d=>({...d,target:u(d.target)}))):t&&(c=l["pino-pipeline-worker"]||x0(__dirname,"worker-pipeline.js"),i.targets=t.map(d=>({...d,target:u(d.target)}))),n&&(i.levels=n),F7(u(c),i,s);function u(d){if(d=l[d]||d,j7(d)||d.indexOf("file://")===0)return d;if(d==="pino/file")return x0(__dirname,"..","file.js");let h;for(let f of a)try{h=$7(f).resolve(d);break}catch{continue}if(!h)throw new Error(`unable to determine transport target for "${d}"`);return h}}NP.exports=z7});var rh=w((TRe,GP)=>{"use strict";var jP=dP(),{mapHttpRequest:H7,mapHttpResponse:U7}=o0(),T0=yP(),qP=y0(),{lsCacheSym:V7,chindingsSym:MP,writeSym:DP,serializersSym:BP,formatOptsSym:LP,endSym:G7,stringifiersSym:zP,stringifySym:HP,stringifySafeSym:P0,wildcardFirstSym:UP,nestedKeySym:W7,formattersSym:VP,messageKeySym:K7,errorKeySym:J7,nestedKeyStrSym:Y7,msgPrefixSym:eh}=Xa(),{isMainThread:X7}=L("worker_threads"),Q7=R0();function Za(){}function Z7(e,t){if(!t)return r;return function(...i){t.call(this,i,r,e)};function r(n,...i){if(typeof n=="object"){let s=n;n!==null&&(n.method&&n.headers&&n.socket?n=H7(n):typeof n.setHeader=="function"&&(n=U7(n)));let o;s===null&&i.length===0?o=[null]:(s=i.shift(),o=i),typeof this[eh]=="string"&&s!==void 0&&s!==null&&(s=this[eh]+s),this[DP](n,jP(s,o,this[LP]),e)}else{let s=n===void 0?i.shift():n;typeof this[eh]=="string"&&s!==void 0&&s!==null&&(s=this[eh]+s),this[DP](null,jP(s,i,this[LP]),e)}}}function FP(e){let t="",r=0,n=!1,i=255,s=e.length;if(s>100)return JSON.stringify(e);for(var o=0;o<s&&i>=32;o++)i=e.charCodeAt(o),(i===34||i===92)&&(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}function eG(e,t,r,n){let i=this[HP],s=this[P0],o=this[zP],a=this[G7],l=this[MP],c=this[BP],u=this[VP],d=this[K7],h=this[J7],f=this[V7][r]+n;f=f+l;let p;u.log&&(e=u.log(e));let m=o[UP],v="";for(let E in e)if(p=e[E],Object.prototype.hasOwnProperty.call(e,E)&&p!==void 0){c[E]?p=c[E](p):E===h&&c.err&&(p=c.err(p));let b=o[E]||m;switch(typeof p){case"undefined":case"function":continue;case"number":Number.isFinite(p)===!1&&(p=null);case"boolean":b&&(p=b(p));break;case"string":p=(b||FP)(p);break;default:p=(b||i)(p,s)}if(p===void 0)continue;v+=',"'+E+'":'+p}let y="";if(t!==void 0){p=c[d]?c[d](t):t;let E=o[d]||m;switch(typeof p){case"function":break;case"number":Number.isFinite(p)===!1&&(p=null);case"boolean":E&&(p=E(p)),y=',"'+d+'":'+p;break;case"string":p=(E||FP)(p),y=',"'+d+'":'+p;break;default:p=(E||i)(p,s),y=',"'+d+'":'+p}}return this[W7]&&v?f+this[Y7]+v.slice(1)+"}"+y+a:f+v+y+a}function tG(e,t){let r,n=e[MP],i=e[HP],s=e[P0],o=e[zP],a=o[UP],l=e[BP],c=e[VP].bindings;t=c(t);for(let u in t)if(r=t[u],(u!=="level"&&u!=="serializers"&&u!=="formatters"&&u!=="customLevels"&&t.hasOwnProperty(u)&&r!==void 0)===!0){if(r=l[u]?l[u](r):r,r=(o[u]||a||i)(r,s),r===void 0)continue;n+=',"'+u+'":'+r}return n}function rG(e){return e.write!==e.constructor.prototype.write}function th(e){let t=new T0(e);return t.on("error",r),!e.sync&&X7&&(qP.register(t,nG),t.on("close",function(){qP.unregister(t)})),t;function r(n){if(n.code==="EPIPE"){t.write=Za,t.end=Za,t.flushSync=Za,t.destroy=Za;return}t.removeListener("error",r),t.emit("error",n)}}function nG(e,t){e.destroyed||(t==="beforeExit"?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}function iG(e){return function(r,n,i={},s){if(typeof i=="string")s=th({dest:i}),i={};else if(typeof s=="string"){if(i&&i.transport)throw Error("only one of option.transport or stream can be specified");s=th({dest:s})}else if(i instanceof T0||i.writable||i._writableState)s=i,i={};else if(i.transport){if(i.transport instanceof T0||i.transport.writable||i.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(i.transport.targets&&i.transport.targets.length&&i.formatters&&typeof i.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let l;i.customLevels&&(l=i.useOnlyCustomLevels?i.customLevels:Object.assign({},i.levels,i.customLevels)),s=Q7({caller:n,...i.transport,levels:l})}if(i=Object.assign({},e,i),i.serializers=Object.assign({},e.serializers,i.serializers),i.formatters=Object.assign({},e.formatters,i.formatters),i.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:o,onChild:a}=i;return o===!1&&(i.level="silent"),a||(i.onChild=Za),s||(rG(process.stdout)?s=process.stdout:s=th({fd:process.stdout.fd||1})),{opts:i,stream:s}}}function sG(e,t){try{return JSON.stringify(e)}catch{try{return(t||this[P0])(e)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function oG(e,t,r){return{level:e,bindings:t,log:r}}function aG(e){let t=Number(e);return typeof e=="string"&&Number.isFinite(t)?t:e===void 0?1:e}GP.exports={noop:Za,buildSafeSonicBoom:th,asChindings:tG,asJson:eG,genLog:Z7,createArgsNormalizer:iG,stringify:sG,buildFormatters:oG,normalizeDestFileDescriptor:aG}});var nh=w((PRe,KP)=>{"use strict";var{lsCacheSym:lG,levelValSym:A0,useOnlyCustomLevelsSym:cG,streamSym:uG,formattersSym:fG,hooksSym:dG}=Xa(),{noop:hG,genLog:Co}=rh(),Gn={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},WP={fatal:e=>{let t=Co(Gn.fatal,e);return function(...r){let n=this[uG];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch{}}},error:e=>Co(Gn.error,e),warn:e=>Co(Gn.warn,e),info:e=>Co(Gn.info,e),debug:e=>Co(Gn.debug,e),trace:e=>Co(Gn.trace,e)},k0=Object.keys(Gn).reduce((e,t)=>(e[Gn[t]]=t,e),{}),pG=Object.keys(k0).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{});function mG(e){let t=e[fG].level,{labels:r}=e.levels,n={};for(let i in r){let s=t(r[i],Number(i));n[i]=JSON.stringify(s).slice(0,-1)}return e[lG]=n,e}function gG(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function yG(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[A0],i=this[A0]=r[e],s=this[cG],o=this[dG].logMethod;for(let a in r){if(i>r[a]){this[a]=hG;continue}this[a]=gG(a,s)?WP[a](o):Co(r[a],o)}this.emit("level-change",e,i,t[n],n,this)}function bG(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function vG(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&r>=this[A0]}function wG(e=null,t=!1){let r=e?Object.keys(e).reduce((s,o)=>(s[e[o]]=o,s),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:k0,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:Gn,e);return{labels:n,values:i}}function _G(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(s=>t[s]),r?[]:Object.keys(k0).map(s=>+s),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:Gn,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function EG(e,t){let{labels:r,values:n}=e;for(let i in t){if(i in n)throw Error("levels cannot be overridden");if(t[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}KP.exports={initialLsCache:pG,genLsCache:mG,levelMethods:WP,getLevel:bG,setLevel:yG,isLevelEnabled:vG,mappings:wG,levels:Gn,assertNoLevelCollisions:EG,assertDefaultLevelFound:_G}});var O0=w((ARe,JP)=>{"use strict";JP.exports={version:"8.9.0"}});var oA=w((ORe,sA)=>{"use strict";var{EventEmitter:xG}=L("events"),{lsCacheSym:SG,levelValSym:RG,setLevelSym:I0,getLevelSym:YP,chindingsSym:$0,parsedChindingsSym:TG,mixinSym:PG,asJsonSym:tA,writeSym:AG,mixinMergeStrategySym:kG,timeSym:OG,timeSliceIndexSym:CG,streamSym:rA,serializersSym:Io,formattersSym:C0,errorKeySym:IG,useOnlyCustomLevelsSym:$G,needsMetadataGsym:NG,redactFmtSym:jG,stringifySym:qG,formatOptsSym:DG,stringifiersSym:LG,msgPrefixSym:XP}=Xa(),{getLevel:FG,setLevel:MG,isLevelEnabled:BG,mappings:zG,initialLsCache:HG,genLsCache:UG,assertNoLevelCollisions:VG}=nh(),{asChindings:nA,asJson:GG,buildFormatters:QP,stringify:ZP}=rh(),{version:WG}=O0(),KG=h0(),JG=class{},iA={constructor:JG,child:YG,bindings:XG,setBindings:QG,flush:rW,isLevelEnabled:BG,version:WG,get level(){return this[YP]()},set level(e){this[I0](e)},get levelVal(){return this[RG]},set levelVal(e){throw Error("levelVal is read-only")},[SG]:HG,[AG]:eW,[tA]:GG,[YP]:FG,[I0]:MG};Object.setPrototypeOf(iA,xG.prototype);sA.exports=function(){return Object.create(iA)};var eA=e=>e;function YG(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let r=this[Io],n=this[C0],i=Object.create(this);if(t.hasOwnProperty("serializers")===!0){i[Io]=Object.create(null);for(let u in r)i[Io][u]=r[u];let l=Object.getOwnPropertySymbols(r);for(var s=0;s<l.length;s++){let u=l[s];i[Io][u]=r[u]}for(let u in t.serializers)i[Io][u]=t.serializers[u];let c=Object.getOwnPropertySymbols(t.serializers);for(var o=0;o<c.length;o++){let u=c[o];i[Io][u]=t.serializers[u]}}else i[Io]=r;if(t.hasOwnProperty("formatters")){let{level:l,bindings:c,log:u}=t.formatters;i[C0]=QP(l||n.level,c||eA,u||n.log)}else i[C0]=QP(n.level,eA,n.log);if(t.hasOwnProperty("customLevels")===!0&&(VG(this.levels,t.customLevels),i.levels=zG(t.customLevels,i[$G]),UG(i)),typeof t.redact=="object"&&t.redact!==null||Array.isArray(t.redact)){i.redact=t.redact;let l=KG(i.redact,ZP),c={stringify:l[jG]};i[qG]=ZP,i[LG]=l,i[DG]=c}typeof t.msgPrefix=="string"&&(i[XP]=(this[XP]||"")+t.msgPrefix),i[$0]=nA(i,e);let a=t.level||this.level;return i[I0](a),this.onChild(i),i}function XG(){let t=`{${this[$0].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function QG(e){let t=nA(this,e);this[$0]=t,delete this[TG]}function ZG(e,t){return Object.assign(t,e)}function eW(e,t,r){let n=this[OG](),i=this[PG],s=this[IG],o=this[kG]||ZG,a;e==null?a={}:e instanceof Error?(a={[s]:e},t===void 0&&(t=e.message)):(a=e,t===void 0&&e[s]&&(t=e[s].message)),i&&(a=o(a,i(a,r)));let l=this[tA](a,t,r,n),c=this[rA];c[NG]===!0&&(c.lastLevel=r,c.lastObj=a,c.lastMsg=t,c.lastTime=n.slice(this[CG]),c.lastLogger=this),c.write(l)}function tW(){}function rW(){let e=this[rA];"flush"in e&&e.flush(tW)}});var fA=w((F0,uA)=>{"use strict";var{hasOwnProperty:ih}=Object.prototype,No=L0();No.configure=L0;No.stringify=No;No.default=No;F0.stringify=No;F0.configure=L0;uA.exports=No;var cA=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,nW=new RegExp(cA,"g"),D0=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\"];function iW(e){if(e.length===2){let r=e.charCodeAt(1);return`${e[0]}\\u${r.toString(16)}`}let t=e.charCodeAt(0);return D0.length>t?D0[t]:`\\u${t.toString(16)}`}function Ps(e){if(e.length<5e3&&!cA.test(e))return e;if(e.length>100)return e.replace(nW,iW);let t="",r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i===34||i===92||i<32)t+=`${e.slice(r,n)}${D0[i]}`,r=n+1;else if(i>=55296&&i<=57343){if(i<=56319&&n+1<e.length){let s=e.charCodeAt(n+1);if(s>=56320&&s<=57343){n++;continue}}t+=`${e.slice(r,n)}\\u${i.toString(16)}`,r=n+1}}return t+=e.slice(r),t}function N0(e){if(e.length>200)return e.sort();for(let t=1;t<e.length;t++){let r=e[t],n=t;for(;n!==0&&e[n-1]>r;)e[n]=e[n-1],n--;e[n]=r}return e}var sW=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function j0(e){return sW.call(e)!==void 0&&e.length!==0}function q0(e,t,r){e.length<r&&(r=e.length);let n=t===","?"":" ",i=`"0":${n}${e[0]}`;for(let s=1;s<r;s++)i+=`${t}"${s}":${n}${e[s]}`;return i}function oW(e){if(ih.call(e,"circularValue")){let t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function aA(e,t){let r;if(ih.call(e,t)&&(r=e[t],typeof r!="boolean"))throw new TypeError(`The "${t}" argument must be of type boolean`);return r===void 0?!0:r}function lA(e,t){let r;if(ih.call(e,t)){if(r=e[t],typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}function $o(e){return e===1?"1 item":`${e} items`}function aW(e){let t=new Set;for(let r of e)(typeof r=="string"||typeof r=="number")&&t.add(String(r));return t}function lW(e){if(ih.call(e,"strict")){let t=e.strict;if(typeof t!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(t)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function L0(e){e={...e};let t=lW(e);t&&(e.bigint===void 0&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let r=oW(e),n=aA(e,"bigint"),i=aA(e,"deterministic"),s=lA(e,"maximumDepth"),o=lA(e,"maximumBreadth");function a(h,f,p,m,v,y){let E=f[h];switch(typeof E=="object"&&E!==null&&typeof E.toJSON=="function"&&(E=E.toJSON(h)),E=m.call(f,h,E),typeof E){case"string":return`"${Ps(E)}"`;case"object":{if(E===null)return"null";if(p.indexOf(E)!==-1)return r;let b="",g=",",P=y;if(Array.isArray(E)){if(E.length===0)return"[]";if(s<p.length+1)return'"[Array]"';p.push(E),v!==""&&(y+=v,b+=`
${y}`,g=`,
${y}`);let D=Math.min(E.length,o),H=0;for(;H<D-1;H++){let he=a(H,E,p,m,v,y);b+=he!==void 0?he:"null",b+=g}let G=a(H,E,p,m,v,y);if(b+=G!==void 0?G:"null",E.length-1>o){let he=E.length-o-1;b+=`${g}"... ${$o(he)} not stringified"`}return v!==""&&(b+=`
${P}`),p.pop(),`[${b}]`}let O=Object.keys(E),R=O.length;if(R===0)return"{}";if(s<p.length+1)return'"[Object]"';let C="",q="";v!==""&&(y+=v,g=`,
${y}`,C=" ");let F=Math.min(R,o);j0(E)&&(b+=q0(E,g,o),O=O.slice(E.length),F-=E.length,q=g),i&&(O=N0(O)),p.push(E);for(let D=0;D<F;D++){let H=O[D],G=a(H,E,p,m,v,y);G!==void 0&&(b+=`${q}"${Ps(H)}":${C}${G}`,q=g)}if(R>o){let D=R-o;b+=`${q}"...":${C}"${$o(D)} not stringified"`,q=g}return v!==""&&q.length>1&&(b=`
${y}${b}
${P}`),p.pop(),`{${b}}`}case"number":return isFinite(E)?String(E):t?t(E):"null";case"boolean":return E===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(E);default:return t?t(E):void 0}}function l(h,f,p,m,v,y){switch(typeof f=="object"&&f!==null&&typeof f.toJSON=="function"&&(f=f.toJSON(h)),typeof f){case"string":return`"${Ps(f)}"`;case"object":{if(f===null)return"null";if(p.indexOf(f)!==-1)return r;let E=y,b="",g=",";if(Array.isArray(f)){if(f.length===0)return"[]";if(s<p.length+1)return'"[Array]"';p.push(f),v!==""&&(y+=v,b+=`
${y}`,g=`,
${y}`);let R=Math.min(f.length,o),C=0;for(;C<R-1;C++){let F=l(C,f[C],p,m,v,y);b+=F!==void 0?F:"null",b+=g}let q=l(C,f[C],p,m,v,y);if(b+=q!==void 0?q:"null",f.length-1>o){let F=f.length-o-1;b+=`${g}"... ${$o(F)} not stringified"`}return v!==""&&(b+=`
${E}`),p.pop(),`[${b}]`}p.push(f);let P="";v!==""&&(y+=v,g=`,
${y}`,P=" ");let O="";for(let R of m){let C=l(R,f[R],p,m,v,y);C!==void 0&&(b+=`${O}"${Ps(R)}":${P}${C}`,O=g)}return v!==""&&O.length>1&&(b=`
${y}${b}
${E}`),p.pop(),`{${b}}`}case"number":return isFinite(f)?String(f):t?t(f):"null";case"boolean":return f===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(f);default:return t?t(f):void 0}}function c(h,f,p,m,v){switch(typeof f){case"string":return`"${Ps(f)}"`;case"object":{if(f===null)return"null";if(typeof f.toJSON=="function"){if(f=f.toJSON(h),typeof f!="object")return c(h,f,p,m,v);if(f===null)return"null"}if(p.indexOf(f)!==-1)return r;let y=v;if(Array.isArray(f)){if(f.length===0)return"[]";if(s<p.length+1)return'"[Array]"';p.push(f),v+=m;let C=`
${v}`,q=`,
${v}`,F=Math.min(f.length,o),D=0;for(;D<F-1;D++){let G=c(D,f[D],p,m,v);C+=G!==void 0?G:"null",C+=q}let H=c(D,f[D],p,m,v);if(C+=H!==void 0?H:"null",f.length-1>o){let G=f.length-o-1;C+=`${q}"... ${$o(G)} not stringified"`}return C+=`
${y}`,p.pop(),`[${C}]`}let E=Object.keys(f),b=E.length;if(b===0)return"{}";if(s<p.length+1)return'"[Object]"';v+=m;let g=`,
${v}`,P="",O="",R=Math.min(b,o);j0(f)&&(P+=q0(f,g,o),E=E.slice(f.length),R-=f.length,O=g),i&&(E=N0(E)),p.push(f);for(let C=0;C<R;C++){let q=E[C],F=c(q,f[q],p,m,v);F!==void 0&&(P+=`${O}"${Ps(q)}": ${F}`,O=g)}if(b>o){let C=b-o;P+=`${O}"...": "${$o(C)} not stringified"`,O=g}return O!==""&&(P=`
${v}${P}
${y}`),p.pop(),`{${P}}`}case"number":return isFinite(f)?String(f):t?t(f):"null";case"boolean":return f===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(f);default:return t?t(f):void 0}}function u(h,f,p){switch(typeof f){case"string":return`"${Ps(f)}"`;case"object":{if(f===null)return"null";if(typeof f.toJSON=="function"){if(f=f.toJSON(h),typeof f!="object")return u(h,f,p);if(f===null)return"null"}if(p.indexOf(f)!==-1)return r;let m="";if(Array.isArray(f)){if(f.length===0)return"[]";if(s<p.length+1)return'"[Array]"';p.push(f);let g=Math.min(f.length,o),P=0;for(;P<g-1;P++){let R=u(P,f[P],p);m+=R!==void 0?R:"null",m+=","}let O=u(P,f[P],p);if(m+=O!==void 0?O:"null",f.length-1>o){let R=f.length-o-1;m+=`,"... ${$o(R)} not stringified"`}return p.pop(),`[${m}]`}let v=Object.keys(f),y=v.length;if(y===0)return"{}";if(s<p.length+1)return'"[Object]"';let E="",b=Math.min(y,o);j0(f)&&(m+=q0(f,",",o),v=v.slice(f.length),b-=f.length,E=","),i&&(v=N0(v)),p.push(f);for(let g=0;g<b;g++){let P=v[g],O=u(P,f[P],p);O!==void 0&&(m+=`${E}"${Ps(P)}":${O}`,E=",")}if(y>o){let g=y-o;m+=`${E}"...":"${$o(g)} not stringified"`}return p.pop(),`{${m}}`}case"number":return isFinite(f)?String(f):t?t(f):"null";case"boolean":return f===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(f);default:return t?t(f):void 0}}function d(h,f,p){if(arguments.length>1){let m="";if(typeof p=="number"?m=" ".repeat(Math.min(p,10)):typeof p=="string"&&(m=p.slice(0,10)),f!=null){if(typeof f=="function")return a("",{"":h},[],f,m,"");if(Array.isArray(f))return l("",h,[],aW(f),m,"")}if(m.length!==0)return c("",h,[],m,"")}return u("",h,[])}return d}});var mA=w((CRe,pA)=>{"use strict";var M0=Symbol.for("pino.metadata"),{levels:dA}=nh(),hA=Object.create(dA);hA.silent=1/0;var cW=dA.info;function uW(e,t){let r=0;e=e||[],t=t||{dedupe:!1};let n=hA;t.levels&&typeof t.levels=="object"&&(n=t.levels);let i={write:s,add:a,flushSync:o,end:l,minLevel:0,streams:[],clone:c,[M0]:!0};return Array.isArray(e)?e.forEach(a,i):a.call(i,e),e=null,i;function s(u){let d,h=this.lastLevel,{streams:f}=this,p=0,m;for(let v=dW(f.length,t.dedupe);pW(v,f.length,t.dedupe);v=hW(v,t.dedupe))if(d=f[v],d.level<=h){if(p!==0&&p!==d.level)break;if(m=d.stream,m[M0]){let{lastTime:y,lastMsg:E,lastObj:b,lastLogger:g}=this;m.lastLevel=h,m.lastTime=y,m.lastMsg=E,m.lastObj=b,m.lastLogger=g}m.write(u),t.dedupe&&(p=d.level)}else if(!t.dedupe)break}function o(){for(let{stream:u}of this.streams)typeof u.flushSync=="function"&&u.flushSync()}function a(u){if(!u)return i;let d=typeof u.write=="function"||u.stream,h=u.write?u:u.stream;if(!d)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:f}=this,p;typeof u.levelVal=="number"?p=u.levelVal:typeof u.level=="string"?p=n[u.level]:typeof u.level=="number"?p=u.level:p=cW;let m={stream:h,level:p,levelVal:void 0,id:r++};return f.unshift(m),f.sort(fW),this.minLevel=f[0].level,i}function l(){for(let{stream:u}of this.streams)typeof u.flushSync=="function"&&u.flushSync(),u.end()}function c(u){let d=new Array(this.streams.length);for(let h=0;h<d.length;h++)d[h]={level:u,stream:this.streams[h].stream};return{write:s,add:a,minLevel:u,streams:d,clone:c,flushSync:o,[M0]:!0}}}function fW(e,t){return e.level-t.level}function dW(e,t){return t?e-1:0}function hW(e,t){return t?e-1:e+1}function pW(e,t,r){return r?e>=0:e<t}pA.exports=uW});var AA=w((IRe,An)=>{"use strict";var mW=L("os"),xA=o0(),gW=a0(),yW=h0(),SA=uP(),bW=oA(),RA=Xa(),{configure:vW}=fA(),{assertDefaultLevelFound:wW,mappings:TA,genLsCache:_W,levels:EW}=nh(),{createArgsNormalizer:xW,asChindings:SW,buildSafeSonicBoom:gA,buildFormatters:RW,stringify:B0,normalizeDestFileDescriptor:yA,noop:TW}=rh(),{version:PW}=O0(),{chindingsSym:bA,redactFmtSym:AW,serializersSym:vA,timeSym:kW,timeSliceIndexSym:OW,streamSym:CW,stringifySym:wA,stringifySafeSym:z0,stringifiersSym:_A,setLevelSym:IW,endSym:$W,formatOptsSym:NW,messageKeySym:jW,errorKeySym:qW,nestedKeySym:DW,mixinSym:LW,useOnlyCustomLevelsSym:FW,formattersSym:EA,hooksSym:MW,nestedKeyStrSym:BW,mixinMergeStrategySym:zW,msgPrefixSym:HW}=RA,{epochTime:PA,nullTime:UW}=SA,{pid:VW}=process,GW=mW.hostname(),WW=xA.err,KW={level:"info",levels:EW,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:VW,hostname:GW},serializers:Object.assign(Object.create(null),{err:WW}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:PA,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},JW=xW(KW),YW=Object.assign(Object.create(null),xA);function H0(...e){let t={},{opts:r,stream:n}=JW(t,gW(),...e),{redact:i,crlf:s,serializers:o,timestamp:a,messageKey:l,errorKey:c,nestedKey:u,base:d,name:h,level:f,customLevels:p,mixin:m,mixinMergeStrategy:v,useOnlyCustomLevels:y,formatters:E,hooks:b,depthLimit:g,edgeLimit:P,onChild:O,msgPrefix:R}=r,C=vW({maximumDepth:g,maximumBreadth:P}),q=RW(E.level,E.bindings,E.log),F=B0.bind({[z0]:C}),D=i?yW(i,F):{},H=i?{stringify:D[AW]}:{stringify:F},G="}"+(s?`\r
`:`
`),he=SW.bind(null,{[bA]:"",[vA]:o,[_A]:D,[wA]:B0,[z0]:C,[EA]:q}),we="";d!==null&&(h===void 0?we=he(d):we=he(Object.assign({},d,{name:h})));let Z=a instanceof Function?a:a?PA:UW,ye=Z().indexOf(":")+1;if(y&&!p)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(m&&typeof m!="function")throw Error(`Unknown mixin type "${typeof m}" - expected "function"`);if(R&&typeof R!="string")throw Error(`Unknown msgPrefix type "${typeof R}" - expected "string"`);wW(f,p,y);let Ge=TA(p,y);return Object.assign(t,{levels:Ge,[FW]:y,[CW]:n,[kW]:Z,[OW]:ye,[wA]:B0,[z0]:C,[_A]:D,[$W]:G,[NW]:H,[jW]:l,[qW]:c,[DW]:u,[BW]:u?`,${JSON.stringify(u)}:{`:"",[vA]:o,[LW]:m,[zW]:v,[bA]:we,[EA]:q,[MW]:b,silent:TW,onChild:O,[HW]:R}),Object.setPrototypeOf(t,bW()),_W(t),t[IW](f),t}An.exports=H0;An.exports.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=yA(e.dest||process.stdout.fd),gA(e)):gA({dest:yA(e),minLength:0});An.exports.transport=R0();An.exports.multistream=mA();An.exports.levels=TA();An.exports.stdSerializers=YW;An.exports.stdTimeFunctions=Object.assign({},SA);An.exports.symbols=RA;An.exports.version=PW;An.exports.default=H0;An.exports.pino=H0});var V0=w(($Re,CA)=>{"use strict";var XW=xT(),sh=AA(),{serializersSym:kA}=sh.symbols,{FST_ERR_LOG_INVALID_DESTINATION:QW}=Kr();function OA(e,t){if(t=t||e.stream,delete e.stream,t&&e.file)throw new QW;e.file&&(t=sh.destination(e.file),delete e.file);let r=e.logger,n=e.genReqId,i=null;return r?(e.logger=void 0,e.genReqId=void 0,r[kA]&&(e.serializers=Object.assign({},e.serializers,r[kA])),i=r.child({},e),e.logger=r,e.genReqId=n):i=sh(e,t),i}var U0={req:function(t){return{method:t.method,url:t.url,version:t.headers&&t.headers["accept-version"],hostname:t.hostname,remoteAddress:t.ip,remotePort:t.socket?t.socket.remotePort:void 0}},err:sh.stdSerializers.err,res:function(t){return{statusCode:t.statusCode}}};function ZW(){let e=process.hrtime();return e[0]*1e3+e[1]/1e6}function eK(e){if(tK(e.logger))return{logger:OA({logger:e.logger,serializers:Object.assign({},U0,e.logger.serializers)}),hasLogger:!0};if(e.logger){let t={};return Object.prototype.toString.call(e.logger)==="[object Object]"&&Reflect.ownKeys(e.logger).forEach(n=>{Object.defineProperty(t,n,{value:e.logger[n],writable:!0,enumerable:!0,configurable:!0})}),t.level=t.level||"info",t.serializers=Object.assign({},U0,t.serializers),e.logger=t,{logger:OA(e.logger),hasLogger:!0}}else{let t=XW;return t.child=()=>t,{logger:t,hasLogger:!1}}}function tK(e){if(!e)return!1;let t=!0,r=["info","error","debug","fatal","warn","trace","child"];for(let n=0;n<r.length;n+=1)if(!e[r[n]]||typeof e[r[n]]!="function"){t=!1;break}return t}CA.exports={createLogger:eK,serializers:U0,now:ZW}});var jc=w((NRe,IA)=>{"use strict";IA.exports=rK;function el(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function rK(e){if(e=e||{},e.circles)return nK(e);return e.proto?n:r;function t(i,s){for(var o=Object.keys(i),a=new Array(o.length),l=0;l<o.length;l++){var c=o[l],u=i[c];typeof u!="object"||u===null?a[c]=u:u instanceof Date?a[c]=new Date(u):ArrayBuffer.isView(u)?a[c]=el(u):a[c]=s(u)}return a}function r(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return t(i,r);if(i instanceof Map)return new Map(t(Array.from(i),r));if(i instanceof Set)return new Set(t(Array.from(i),r));var s={};for(var o in i)if(Object.hasOwnProperty.call(i,o)!==!1){var a=i[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(t(Array.from(a),r)):a instanceof Set?s[o]=new Set(t(Array.from(a),r)):ArrayBuffer.isView(a)?s[o]=el(a):s[o]=r(a)}return s}function n(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return t(i,n);if(i instanceof Map)return new Map(t(Array.from(i),n));if(i instanceof Set)return new Set(t(Array.from(i),n));var s={};for(var o in i){var a=i[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(t(Array.from(a),n)):a instanceof Set?s[o]=new Set(t(Array.from(a),n)):ArrayBuffer.isView(a)?s[o]=el(a):s[o]=n(a)}return s}}function nK(e){var t=[],r=[];return e.proto?s:i;function n(o,a){for(var l=Object.keys(o),c=new Array(l.length),u=0;u<l.length;u++){var d=l[u],h=o[d];if(typeof h!="object"||h===null)c[d]=h;else if(h instanceof Date)c[d]=new Date(h);else if(ArrayBuffer.isView(h))c[d]=el(h);else{var f=t.indexOf(h);f!==-1?c[d]=r[f]:c[d]=a(h)}}return c}function i(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,i);if(o instanceof Map)return new Map(n(Array.from(o),i));if(o instanceof Set)return new Set(n(Array.from(o),i));var a={};t.push(o),r.push(a);for(var l in o)if(Object.hasOwnProperty.call(o,l)!==!1){var c=o[l];if(typeof c!="object"||c===null)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(c instanceof Map)a[l]=new Map(n(Array.from(c),i));else if(c instanceof Set)a[l]=new Set(n(Array.from(c),i));else if(ArrayBuffer.isView(c))a[l]=el(c);else{var u=t.indexOf(c);u!==-1?a[l]=r[u]:a[l]=i(c)}}return t.pop(),r.pop(),a}function s(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,s);if(o instanceof Map)return new Map(n(Array.from(o),s));if(o instanceof Set)return new Set(n(Array.from(o),s));var a={};t.push(o),r.push(a);for(var l in o){var c=o[l];if(typeof c!="object"||c===null)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(c instanceof Map)a[l]=new Map(n(Array.from(c),s));else if(c instanceof Set)a[l]=new Set(n(Array.from(c),s));else if(ArrayBuffer.isView(c))a[l]=el(c);else{var u=t.indexOf(c);u!==-1?a[l]=r[u]:a[l]=s(c)}}return t.pop(),r.pop(),a}}});var qc=w((jRe,$A)=>{"use strict";var iK=jc()({circles:!1,proto:!0}),{kSchemaVisited:G0,kSchemaResponse:sK}=ar(),W0=Symbol.for("fluent-schema-object"),{FST_ERR_SCH_MISSING_ID:oK,FST_ERR_SCH_ALREADY_PRESENT:aK,FST_ERR_SCH_DUPLICATE:lK,FST_ERR_SCH_CONTENT_MISSING_SCHEMA:cK}=Kr(),uK=["params","body","querystring","query","headers"];function oh(e){this.store=e||{}}oh.prototype.add=function(e){let t=iK(e.isFluentSchema||e.isFluentJSONSchema||e[W0]?e.valueOf():e),r=t.$id;if(!r)throw new oK;if(this.store[r])throw new aK(r);this.store[r]=t};oh.prototype.getSchemas=function(){return Object.assign({},this.store)};oh.prototype.getSchema=function(e){return this.store[e]};function fK(e,t){if(e[G0])return e;if(e.query){if(e.querystring)throw new lK("querystring");e.querystring=e.query}dK(e);for(let r of["headers","querystring","params","body"])if(typeof e[r]=="object"&&Object.getPrototypeOf(e[r])!==Object.prototype)return e[G0]=!0,e;if(e.body&&(e.body=tl(e.body,t.jsonShorthand)),e.headers&&(e.headers=tl(e.headers,t.jsonShorthand)),e.querystring&&(e.querystring=tl(e.querystring,t.jsonShorthand)),e.params&&(e.params=tl(e.params,t.jsonShorthand)),e.response){let r=Object.keys(e.response);for(let n of r){let i=e.response[n].content,s=!1;if(i){let o=Object.keys(i);for(let a=0;a<o.length;a++){let l=o[a];if(!i[l].schema){if(o.length===1)break;throw new cK(l)}e.response[n].content[l].schema=tl(i[l].schema,t.jsonShorthand),a===o.length-1&&(s=!0)}}s||(e.response[n]=tl(e.response[n],t.jsonShorthand))}}return e[G0]=!0,e}function dK(e){for(let t of uK)e[t]&&(e[t].isFluentSchema||e[t][W0])&&(e[t]=e[t].valueOf());if(e.response){let t=Object.keys(e.response);for(let r of t)(e.response[r].isFluentSchema||e.response[r][W0])&&(e.response[r]=e.response[r].valueOf())}}function tl(e,t){return!t||e.$ref||e.oneOf||e.allOf||e.anyOf||e.$merge||e.$patch?e:!e.type&&!e.properties?{type:"object",properties:e}:e}function hK(e,t,r){let n=e[sK];if(!n)return!1;if(n[t]){if(n[t].constructor===Object){let s=r.split(";")[0];return n[t][s]?n[t][s]:!1}return n[t]}let i=(t+"")[0]+"xx";if(n[i]){if(n[i].constructor===Object){let s=r.split(";")[0];return n[i][s]?n[i][s]:!1}return n[i]}if(n.default){if(n.default.constructor===Object){let s=r.split(";")[0];return n.default[s]?n.default[s]:!1}return n.default}return!1}$A.exports={buildSchemas(e){return new oh(e)},getSchemaSerializer:hK,normalizeSchema:fK}});var jA=w((qRe,NA)=>{"use strict";var pK=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,K0=class{constructor(t={}){switch(t.rounding){case"floor":this.parseInteger=Math.floor;break;case"ceil":this.parseInteger=Math.ceil;break;case"round":this.parseInteger=Math.round;break;default:this.parseInteger=Math.trunc;break}}asInteger(t){if(typeof t=="bigint")return t.toString();if(Number.isInteger(t))return""+t;{let r=this.parseInteger(t);if(Number.isNaN(r)||!Number.isFinite(r))throw new Error(`The value "${t}" cannot be converted to an integer.`);return""+r}}asNumber(t){let r=Number(t);if(Number.isNaN(r))throw new Error(`The value "${t}" cannot be converted to a number.`);return Number.isFinite(r)?""+r:null}asBoolean(t){return t&&"true"||"false"}asDateTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+t.toISOString()+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date-time.`)}asDate(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,10)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date.`)}asTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(11,19)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a time.`)}asString(t){let r='"';return t instanceof Date?r+t.toISOString()+r:t===null?r+r:(t instanceof RegExp?t=t.source:typeof t!="string"&&(t=t.toString()),pK.test(t)?t.length<42?this.asStringSmall(t):JSON.stringify(t):r+t+r)}asStringSmall(t){let r=t.length,n="",i=0,s=!1,o=!1,a=255;for(var l=0;l<r&&a>=32;l++)a=t.charCodeAt(l),a>=55296&&a<=57343&&(o=!0),(a===34||a===92)&&(n+=t.slice(i,l)+"\\",i=l,s=!0);return s?n+=t.slice(i):n=t,a<32||o===!0?JSON.stringify(t):'"'+n+'"'}},ah=new K0({mode:"standalone"});function mK(e){let t="";return t+=gK(e),t}function gK(e){var t=e&&typeof e.toJSON=="function"?e.toJSON():e,r="{",n=!1;return t.statusCode!==void 0&&(n?r+=",":n=!0,r+='"statusCode":',r+=ah.asNumber(t.statusCode)),t.code!==void 0&&(n?r+=",":n=!0,r+='"code":',r+=ah.asString(t.code)),t.error!==void 0&&(n?r+=",":n=!0,r+='"error":',r+=ah.asString(t.error)),t.message!==void 0&&(n?r+=",":n=!0,r+='"message":',r+=ah.asString(t.message)),r+="}",r}NA.exports=mK});var Lc=w((DRe,LA)=>{"use strict";var J0=L("http").STATUS_CODES,yK=Ky(),{kReplyHeaders:Dc,kReplyNextErrorHandler:lh,kReplyIsRunningOnErrorHook:bK,kReplyHasStatusCode:vK,kRouteContext:DA}=ar(),{FST_ERR_REP_INVALID_PAYLOAD_TYPE:wK}=Kr(),{getSchemaSerializer:_K}=qc(),Y0=jA(),EK={func:SK,toJSON(){return this.func.name.toString()+"()"}};function xK(e,t,r){e[bK]=!1;let n=e[DA];if(e[lh]===!1){qA(t,e,function(a,l){try{a.raw.writeHead(a.raw.statusCode,a[Dc])}catch(c){a.log.warn({req:a.request,res:a,err:c},c&&c.message),a.raw.writeHead(a.raw.statusCode)}a.raw.end(l)});return}let i=e[lh]||n.errorHandler;e[lh]=Object.getPrototypeOf(i),delete e[Dc]["content-type"],delete e[Dc]["content-length"];let s=i.func;if(!s){e[lh]=!1,qA(t,e,r);return}let o=s(t,e.request,e);o!==void 0&&(o!==null&&typeof o.then=="function"?yK(o,e):e.send(o))}function SK(e,t,r){if(TK(e,r),!r[vK]||r.statusCode===200){let n=e.statusCode||e.status;r.code(n>=400?n:500)}r.statusCode<500?r.log.info({res:r,err:e},e&&e.message):r.log.error({req:t,res:r,err:e},e&&e.message),r.send(e)}function qA(e,t,r){let n=t.raw,i=t.statusCode,s;try{let o=_K(t[DA],i);s=o===!1?Y0({error:J0[i+""],code:e.code,message:e.message,statusCode:i}):o(Object.create(e,{error:{value:J0[i+""]},message:{value:e.message},statusCode:{value:i}}))}catch(o){t.log.error({err:o,statusCode:n.statusCode},"The serializer for the given status code failed"),t.code(500),s=Y0({error:J0[500],message:o.message,statusCode:500})}typeof s!="string"&&!Buffer.isBuffer(s)&&(s=Y0(new wK(typeof s))),t[Dc]["content-type"]="application/json; charset=utf-8",t[Dc]["content-length"]=""+Buffer.byteLength(s),r(t,s)}function RK(e=EK,t){if(!t)return e;let r=Object.create(e);return r.func=t,r}function TK(e,t){let r=t.raw,n=r.statusCode;n=n>=400?n:500,e!=null&&(e.headers!==void 0&&t.headers(e.headers),e.status>=400?n=e.status:e.statusCode>=400&&(n=e.statusCode)),r.statusCode=n}LA.exports={buildErrorHandler:RK,handleError:xK}});var hh=w((LRe,dh)=>{"use strict";var Z0=L("stream").finished,{kFourOhFourContext:FA,kReplyErrorHandlerCalled:GA,kReplyHijacked:Fc,kReplyStartTime:Mc,kReplyEndTime:rb,kReplySerializer:Ki,kReplySerializerDefault:ch,kReplyIsError:uh,kReplyHeaders:at,kReplyTrailers:lr,kReplyHasStatusCode:nb,kReplyIsRunningOnErrorHook:ib,kReplyNextErrorHandler:PK,kDisableRequestLogging:WA,kSchemaResponse:fh,kReplySerializeWeakMap:As,kSchemaController:X0,kOptions:AK,kRouteContext:Ce}=ar(),{hookRunner:KA,hookIterator:kK,onSendHookRunner:sb}=Oo(),MA=Qy()[Symbol.for("internals")],OK=V0(),eb=OK.now,{handleError:BA}=Lc(),{getSchemaSerializer:CK}=qc(),Q0={JSON:"application/json; charset=utf-8",PLAIN:"text/plain; charset=utf-8",OCTET:"application/octet-stream"},{FST_ERR_REP_INVALID_PAYLOAD_TYPE:IK,FST_ERR_REP_ALREADY_SENT:JA,FST_ERR_REP_SENT_VALUE:$K,FST_ERR_SEND_INSIDE_ONERR:NK,FST_ERR_BAD_STATUS_CODE:jK,FST_ERR_BAD_TRAILER_NAME:qK,FST_ERR_BAD_TRAILER_VALUE:DK,FST_ERR_MISSING_SERIALIZATION_FN:LK,FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:FK}=Kr(),YA=ko();function lt(e,t,r){this.raw=e,this[Ki]=null,this[GA]=!1,this[uh]=!1,this[ib]=!1,this.request=t,this[at]={},this[lr]=null,this[nb]=!1,this[Mc]=void 0,this.log=r}lt.props=[];Object.defineProperties(lt.prototype,{[Ce]:{get(){return this.request[Ce]}},context:{get(){return this.request[Ce]}},server:{get(){return this.request[Ce].server}},sent:{enumerable:!0,get(){return(this[Fc]||this.raw.writableEnded)===!0},set(e){if(YA.emit("FSTDEP010"),e!==!0)throw new $K;if(this.sent&&this[Fc])throw new JA;this[Fc]=!0}},statusCode:{get(){return this.raw.statusCode},set(e){this.code(e)}}});lt.prototype.hijack=function(){return this[Fc]=!0,this};lt.prototype.send=function(e){if(this[ib]===!0)throw new NK;if(this.sent)return this.log.warn({err:new JA},"Reply already sent"),this;if(e instanceof Error||this[uh]===!0)return this[uh]=!1,Bc(this,e,jo),this;if(e===void 0)return jo(this,e),this;let t=this.getHeader("content-type"),r=t!==void 0;if(e!==null){if(typeof e.pipe=="function")return jo(this,e),this;if(Buffer.isBuffer(e))return r===!1&&(this[at]["content-type"]=Q0.OCTET),jo(this,e),this;if(r===!1&&typeof e=="string")return this[at]["content-type"]=Q0.PLAIN,jo(this,e),this}if(this[Ki]!==null){if(typeof e!="string")return zA(this,e),this;e=this[Ki](e)}else if(r===!1||t.indexOf("json")>-1){if(r===!1)this[at]["content-type"]=Q0.JSON;else if(t.indexOf("charset")===-1){let n=t.trim();n.endsWith(";")?this[at]["content-type"]=`${n} charset=utf-8`:this[at]["content-type"]=`${n}; charset=utf-8`}if(typeof e!="string")return zA(this,e),this}return jo(this,e),this};lt.prototype.getHeader=function(e){e=e.toLowerCase();let t=this.raw,r=this[at][e];return r===void 0&&t.hasHeader(e)&&(r=t.getHeader(e)),r};lt.prototype.getHeaders=function(){return{...this.raw.getHeaders(),...this[at]}};lt.prototype.hasHeader=function(e){return e=e.toLowerCase(),this[at][e]!==void 0||this.raw.hasHeader(e)};lt.prototype.removeHeader=function(e){return delete this[at][e.toLowerCase()],this};lt.prototype.header=function(e,t=""){return e=e.toLowerCase(),this[at][e]&&e==="set-cookie"?(typeof this[at][e]=="string"&&(this[at][e]=[this[at][e]]),Array.isArray(t)?this[at][e].push(...t):this[at][e].push(t)):this[at][e]=t,this};lt.prototype.headers=function(e){let t=Object.keys(e);for(var r=0;r!==t.length;++r){let n=t[r];this.header(n,e[n])}return this};var MK=new Set(["transfer-encoding","content-length","host","cache-control","max-forwards","te","authorization","set-cookie","content-encoding","content-type","content-range","trailer"]);lt.prototype.trailer=function(e,t){if(e=e.toLowerCase(),MK.has(e))throw new qK(e);if(typeof t!="function")throw new DK(e,typeof t);return this[lr]===null&&(this[lr]={}),this[lr][e]=t,this};lt.prototype.hasTrailer=function(e){return this[lr]?.[e.toLowerCase()]!==void 0};lt.prototype.removeTrailer=function(e){return this[lr]===null?this:(this[lr][e.toLowerCase()]=void 0,this)};lt.prototype.code=function(e){let t=Number(e);if(isNaN(t)||t<100||t>599)throw new jK(e||String(e));return this.raw.statusCode=t,this[nb]=!0,this};lt.prototype.status=lt.prototype.code;lt.prototype.getSerializationFunction=function(e,t){let r;return typeof e=="string"||typeof e=="number"?typeof t=="string"?r=this[Ce][fh]?.[e]?.[t]:r=this[Ce][fh]?.[e]:typeof e=="object"&&(r=this[Ce][As]?.get(e)),r};lt.prototype.compileSerializationSchema=function(e,t=null,r=null){let{request:n}=this,{method:i,url:s}=n;if(this[Ce][As]?.has(e))return this[Ce][As].get(e);let a=(this[Ce].serializerCompiler||this.server[X0].serializerCompiler||this.server[X0].setupSerializer(this.server[AK])||this.server[X0].serializerCompiler)({schema:e,method:i,url:s,httpStatus:t,contentType:r});return this[Ce][As]==null&&(this[Ce][As]=new WeakMap),this[Ce][As].set(e,a),a};lt.prototype.serializeInput=function(e,t,r,n){let i=r,s;if(r=typeof t=="string"||typeof t=="number"?t:r,n=r&&i!==r?i:n,r!=null){if(n!=null?s=this[Ce][fh]?.[r]?.[n]:s=this[Ce][fh]?.[r],s==null)throw n?new FK(r,n):new LK(r)}else this[Ce][As]?.has(t)?s=this[Ce][As].get(t):s=this.compileSerializationSchema(t,r,n);return s(e)};lt.prototype.serialize=function(e){return this[Ki]!==null?this[Ki](e):this[Ce]&&this[Ce][ch]?this[Ce][ch](e,this.raw.statusCode):QA(this[Ce],e,this.raw.statusCode)};lt.prototype.serializer=function(e){return this[Ki]=e,this};lt.prototype.type=function(e){return this[at]["content-type"]=e,this};lt.prototype.redirect=function(e,t){return typeof e=="string"&&(t=e,e=this[nb]?this.raw.statusCode:302),this.header("location",t).code(e).send()};lt.prototype.callNotFound=function(){return KK(this),this};lt.prototype.getResponseTime=function(){let e=0;return this[Mc]!==void 0&&(e=(this[rb]||eb())-this[Mc]),e};lt.prototype.then=function(e,t){if(this.sent){e();return}Z0(this.raw,r=>{r&&r.code!=="ERR_STREAM_PREMATURE_CLOSE"?t?t(r):this.log&&this.log.warn("unhandled rejection on reply.then"):e()})};function zA(e,t){e[Ce].preSerialization!==null?sb(e[Ce].preSerialization,e.request,e,t,HA):HA(null,e.request,e,t)}function HA(e,t,r,n){if(e!=null){Bc(r,e);return}try{r[Ki]!==null?n=r[Ki](n):r[Ce]&&r[Ce][ch]?n=r[Ce][ch](n,r.raw.statusCode):n=QA(r[Ce],n,r.raw.statusCode,r[at]["content-type"])}catch(i){BK(i,r),Bc(r,i);return}jo(r,n)}function BK(e,t){e.serialization=t[Ce].config}function jo(e,t){e[Ce].onSend!==null?sb(e[Ce].onSend,e.request,e,t,zK):XA(e,t)}function zK(e,t,r,n){e!=null?Bc(r,e):XA(r,n)}function XA(e,t){let r=e.raw,n=e.request,i=r.statusCode;if(e[lr]!==null){let s=Object.keys(e[lr]),o="";for(let a of s)typeof e[lr][a]=="function"&&(o+=" ",o+=a);e.header("Transfer-Encoding","chunked"),e.header("Trailer",o.trim())}if(t==null){i>=200&&i!==204&&i!==304&&n.method!=="HEAD"&&e[lr]===null&&(e[at]["content-length"]="0"),r.writeHead(i,e[at]),tb(t,r,e);return}if(typeof t.pipe=="function"){HK(t,r,e);return}if(typeof t!="string"&&!Buffer.isBuffer(t))throw new IK(typeof t);if(e[lr]===null){let s=e[at]["content-length"];(!s||n.raw.method!=="HEAD"&&Number(s)!==Buffer.byteLength(t))&&(e[at]["content-length"]=""+Buffer.byteLength(t))}r.writeHead(i,e[at]),r.write(t),tb(t,r,e)}function UA(e,t,r){t.code==="ERR_STREAM_PREMATURE_CLOSE"?e[WA]||e.info({res:r},"stream closed prematurely"):e.warn({err:t},"response terminated with an error with headers already sent")}function HK(e,t,r){let n=!0,i=!1;if(UK(e,t,r),Z0(e,{readable:!0,writable:!1},function(s){n=!1,s!=null&&(t.headersSent||r.request.raw.aborted===!0?(i||(i=!0,UA(r.log,s,t)),t.destroy()):Bc(r,s))}),Z0(t,function(s){n&&(s!=null&&t.headersSent&&!i&&(i=!0,UA(r.log,s,t)),typeof e.destroy=="function"?e.destroy():typeof e.close=="function"?e.close(JK):typeof e.abort=="function"?e.abort():r.log.warn("stream payload does not end properly"))}),t.headersSent)r.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let s in r[at])t.setHeader(s,r[at][s]);e.pipe(t)}function tb(e,t,r){if(r[lr]===null){t.end(null,null,null);return}let n=Object.keys(r[lr]),i={},s=0,o=!0;function a(){s===0&&(t.addTrailers(i),t.end(null,null,null))}for(let l of n){let c=function(d,h){s++,d?r.log.debug(d):i[l]=h,process.nextTick(a)};if(typeof r[lr][l]!="function")continue;o=!1,s--;let u=r[lr][l](r,e,c);typeof u=="object"&&typeof u.then=="function"?u.then(d=>c(null,d),c):u!=null&&(YA.emit("FSTDEP013"),c(null,u))}o&&t.end(null,null,null)}function UK(e,t,r){r[lr]!==null&&e.on("end",()=>tb(null,t,r))}function Bc(e,t,r){e[Ce].onError!==null&&!e[PK]?(e[ib]=!0,sb(e[Ce].onError,e.request,e,t,()=>BA(e,t,r))):BA(e,t,r)}function VK(e){e[Mc]=eb();let t=r=>{e[rb]=eb(),e.raw.removeListener("finish",t),e.raw.removeListener("error",t);let n=e[Ce];n&&n.onResponse!==null?KA(n.onResponse,GK,e.request,e,VA):VA(r,e.request,e)};e.raw.on("finish",t),e.raw.on("error",t)}function GK(e,t,r,n){return e(t,r,n)}function VA(e,t,r){if(r.log[WA])return;let n=r.getResponseTime();if(e!=null){r.log.error({res:r,err:e,responseTime:n},"request errored");return}r.log.info({res:r,responseTime:n},"request completed")}function WK(e){let t=[...e.props];function r(n,i,s){this.raw=n,this[uh]=!1,this[GA]=!1,this[Fc]=!1,this[Ki]=null,this.request=i,this[at]={},this[lr]=null,this[Mc]=void 0,this[rb]=void 0,this.log=s;for(var o,a=0;a<t.length;a++)o=t[a],this[o.key]=o.value}return Object.setPrototypeOf(r.prototype,e.prototype),Object.setPrototypeOf(r,e),r.parent=e,r.props=t,r}function KK(e){if(e[Ce][FA]===null){e.log.warn("Trying to send a NotFound error inside a 404 handler. Sending basic 404 response."),e.code(404).send("404 Not Found");return}e.request[Ce]=e[Ce][FA],e[Ce].preHandler!==null?KA(e[Ce].preHandler,kK,e.request,e,MA.preHandlerCallback):MA.preHandlerCallback(null,e.request,e)}function QA(e,t,r,n){let i=CK(e,r,n);return i?i(t):JSON.stringify(t)}function JK(){}dh.exports=lt;dh.exports.buildReply=WK;dh.exports.setupResponseListeners=VK});var ek=w((FRe,ZA)=>{"use strict";ZA.exports=YK;function YK(e){if(!e)throw new TypeError("argument req is required");var t=QK(e.headers["x-forwarded-for"]||""),r=XK(e),n=[r].concat(t);return n}function XK(e){return e.socket?e.socket.remoteAddress:e.connection.remoteAddress}function QK(e){for(var t=e.length,r=[],n=e.length,i=e.length-1;i>=0;i--)switch(e.charCodeAt(i)){case 32:n===t&&(n=t=i);break;case 44:n!==t&&r.push(e.substring(n,t)),n=t=i;break;default:n=i;break}return n!==t&&r.push(e.substring(n,t)),r}});var rk=w((tk,zc)=>{(function(){var e,t,r,n,i,s,o,a,l;t={},a=this,typeof zc<"u"&&zc!==null&&zc.exports?zc.exports=t:a.ipaddr=t,o=function(c,u,d,h){var f,p;if(c.length!==u.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(f=0;h>0;){if(p=d-h,p<0&&(p=0),c[f]>>p!==u[f]>>p)return!1;h-=d,f+=1}return!0},t.subnetMatch=function(c,u,d){var h,f,p,m,v;d==null&&(d="unicast");for(p in u)for(m=u[p],m[0]&&!(m[0]instanceof Array)&&(m=[m]),h=0,f=m.length;h<f;h++)if(v=m[h],c.kind()===v[0].kind()&&c.match.apply(c,v))return p;return d},t.IPv4=function(){function c(u){var d,h,f;if(u.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(d=0,h=u.length;d<h;d++)if(f=u[d],!(0<=f&&f<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=u}return c.prototype.kind=function(){return"ipv4"},c.prototype.toString=function(){return this.octets.join(".")},c.prototype.toNormalizedString=function(){return this.toString()},c.prototype.toByteArray=function(){return this.octets.slice(0)},c.prototype.match=function(u,d){var h;if(d===void 0&&(h=u,u=h[0],d=h[1]),u.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return o(this.octets,u.octets,8,d)},c.prototype.SpecialRanges={unspecified:[[new c([0,0,0,0]),8]],broadcast:[[new c([255,255,255,255]),32]],multicast:[[new c([224,0,0,0]),4]],linkLocal:[[new c([169,254,0,0]),16]],loopback:[[new c([127,0,0,0]),8]],carrierGradeNat:[[new c([100,64,0,0]),10]],private:[[new c([10,0,0,0]),8],[new c([172,16,0,0]),12],[new c([192,168,0,0]),16]],reserved:[[new c([192,0,0,0]),24],[new c([192,0,2,0]),24],[new c([192,88,99,0]),24],[new c([198,51,100,0]),24],[new c([203,0,113,0]),24],[new c([240,0,0,0]),4]]},c.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},c.prototype.toIPv4MappedAddress=function(){return t.IPv6.parse("::ffff:"+this.toString())},c.prototype.prefixLengthFromSubnetMask=function(){var u,d,h,f,p,m,v;for(v={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},u=0,p=!1,d=h=3;h>=0;d=h+=-1)if(f=this.octets[d],f in v){if(m=v[f],p&&m!==0)return null;m!==8&&(p=!0),u+=m}else return null;return 32-u},c}(),r="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp("^"+r+"\\."+r+"\\."+r+"\\."+r+"$","i"),longValue:new RegExp("^"+r+"$","i")},t.IPv4.parser=function(c){var u,d,h,f,p;if(d=function(m){return m[0]==="0"&&m[1]!=="x"?parseInt(m,8):parseInt(m)},u=c.match(n.fourOctet))return function(){var m,v,y,E;for(y=u.slice(1,6),E=[],m=0,v=y.length;m<v;m++)h=y[m],E.push(d(h));return E}();if(u=c.match(n.longValue)){if(p=d(u[1]),p>4294967295||p<0)throw new Error("ipaddr: address outside defined range");return function(){var m,v;for(v=[],f=m=0;m<=24;f=m+=8)v.push(p>>f&255);return v}().reverse()}else return null},t.IPv6=function(){function c(u,d){var h,f,p,m,v,y;if(u.length===16)for(this.parts=[],h=f=0;f<=14;h=f+=2)this.parts.push(u[h]<<8|u[h+1]);else if(u.length===8)this.parts=u;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(y=this.parts,p=0,m=y.length;p<m;p++)if(v=y[p],!(0<=v&&v<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");d&&(this.zoneId=d)}return c.prototype.kind=function(){return"ipv6"},c.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},c.prototype.toRFC5952String=function(){var u,d,h,f,p;for(f=/((^|:)(0(:|$)){2,})/g,p=this.toNormalizedString(),u=0,d=-1;h=f.exec(p);)h[0].length>d&&(u=h.index,d=h[0].length);return d<0?p:p.substring(0,u)+"::"+p.substring(u+d)},c.prototype.toByteArray=function(){var u,d,h,f,p;for(u=[],p=this.parts,d=0,h=p.length;d<h;d++)f=p[d],u.push(f>>8),u.push(f&255);return u},c.prototype.toNormalizedString=function(){var u,d,h;return u=function(){var f,p,m,v;for(m=this.parts,v=[],f=0,p=m.length;f<p;f++)d=m[f],v.push(d.toString(16));return v}.call(this).join(":"),h="",this.zoneId&&(h="%"+this.zoneId),u+h},c.prototype.toFixedLengthString=function(){var u,d,h;return u=function(){var f,p,m,v;for(m=this.parts,v=[],f=0,p=m.length;f<p;f++)d=m[f],v.push(d.toString(16).padStart(4,"0"));return v}.call(this).join(":"),h="",this.zoneId&&(h="%"+this.zoneId),u+h},c.prototype.match=function(u,d){var h;if(d===void 0&&(h=u,u=h[0],d=h[1]),u.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return o(this.parts,u.parts,16,d)},c.prototype.SpecialRanges={unspecified:[new c([0,0,0,0,0,0,0,0]),128],linkLocal:[new c([65152,0,0,0,0,0,0,0]),10],multicast:[new c([65280,0,0,0,0,0,0,0]),8],loopback:[new c([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new c([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new c([0,0,0,0,0,65535,0,0]),96],rfc6145:[new c([0,0,0,0,65535,0,0,0]),96],rfc6052:[new c([100,65435,0,0,0,0,0,0]),96],"6to4":[new c([8194,0,0,0,0,0,0,0]),16],teredo:[new c([8193,0,0,0,0,0,0,0]),32],reserved:[[new c([8193,3512,0,0,0,0,0,0]),32]]},c.prototype.range=function(){return t.subnetMatch(this,this.SpecialRanges)},c.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},c.prototype.toIPv4Address=function(){var u,d,h;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return h=this.parts.slice(-2),u=h[0],d=h[1],new t.IPv4([u>>8,u&255,d>>8,d&255])},c.prototype.prefixLengthFromSubnetMask=function(){var u,d,h,f,p,m,v;for(v={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},u=0,p=!1,d=h=7;h>=0;d=h+=-1)if(f=this.parts[d],f in v){if(m=v[f],p&&m!==0)return null;m!==16&&(p=!0),u+=m}else return null;return 128-u},c}(),i="(?:[0-9a-f]+::?)+",l="%[0-9a-z]{1,}",s={zoneIndex:new RegExp(l,"i"),native:new RegExp("^(::)?("+i+")?([0-9a-f]+)?(::)?("+l+")?$","i"),transitional:new RegExp("^((?:"+i+")|(?:::)(?:"+i+")?)"+(r+"\\."+r+"\\."+r+"\\."+r)+("("+l+")?$"),"i")},e=function(c,u){var d,h,f,p,m,v;if(c.indexOf("::")!==c.lastIndexOf("::"))return null;for(v=(c.match(s.zoneIndex)||[])[0],v&&(v=v.substring(1),c=c.replace(/%.+$/,"")),d=0,h=-1;(h=c.indexOf(":",h+1))>=0;)d++;if(c.substr(0,2)==="::"&&d--,c.substr(-2,2)==="::"&&d--,d>u)return null;for(m=u-d,p=":";m--;)p+="0:";return c=c.replace("::",p),c[0]===":"&&(c=c.slice(1)),c[c.length-1]===":"&&(c=c.slice(0,-1)),u=function(){var y,E,b,g;for(b=c.split(":"),g=[],y=0,E=b.length;y<E;y++)f=b[y],g.push(parseInt(f,16));return g}(),{parts:u,zoneId:v}},t.IPv6.parser=function(c){var u,d,h,f,p,m,v;if(s.native.test(c))return e(c,8);if((f=c.match(s.transitional))&&(v=f[6]||"",u=e(f[1].slice(0,-1)+v,6),u.parts)){for(m=[parseInt(f[2]),parseInt(f[3]),parseInt(f[4]),parseInt(f[5])],d=0,h=m.length;d<h;d++)if(p=m[d],!(0<=p&&p<=255))return null;return u.parts.push(m[0]<<8|m[1]),u.parts.push(m[2]<<8|m[3]),{parts:u.parts,zoneId:u.zoneId}}return null},t.IPv4.isIPv4=t.IPv6.isIPv6=function(c){return this.parser(c)!==null},t.IPv4.isValid=function(c){var u;try{return new this(this.parser(c)),!0}catch(d){return u=d,!1}},t.IPv4.isValidFourPartDecimal=function(c){return!!(t.IPv4.isValid(c)&&c.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},t.IPv6.isValid=function(c){var u,d;if(typeof c=="string"&&c.indexOf(":")===-1)return!1;try{return u=this.parser(c),new this(u.parts,u.zoneId),!0}catch(h){return d=h,!1}},t.IPv4.parse=function(c){var u;if(u=this.parser(c),u===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u)},t.IPv6.parse=function(c){var u;if(u=this.parser(c),u.parts===null)throw new Error("ipaddr: string is not formatted like ip address");return new this(u.parts,u.zoneId)},t.IPv4.parseCIDR=function(c){var u,d,h;if((d=c.match(/^(.+)\/(\d+)$/))&&(u=parseInt(d[2]),u>=0&&u<=32))return h=[this.parse(d[1]),u],Object.defineProperty(h,"toString",{value:function(){return this.join("/")}}),h;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},t.IPv4.subnetMaskFromPrefixLength=function(c){var u,d,h;if(c=parseInt(c),c<0||c>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(h=[0,0,0,0],d=0,u=Math.floor(c/8);d<u;)h[d]=255,d++;return u<4&&(h[u]=Math.pow(2,c%8)-1<<8-c%8),new this(h)},t.IPv4.broadcastAddressFromCIDR=function(c){var u,d,h,f,p,m;try{for(u=this.parseCIDR(c),f=u[0].toByteArray(),m=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),p=[],h=0;h<4;)p.push(parseInt(f[h],10)|parseInt(m[h],10)^255),h++;return new this(p)}catch(v){throw d=v,new Error("ipaddr: the address does not have IPv4 CIDR format")}},t.IPv4.networkAddressFromCIDR=function(c){var u,d,h,f,p,m;try{for(u=this.parseCIDR(c),f=u[0].toByteArray(),m=this.subnetMaskFromPrefixLength(u[1]).toByteArray(),p=[],h=0;h<4;)p.push(parseInt(f[h],10)&parseInt(m[h],10)),h++;return new this(p)}catch(v){throw d=v,new Error("ipaddr: the address does not have IPv4 CIDR format")}},t.IPv6.parseCIDR=function(c){var u,d,h;if((d=c.match(/^(.+)\/(\d+)$/))&&(u=parseInt(d[2]),u>=0&&u<=128))return h=[this.parse(d[1]),u],Object.defineProperty(h,"toString",{value:function(){return this.join("/")}}),h;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},t.isValid=function(c){return t.IPv6.isValid(c)||t.IPv4.isValid(c)},t.parse=function(c){if(t.IPv6.isValid(c))return t.IPv6.parse(c);if(t.IPv4.isValid(c))return t.IPv4.parse(c);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},t.parseCIDR=function(c){var u;try{return t.IPv6.parseCIDR(c)}catch(d){u=d;try{return t.IPv4.parseCIDR(c)}catch(h){throw u=h,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},t.fromByteArray=function(c){var u;if(u=c.length,u===4)return new t.IPv4(c);if(u===16)return new t.IPv6(c);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},t.process=function(c){var u;return u=this.parse(c),u.kind()==="ipv6"&&u.isIPv4MappedAddress()?u.toIPv4Address():u}}).call(tk)});var ak=w((MRe,gh)=>{"use strict";gh.exports=sJ;gh.exports.all=sk;gh.exports.compile=ok;var ZK=ek(),ik=rk(),eJ=/^[0-9]+$/,ph=ik.isValid,mh=ik.parse,nk={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function sk(e,t){var r=ZK(e);if(!t)return r;typeof t!="function"&&(t=ok(t));for(var n=0;n<r.length-1;n++)t(r[n],n)||(r.length=n+1);return r}function ok(e){if(!e)throw new TypeError("argument is required");var t;if(typeof e=="string")t=[e];else if(Array.isArray(e))t=e.slice();else throw new TypeError("unsupported trust argument");for(var r=0;r<t.length;r++)e=t[r],Object.prototype.hasOwnProperty.call(nk,e)&&(e=nk[e],t.splice.apply(t,[r,1].concat(e)),r+=e.length-1);return rJ(tJ(t))}function tJ(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=nJ(e[r]);return t}function rJ(e){var t=e.length;return t===0?oJ:t===1?lJ(e[0]):aJ(e)}function nJ(e){var t=e.lastIndexOf("/"),r=t!==-1?e.substring(0,t):e;if(!ph(r))throw new TypeError("invalid IP address: "+r);var n=mh(r);t===-1&&n.kind()==="ipv6"&&n.isIPv4MappedAddress()&&(n=n.toIPv4Address());var i=n.kind()==="ipv6"?128:32,s=t!==-1?e.substring(t+1,e.length):null;if(s===null?s=i:eJ.test(s)?s=parseInt(s,10):n.kind()==="ipv4"&&ph(s)?s=iJ(s):s=null,s<=0||s>i)throw new TypeError("invalid range on address: "+e);return[n,s]}function iJ(e){var t=mh(e),r=t.kind();return r==="ipv4"?t.prefixLengthFromSubnetMask():null}function sJ(e,t){if(!e)throw new TypeError("req argument is required");if(!t)throw new TypeError("trust argument is required");var r=sk(e,t),n=r[r.length-1];return n}function oJ(){return!1}function aJ(e){return function(r){if(!ph(r))return!1;for(var n=mh(r),i,s=n.kind(),o=0;o<e.length;o++){var a=e[o],l=a[0],c=l.kind(),u=a[1],d=n;if(s!==c){if(c==="ipv4"&&!n.isIPv4MappedAddress())continue;i||(i=c==="ipv4"?n.toIPv4Address():n.toIPv4MappedAddress()),d=i}if(d.match(l,u))return!0}return!1}}function lJ(e){var t=e[0],r=t.kind(),n=r==="ipv4",i=e[1];return function(o){if(!ph(o))return!1;var a=mh(o),l=a.kind();if(l!==r){if(n&&!a.isIPv4MappedAddress())return!1;a=n?a.toIPv4Address():a.toIPv4MappedAddress()}return a.match(t,i)}}});var Hc=w((BRe,lk)=>{var cJ="2.0.0",uJ=Number.MAX_SAFE_INTEGER||9007199254740991,fJ=16;lk.exports={SEMVER_SPEC_VERSION:cJ,MAX_LENGTH:256,MAX_SAFE_INTEGER:uJ,MAX_SAFE_COMPONENT_LENGTH:fJ}});var Uc=w((zRe,ck)=>{var dJ=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};ck.exports=dJ});var qo=w((ks,uk)=>{var{MAX_SAFE_COMPONENT_LENGTH:ob}=Hc(),hJ=Uc();ks=uk.exports={};var pJ=ks.re=[],ae=ks.src=[],le=ks.t={},mJ=0,Se=(e,t,r)=>{let n=mJ++;hJ(e,n,t),le[e]=n,ae[n]=t,pJ[n]=new RegExp(t,r?"g":void 0)};Se("NUMERICIDENTIFIER","0|[1-9]\\d*");Se("NUMERICIDENTIFIERLOOSE","[0-9]+");Se("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Se("MAINVERSION",`(${ae[le.NUMERICIDENTIFIER]})\\.(${ae[le.NUMERICIDENTIFIER]})\\.(${ae[le.NUMERICIDENTIFIER]})`);Se("MAINVERSIONLOOSE",`(${ae[le.NUMERICIDENTIFIERLOOSE]})\\.(${ae[le.NUMERICIDENTIFIERLOOSE]})\\.(${ae[le.NUMERICIDENTIFIERLOOSE]})`);Se("PRERELEASEIDENTIFIER",`(?:${ae[le.NUMERICIDENTIFIER]}|${ae[le.NONNUMERICIDENTIFIER]})`);Se("PRERELEASEIDENTIFIERLOOSE",`(?:${ae[le.NUMERICIDENTIFIERLOOSE]}|${ae[le.NONNUMERICIDENTIFIER]})`);Se("PRERELEASE",`(?:-(${ae[le.PRERELEASEIDENTIFIER]}(?:\\.${ae[le.PRERELEASEIDENTIFIER]})*))`);Se("PRERELEASELOOSE",`(?:-?(${ae[le.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ae[le.PRERELEASEIDENTIFIERLOOSE]})*))`);Se("BUILDIDENTIFIER","[0-9A-Za-z-]+");Se("BUILD",`(?:\\+(${ae[le.BUILDIDENTIFIER]}(?:\\.${ae[le.BUILDIDENTIFIER]})*))`);Se("FULLPLAIN",`v?${ae[le.MAINVERSION]}${ae[le.PRERELEASE]}?${ae[le.BUILD]}?`);Se("FULL",`^${ae[le.FULLPLAIN]}$`);Se("LOOSEPLAIN",`[v=\\s]*${ae[le.MAINVERSIONLOOSE]}${ae[le.PRERELEASELOOSE]}?${ae[le.BUILD]}?`);Se("LOOSE",`^${ae[le.LOOSEPLAIN]}$`);Se("GTLT","((?:<|>)?=?)");Se("XRANGEIDENTIFIERLOOSE",`${ae[le.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Se("XRANGEIDENTIFIER",`${ae[le.NUMERICIDENTIFIER]}|x|X|\\*`);Se("XRANGEPLAIN",`[v=\\s]*(${ae[le.XRANGEIDENTIFIER]})(?:\\.(${ae[le.XRANGEIDENTIFIER]})(?:\\.(${ae[le.XRANGEIDENTIFIER]})(?:${ae[le.PRERELEASE]})?${ae[le.BUILD]}?)?)?`);Se("XRANGEPLAINLOOSE",`[v=\\s]*(${ae[le.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ae[le.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ae[le.XRANGEIDENTIFIERLOOSE]})(?:${ae[le.PRERELEASELOOSE]})?${ae[le.BUILD]}?)?)?`);Se("XRANGE",`^${ae[le.GTLT]}\\s*${ae[le.XRANGEPLAIN]}$`);Se("XRANGELOOSE",`^${ae[le.GTLT]}\\s*${ae[le.XRANGEPLAINLOOSE]}$`);Se("COERCE",`(^|[^\\d])(\\d{1,${ob}})(?:\\.(\\d{1,${ob}}))?(?:\\.(\\d{1,${ob}}))?(?:$|[^\\d])`);Se("COERCERTL",ae[le.COERCE],!0);Se("LONETILDE","(?:~>?)");Se("TILDETRIM",`(\\s*)${ae[le.LONETILDE]}\\s+`,!0);ks.tildeTrimReplace="$1~";Se("TILDE",`^${ae[le.LONETILDE]}${ae[le.XRANGEPLAIN]}$`);Se("TILDELOOSE",`^${ae[le.LONETILDE]}${ae[le.XRANGEPLAINLOOSE]}$`);Se("LONECARET","(?:\\^)");Se("CARETTRIM",`(\\s*)${ae[le.LONECARET]}\\s+`,!0);ks.caretTrimReplace="$1^";Se("CARET",`^${ae[le.LONECARET]}${ae[le.XRANGEPLAIN]}$`);Se("CARETLOOSE",`^${ae[le.LONECARET]}${ae[le.XRANGEPLAINLOOSE]}$`);Se("COMPARATORLOOSE",`^${ae[le.GTLT]}\\s*(${ae[le.LOOSEPLAIN]})$|^$`);Se("COMPARATOR",`^${ae[le.GTLT]}\\s*(${ae[le.FULLPLAIN]})$|^$`);Se("COMPARATORTRIM",`(\\s*)${ae[le.GTLT]}\\s*(${ae[le.LOOSEPLAIN]}|${ae[le.XRANGEPLAIN]})`,!0);ks.comparatorTrimReplace="$1$2$3";Se("HYPHENRANGE",`^\\s*(${ae[le.XRANGEPLAIN]})\\s+-\\s+(${ae[le.XRANGEPLAIN]})\\s*$`);Se("HYPHENRANGELOOSE",`^\\s*(${ae[le.XRANGEPLAINLOOSE]})\\s+-\\s+(${ae[le.XRANGEPLAINLOOSE]})\\s*$`);Se("STAR","(<|>)?=?\\s*\\*");Se("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Se("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Vc=w((HRe,fk)=>{var gJ=["includePrerelease","loose","rtl"],yJ=e=>e?typeof e!="object"?{loose:!0}:gJ.filter(t=>e[t]).reduce((t,r)=>(t[r]=!0,t),{}):{};fk.exports=yJ});var ab=w((URe,pk)=>{var dk=/^[0-9]+$/,hk=(e,t)=>{let r=dk.test(e),n=dk.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},bJ=(e,t)=>hk(t,e);pk.exports={compareIdentifiers:hk,rcompareIdentifiers:bJ}});var Er=w((VRe,bk)=>{var yh=Uc(),{MAX_LENGTH:mk,MAX_SAFE_INTEGER:bh}=Hc(),{re:gk,t:yk}=qo(),vJ=Vc(),{compareIdentifiers:rl}=ab(),dn=class{constructor(t,r){if(r=vJ(r),t instanceof dn){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>mk)throw new TypeError(`version is longer than ${mk} characters`);yh("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?gk[yk.LOOSE]:gk[yk.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>bh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>bh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>bh||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<bh)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(yh("SemVer.compare",this.version,this.options,t),!(t instanceof dn)){if(typeof t=="string"&&t===this.version)return 0;t=new dn(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof dn||(t=new dn(t,this.options)),rl(this.major,t.major)||rl(this.minor,t.minor)||rl(this.patch,t.patch)}comparePre(t){if(t instanceof dn||(t=new dn(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(yh("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return rl(n,i)}while(++r)}compareBuild(t){t instanceof dn||(t=new dn(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(yh("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return rl(n,i)}while(++r)}inc(t,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(rl(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};bk.exports=dn});var Do=w((GRe,Ek)=>{var{MAX_LENGTH:wJ}=Hc(),{re:vk,t:wk}=qo(),_k=Er(),_J=Vc(),EJ=(e,t)=>{if(t=_J(t),e instanceof _k)return e;if(typeof e!="string"||e.length>wJ||!(t.loose?vk[wk.LOOSE]:vk[wk.FULL]).test(e))return null;try{return new _k(e,t)}catch{return null}};Ek.exports=EJ});var Sk=w((WRe,xk)=>{var xJ=Do(),SJ=(e,t)=>{let r=xJ(e,t);return r?r.version:null};xk.exports=SJ});var Tk=w((KRe,Rk)=>{var RJ=Do(),TJ=(e,t)=>{let r=RJ(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};Rk.exports=TJ});var kk=w((JRe,Ak)=>{var Pk=Er(),PJ=(e,t,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Pk(e instanceof Pk?e.version:e,r).inc(t,n).version}catch{return null}};Ak.exports=PJ});var kn=w((YRe,Ck)=>{var Ok=Er(),AJ=(e,t,r)=>new Ok(e,r).compare(new Ok(t,r));Ck.exports=AJ});var vh=w((XRe,Ik)=>{var kJ=kn(),OJ=(e,t,r)=>kJ(e,t,r)===0;Ik.exports=OJ});var jk=w((QRe,Nk)=>{var $k=Do(),CJ=vh(),IJ=(e,t)=>{if(CJ(e,t))return null;{let r=$k(e),n=$k(t),i=r.prerelease.length||n.prerelease.length,s=i?"pre":"",o=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return s+a;return o}};Nk.exports=IJ});var Dk=w((ZRe,qk)=>{var $J=Er(),NJ=(e,t)=>new $J(e,t).major;qk.exports=NJ});var Fk=w((eTe,Lk)=>{var jJ=Er(),qJ=(e,t)=>new jJ(e,t).minor;Lk.exports=qJ});var Bk=w((tTe,Mk)=>{var DJ=Er(),LJ=(e,t)=>new DJ(e,t).patch;Mk.exports=LJ});var Hk=w((rTe,zk)=>{var FJ=Do(),MJ=(e,t)=>{let r=FJ(e,t);return r&&r.prerelease.length?r.prerelease:null};zk.exports=MJ});var Vk=w((nTe,Uk)=>{var BJ=kn(),zJ=(e,t,r)=>BJ(t,e,r);Uk.exports=zJ});var Wk=w((iTe,Gk)=>{var HJ=kn(),UJ=(e,t)=>HJ(e,t,!0);Gk.exports=UJ});var wh=w((sTe,Jk)=>{var Kk=Er(),VJ=(e,t,r)=>{let n=new Kk(e,r),i=new Kk(t,r);return n.compare(i)||n.compareBuild(i)};Jk.exports=VJ});var Xk=w((oTe,Yk)=>{var GJ=wh(),WJ=(e,t)=>e.sort((r,n)=>GJ(r,n,t));Yk.exports=WJ});var Zk=w((aTe,Qk)=>{var KJ=wh(),JJ=(e,t)=>e.sort((r,n)=>KJ(n,r,t));Qk.exports=JJ});var Gc=w((lTe,eO)=>{var YJ=kn(),XJ=(e,t,r)=>YJ(e,t,r)>0;eO.exports=XJ});var _h=w((cTe,tO)=>{var QJ=kn(),ZJ=(e,t,r)=>QJ(e,t,r)<0;tO.exports=ZJ});var lb=w((uTe,rO)=>{var eY=kn(),tY=(e,t,r)=>eY(e,t,r)!==0;rO.exports=tY});var Wc=w((fTe,nO)=>{var rY=kn(),nY=(e,t,r)=>rY(e,t,r)>=0;nO.exports=nY});var Eh=w((dTe,iO)=>{var iY=kn(),sY=(e,t,r)=>iY(e,t,r)<=0;iO.exports=sY});var cb=w((hTe,sO)=>{var oY=vh(),aY=lb(),lY=Gc(),cY=Wc(),uY=_h(),fY=Eh(),dY=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return oY(e,r,n);case"!=":return aY(e,r,n);case">":return lY(e,r,n);case">=":return cY(e,r,n);case"<":return uY(e,r,n);case"<=":return fY(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};sO.exports=dY});var ub=w((pTe,oO)=>{var hY=Er(),pY=Do(),{re:xh,t:Sh}=qo(),mY=(e,t)=>{if(e instanceof hY)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(xh[Sh.COERCE]);else{let n;for(;(n=xh[Sh.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),xh[Sh.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;xh[Sh.COERCERTL].lastIndex=-1}return r===null?null:pY(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};oO.exports=mY});var lO=w((mTe,aO)=>{"use strict";aO.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var uO=w((gTe,cO)=>{"use strict";cO.exports=Ue;Ue.Node=Lo;Ue.create=Ue;function Ue(e){var t=this;if(t instanceof Ue||(t=new Ue),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Ue.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Ue.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Ue.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Ue.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)yY(this,arguments[e]);return this.length};Ue.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)bY(this,arguments[e]);return this.length};Ue.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Ue.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Ue.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Ue.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Ue.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Ue.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Ue.prototype.map=function(e,t){t=t||this;for(var r=new Ue,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Ue.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Ue,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Ue.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Ue.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Ue.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Ue.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Ue.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ue;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Ue.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Ue;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Ue.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=gY(this,i,r[n]);return s};Ue.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function gY(e,t,r){var n=t===e.head?new Lo(r,null,t,e):new Lo(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function yY(e,t){e.tail=new Lo(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function bY(e,t){e.head=new Lo(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Lo(e,t,r,n){if(!(this instanceof Lo))return new Lo(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{lO()(Ue)}catch{}});var mO=w((yTe,pO)=>{"use strict";var vY=uO(),Fo=Symbol("max"),Yi=Symbol("length"),nl=Symbol("lengthCalculator"),Jc=Symbol("allowStale"),Mo=Symbol("maxAge"),Ji=Symbol("dispose"),fO=Symbol("noDisposeOnSet"),cr=Symbol("lruList"),Wn=Symbol("cache"),hO=Symbol("updateAgeOnGet"),fb=()=>1,hb=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[Fo]=t.max||1/0,n=t.length||fb;if(this[nl]=typeof n!="function"?fb:n,this[Jc]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Mo]=t.maxAge||0,this[Ji]=t.dispose,this[fO]=t.noDisposeOnSet||!1,this[hO]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Fo]=t||1/0,Kc(this)}get max(){return this[Fo]}set allowStale(t){this[Jc]=!!t}get allowStale(){return this[Jc]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Mo]=t,Kc(this)}get maxAge(){return this[Mo]}set lengthCalculator(t){typeof t!="function"&&(t=fb),t!==this[nl]&&(this[nl]=t,this[Yi]=0,this[cr].forEach(r=>{r.length=this[nl](r.value,r.key),this[Yi]+=r.length})),Kc(this)}get lengthCalculator(){return this[nl]}get length(){return this[Yi]}get itemCount(){return this[cr].length}rforEach(t,r){r=r||this;for(let n=this[cr].tail;n!==null;){let i=n.prev;dO(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[cr].head;n!==null;){let i=n.next;dO(this,t,n,r),n=i}}keys(){return this[cr].toArray().map(t=>t.key)}values(){return this[cr].toArray().map(t=>t.value)}reset(){this[Ji]&&this[cr]&&this[cr].length&&this[cr].forEach(t=>this[Ji](t.key,t.value)),this[Wn]=new Map,this[cr]=new vY,this[Yi]=0}dump(){return this[cr].map(t=>Rh(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[cr]}set(t,r,n){if(n=n||this[Mo],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[nl](r,t);if(this[Wn].has(t)){if(s>this[Fo])return il(this,this[Wn].get(t)),!1;let l=this[Wn].get(t).value;return this[Ji]&&(this[fO]||this[Ji](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Yi]+=s-l.length,l.length=s,this.get(t),Kc(this),!0}let o=new pb(t,r,s,i,n);return o.length>this[Fo]?(this[Ji]&&this[Ji](t,r),!1):(this[Yi]+=o.length,this[cr].unshift(o),this[Wn].set(t,this[cr].head),Kc(this),!0)}has(t){if(!this[Wn].has(t))return!1;let r=this[Wn].get(t).value;return!Rh(this,r)}get(t){return db(this,t,!0)}peek(t){return db(this,t,!1)}pop(){let t=this[cr].tail;return t?(il(this,t),t.value):null}del(t){il(this,this[Wn].get(t))}load(t){this.reset();let r=Date.now();for(let n=t.length-1;n>=0;n--){let i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Wn].forEach((t,r)=>db(this,r,!1))}},db=(e,t,r)=>{let n=e[Wn].get(t);if(n){let i=n.value;if(Rh(e,i)){if(il(e,n),!e[Jc])return}else r&&(e[hO]&&(n.value.now=Date.now()),e[cr].unshiftNode(n));return i.value}},Rh=(e,t)=>{if(!t||!t.maxAge&&!e[Mo])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Mo]&&r>e[Mo]},Kc=e=>{if(e[Yi]>e[Fo])for(let t=e[cr].tail;e[Yi]>e[Fo]&&t!==null;){let r=t.prev;il(e,t),t=r}},il=(e,t)=>{if(t){let r=t.value;e[Ji]&&e[Ji](r.key,r.value),e[Yi]-=r.length,e[Wn].delete(r.key),e[cr].removeNode(t)}},pb=class{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},dO=(e,t,r,n)=>{let i=r.value;Rh(e,i)&&(il(e,r),e[Jc]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};pO.exports=hb});var On=w((bTe,vO)=>{var Bo=class{constructor(t,r){if(r=_Y(r),t instanceof Bo)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new Bo(t.raw,r);if(t instanceof mb)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t,this.set=t.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!yO(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&TY(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${t}`,i=gO.get(n);if(i)return i;let s=this.options.loose,o=s?Qr[Nr.HYPHENRANGELOOSE]:Qr[Nr.HYPHENRANGE];t=t.replace(o,qY(this.options.includePrerelease)),St("hyphen replace",t),t=t.replace(Qr[Nr.COMPARATORTRIM],xY),St("comparator trim",t),t=t.replace(Qr[Nr.TILDETRIM],SY),t=t.replace(Qr[Nr.CARETTRIM],RY),t=t.split(/\s+/).join(" ");let a=t.split(" ").map(d=>PY(d,this.options)).join(" ").split(/\s+/).map(d=>jY(d,this.options));s&&(a=a.filter(d=>(St("loose invalid filter",d,this.options),!!d.match(Qr[Nr.COMPARATORLOOSE])))),St("range list",a);let l=new Map,c=a.map(d=>new mb(d,this.options));for(let d of c){if(yO(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return gO.set(n,u),u}intersects(t,r){if(!(t instanceof Bo))throw new TypeError("a Range is required");return this.set.some(n=>bO(n,r)&&t.set.some(i=>bO(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new EY(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(DY(this.set[r],t,this.options))return!0;return!1}};vO.exports=Bo;var wY=mO(),gO=new wY({max:1e3}),_Y=Vc(),mb=Yc(),St=Uc(),EY=Er(),{re:Qr,t:Nr,comparatorTrimReplace:xY,tildeTrimReplace:SY,caretTrimReplace:RY}=qo(),yO=e=>e.value==="<0.0.0-0",TY=e=>e.value==="",bO=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},PY=(e,t)=>(St("comp",e,t),e=OY(e,t),St("caret",e),e=AY(e,t),St("tildes",e),e=IY(e,t),St("xrange",e),e=NY(e,t),St("stars",e),e),jr=e=>!e||e.toLowerCase()==="x"||e==="*",AY=(e,t)=>e.trim().split(/\s+/).map(r=>kY(r,t)).join(" "),kY=(e,t)=>{let r=t.loose?Qr[Nr.TILDELOOSE]:Qr[Nr.TILDE];return e.replace(r,(n,i,s,o,a)=>{St("tilde",e,n,i,s,o,a);let l;return jr(i)?l="":jr(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:jr(o)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(St("replaceTilde pr",a),l=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,St("tilde return",l),l})},OY=(e,t)=>e.trim().split(/\s+/).map(r=>CY(r,t)).join(" "),CY=(e,t)=>{St("caret",e,t);let r=t.loose?Qr[Nr.CARETLOOSE]:Qr[Nr.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,o,a,l)=>{St("caret",e,i,s,o,a,l);let c;return jr(s)?c="":jr(o)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:jr(a)?s==="0"?c=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:l?(St("replaceCaret pr",l),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${l} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${l} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${l} <${+s+1}.0.0-0`):(St("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),St("caret return",c),c})},IY=(e,t)=>(St("replaceXRanges",e,t),e.split(/\s+/).map(r=>$Y(r,t)).join(" ")),$Y=(e,t)=>{e=e.trim();let r=t.loose?Qr[Nr.XRANGELOOSE]:Qr[Nr.XRANGE];return e.replace(r,(n,i,s,o,a,l)=>{St("xRange",e,n,i,s,o,a,l);let c=jr(s),u=c||jr(o),d=u||jr(a),h=d;return i==="="&&h&&(i=""),l=t.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(u&&(o=0),a=0,i===">"?(i=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",u?s=+s+1:o=+o+1),i==="<"&&(l="-0"),n=`${i+s}.${o}.${a}${l}`):u?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${o}.0${l} <${s}.${+o+1}.0-0`),St("xRange return",n),n})},NY=(e,t)=>(St("replaceStars",e,t),e.trim().replace(Qr[Nr.STAR],"")),jY=(e,t)=>(St("replaceGTE0",e,t),e.trim().replace(Qr[t.includePrerelease?Nr.GTE0PRE:Nr.GTE0],"")),qY=e=>(t,r,n,i,s,o,a,l,c,u,d,h,f)=>(jr(n)?r="":jr(i)?r=`>=${n}.0.0${e?"-0":""}`:jr(s)?r=`>=${n}.${i}.0${e?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,jr(c)?l="":jr(u)?l=`<${+c+1}.0.0-0`:jr(d)?l=`<${c}.${+u+1}.0-0`:h?l=`<=${c}.${u}.${d}-${h}`:e?l=`<${c}.${u}.${+d+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),DY=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(St(e[n].semver),e[n].semver!==mb.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var Yc=w((vTe,SO)=>{var Xc=Symbol("SemVer ANY"),sl=class{static get ANY(){return Xc}constructor(t,r){if(r=LY(r),t instanceof sl){if(t.loose===!!r.loose)return t;t=t.value}yb("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Xc?this.value="":this.value=this.operator+this.semver.version,yb("comp",this)}parse(t){let r=this.options.loose?wO[_O.COMPARATORLOOSE]:wO[_O.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new EO(n[2],this.options.loose):this.semver=Xc}toString(){return this.value}test(t){if(yb("Comparator.test",t,this.options.loose),this.semver===Xc||t===Xc)return!0;if(typeof t=="string")try{t=new EO(t,this.options)}catch{return!1}return gb(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof sl))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new xO(t.value,r).test(this.value);if(t.operator==="")return t.value===""?!0:new xO(this.value,r).test(t.semver);let n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,o=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=gb(this.semver,"<",t.semver,r)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),l=gb(this.semver,">",t.semver,r)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||i||s&&o||a||l}};SO.exports=sl;var LY=Vc(),{re:wO,t:_O}=qo(),gb=cb(),yb=Uc(),EO=Er(),xO=On()});var Qc=w((wTe,RO)=>{var FY=On(),MY=(e,t,r)=>{try{t=new FY(t,r)}catch{return!1}return t.test(e)};RO.exports=MY});var PO=w((_Te,TO)=>{var BY=On(),zY=(e,t)=>new BY(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));TO.exports=zY});var kO=w((ETe,AO)=>{var HY=Er(),UY=On(),VY=(e,t,r)=>{let n=null,i=null,s=null;try{s=new UY(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new HY(n,r))}),n};AO.exports=VY});var CO=w((xTe,OO)=>{var GY=Er(),WY=On(),KY=(e,t,r)=>{let n=null,i=null,s=null;try{s=new WY(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new GY(n,r))}),n};OO.exports=KY});var NO=w((STe,$O)=>{var bb=Er(),JY=On(),IO=Gc(),YY=(e,t)=>{e=new JY(e,t);let r=new bb("0.0.0");if(e.test(r)||(r=new bb("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(o=>{let a=new bb(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||IO(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||IO(r,s))&&(r=s)}return r&&e.test(r)?r:null};$O.exports=YY});var qO=w((RTe,jO)=>{var XY=On(),QY=(e,t)=>{try{return new XY(e,t).range||"*"}catch{return null}};jO.exports=QY});var Th=w((TTe,MO)=>{var ZY=Er(),FO=Yc(),{ANY:eX}=FO,tX=On(),rX=Qc(),DO=Gc(),LO=_h(),nX=Eh(),iX=Wc(),sX=(e,t,r,n)=>{e=new ZY(e,n),t=new tX(t,n);let i,s,o,a,l;switch(r){case">":i=DO,s=nX,o=LO,a=">",l=">=";break;case"<":i=LO,s=iX,o=DO,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(rX(e,t,n))return!1;for(let c=0;c<t.set.length;++c){let u=t.set[c],d=null,h=null;if(u.forEach(f=>{f.semver===eX&&(f=new FO(">=0.0.0")),d=d||f,h=h||f,i(f.semver,d.semver,n)?d=f:o(f.semver,h.semver,n)&&(h=f)}),d.operator===a||d.operator===l||(!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};MO.exports=sX});var zO=w((PTe,BO)=>{var oX=Th(),aX=(e,t,r)=>oX(e,t,">",r);BO.exports=aX});var UO=w((ATe,HO)=>{var lX=Th(),cX=(e,t,r)=>lX(e,t,"<",r);HO.exports=cX});var WO=w((kTe,GO)=>{var VO=On(),uX=(e,t,r)=>(e=new VO(e,r),t=new VO(t,r),e.intersects(t));GO.exports=uX});var JO=w((OTe,KO)=>{var fX=Qc(),dX=kn();KO.exports=(e,t,r)=>{let n=[],i=null,s=null,o=e.sort((u,d)=>dX(u,d,r));for(let u of o)fX(u,t,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[u,d]of n)u===d?a.push(u):!d&&u===o[0]?a.push("*"):d?u===o[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let l=a.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t}});var eC=w((CTe,ZO)=>{var YO=On(),Ph=Yc(),{ANY:vb}=Ph,Zc=Qc(),wb=kn(),hX=(e,t,r={})=>{if(e===t)return!0;e=new YO(e,r),t=new YO(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let o=pX(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},pX=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===vb){if(t.length===1&&t[0].semver===vb)return!0;r.includePrerelease?e=[new Ph(">=0.0.0-0")]:e=[new Ph(">=0.0.0")]}if(t.length===1&&t[0].semver===vb){if(r.includePrerelease)return!0;t=[new Ph(">=0.0.0")]}let n=new Set,i,s;for(let f of e)f.operator===">"||f.operator===">="?i=XO(i,f,r):f.operator==="<"||f.operator==="<="?s=QO(s,f,r):n.add(f.semver);if(n.size>1)return null;let o;if(i&&s){if(o=wb(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let f of n){if(i&&!Zc(f,String(i),r)||s&&!Zc(f,String(s),r))return null;for(let p of t)if(!Zc(f,String(p),r))return!1;return!0}let a,l,c,u,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of t){if(u=u||f.operator===">"||f.operator===">=",c=c||f.operator==="<"||f.operator==="<=",i){if(h&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===h.major&&f.semver.minor===h.minor&&f.semver.patch===h.patch&&(h=!1),f.operator===">"||f.operator===">="){if(a=XO(i,f,r),a===f&&a!==i)return!1}else if(i.operator===">="&&!Zc(i.semver,String(f),r))return!1}if(s){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(l=QO(s,f,r),l===f&&l!==s)return!1}else if(s.operator==="<="&&!Zc(s.semver,String(f),r))return!1}if(!f.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&u&&!i&&o!==0||h||d)},XO=(e,t,r)=>{if(!e)return t;let n=wb(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},QO=(e,t,r)=>{if(!e)return t;let n=wb(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};ZO.exports=hX});var Eb=w((ITe,rC)=>{var _b=qo(),mX=Hc(),gX=Er(),tC=ab(),yX=Do(),bX=Sk(),vX=Tk(),wX=kk(),_X=jk(),EX=Dk(),xX=Fk(),SX=Bk(),RX=Hk(),TX=kn(),PX=Vk(),AX=Wk(),kX=wh(),OX=Xk(),CX=Zk(),IX=Gc(),$X=_h(),NX=vh(),jX=lb(),qX=Wc(),DX=Eh(),LX=cb(),FX=ub(),MX=Yc(),BX=On(),zX=Qc(),HX=PO(),UX=kO(),VX=CO(),GX=NO(),WX=qO(),KX=Th(),JX=zO(),YX=UO(),XX=WO(),QX=JO(),ZX=eC();rC.exports={parse:yX,valid:bX,clean:vX,inc:wX,diff:_X,major:EX,minor:xX,patch:SX,prerelease:RX,compare:TX,rcompare:PX,compareLoose:AX,compareBuild:kX,sort:OX,rsort:CX,gt:IX,lt:$X,eq:NX,neq:jX,gte:qX,lte:DX,cmp:LX,coerce:FX,Comparator:MX,Range:BX,satisfies:zX,toComparators:HX,maxSatisfying:UX,minSatisfying:VX,minVersion:GX,validRange:WX,outside:KX,gtr:JX,ltr:YX,intersects:XX,simplifyRange:QX,subset:ZX,SemVer:gX,re:_b.re,src:_b.src,tokens:_b.t,SEMVER_SPEC_VERSION:mX.SEMVER_SPEC_VERSION,compareIdentifiers:tC.compareIdentifiers,rcompareIdentifiers:tC.rcompareIdentifiers}});var kh=w(($Te,Rb)=>{"use strict";var Ah=ak(),eQ=Eb(),nC=ko(),{kHasBeenDecorated:tQ,kSchemaBody:rQ,kSchemaHeaders:nQ,kSchemaParams:iQ,kSchemaQuerystring:iC,kSchemaController:xb,kOptions:sQ,kRequestValidateWeakMap:Os,kRouteContext:Dt,kPublicRouteContext:sC}=ar(),{FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:oQ}=Kr(),oC={body:rQ,headers:nQ,params:iQ,querystring:iC,query:iC};function Sb(e,t,r,n,i,s){this.id=e,this[Dt]=s,this.params=t,this.raw=r,this.query=n,this.log=i,this.body=void 0}Sb.props=[];function aQ(e){if(typeof e=="function")return e;if(e===!0)return function(){return!0};if(typeof e=="number")return function(t,r){return r<e};if(typeof e=="string"){let t=e.split(",").map(r=>r.trim());return Ah.compile(t)}return Ah.compile(e)}function lQ(e,t){return t?cQ(e,t):lC(e)}function lC(e){let t=[...e.props];function r(n,i,s,o,a,l){this.id=n,this[Dt]=l,this.params=i,this.raw=s,this.query=o,this.log=a,this.body=void 0;for(var c,u=0;u<t.length;u++)c=t[u],this[c.key]=c.value}return Object.setPrototypeOf(r.prototype,e.prototype),Object.setPrototypeOf(r,e),r.props=t,r.parent=e,r}function aC(e){let t=e.lastIndexOf(",");return t===-1?e.trim():e.slice(t+1).trim()}function cQ(e,t){let r=lC(e),n=aQ(t);return r[tQ]=!0,Object.defineProperties(r.prototype,{ip:{get(){return Ah(this.raw,n)}},ips:{get(){return Ah.all(this.raw,n)}},hostname:{get(){return this.ip!==void 0&&this.headers["x-forwarded-host"]?aC(this.headers["x-forwarded-host"]):this.headers.host||this.headers[":authority"]}},protocol:{get(){if(this.headers["x-forwarded-proto"])return aC(this.headers["x-forwarded-proto"]);if(this.socket)return this.socket.encrypted?"https":"http"}}}),r}Object.defineProperties(Sb.prototype,{server:{get(){return this[Dt].server}},url:{get(){return this.raw.url}},method:{get(){return this.raw.method}},context:{get(){return nC.emit("FSTDEP012"),this[Dt]}},routerPath:{get(){return this[Dt].config.url}},routeOptions:{get(){let e=this[Dt],t=e._parserOptions.limit,r=e.server.initialConfig.bodyLimit,n=e.server.hasConstraintStrategy("version")?this.raw.headers["accept-version"]:void 0,i={method:e.config.method,url:e.config.url,bodyLimit:t||r,attachValidation:e.attachValidation,logLevel:e.logLevel,exposeHeadRoute:e.exposeHeadRoute,prefixTrailingSlash:e.prefixTrailingSlash,version:n};return Object.freeze(i)}},routerMethod:{get(){return this[Dt].config.method}},routeConfig:{get(){return this[Dt][sC].config}},routeSchema:{get(){return this[Dt][sC].schema}},is404:{get(){return this[Dt].config.url===void 0}},connection:{get(){return eQ.gte(process.versions.node,"13.0.0")&&nC.emit("FSTDEP005"),this.raw.connection}},socket:{get(){return this.raw.socket}},ip:{get(){if(this.socket)return this.socket.remoteAddress}},hostname:{get(){return this.raw.headers.host||this.raw.headers[":authority"]}},protocol:{get(){if(this.socket)return this.socket.encrypted?"https":"http"}},headers:{get(){return this.additionalHeaders?Object.assign({},this.raw.headers,this.additionalHeaders):this.raw.headers},set(e){this.additionalHeaders=e}},getValidationFunction:{value:function(e){if(typeof e=="string"){let t=oC[e];return this[Dt][t]}else if(typeof e=="object")return this[Dt][Os]?.get(e)}},compileValidationSchema:{value:function(e,t=null){let{method:r,url:n}=this;if(this[Dt][Os]?.has(e))return this[Dt][Os].get(e);let s=(this[Dt].validatorCompiler||this.server[xb].validatorCompiler||this.server[xb].setupValidator(this.server[sQ])||this.server[xb].validatorCompiler)({schema:e,method:r,url:n,httpPart:t});return this[Dt][Os]==null&&(this[Dt][Os]=new WeakMap),this[Dt][Os].set(e,s),s}},validateInput:{value:function(e,t,r){r=typeof t=="string"?t:r;let n=r!=null&&typeof r=="string"&&oC[r],i;if(n&&(i=this[Dt][n]),i==null&&(t==null||typeof t!="object"||Array.isArray(t)))throw new oQ(r);return i==null&&(this[Dt][Os]?.has(t)?i=this[Dt][Os].get(t):i=this.compileValidationSchema(t,r)),i(e)}}});Rb.exports=Sb;Rb.exports.buildRequest=lQ});var Tb=w((NTe,cC)=>{"use strict";cC.exports={supportedMethods:["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS","PROPFIND","PROPPATCH","MKCOL","COPY","MOVE","LOCK","UNLOCK","TRACE","SEARCH"]}});var Cb=w((jTe,hC)=>{"use strict";var{kReply:Pb,kRequest:Ab,kState:uQ,kHasBeenDecorated:fQ}=ar(),{FST_ERR_DEC_ALREADY_PRESENT:uC,FST_ERR_DEC_MISSING_DEPENDENCY:dQ,FST_ERR_DEC_AFTER_START:hQ,FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:pQ}=Kr(),mQ=ko();function gQ(e,t,r,n){if(Object.prototype.hasOwnProperty.call(e,t))throw new uC(t);kb(e,t,n),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(e,t,{get:r.getter,set:r.setter}):e[t]=r}function fC(e,t,r,n){let i=e.prototype;if(Object.prototype.hasOwnProperty.call(i,t)||Ch(e,t))throw new uC(t);e[fQ]=!0,kb(e,t,n),r&&(typeof r.getter=="function"||typeof r.setter=="function")?Object.defineProperty(i,t,{get:r.getter,set:r.setter}):typeof r=="function"?i[t]=r:e.props.push({key:t,value:r})}function dC(e,t){typeof t=="object"&&t&&!(typeof t.getter=="function"||typeof t.setter=="function")&&mQ.emit("FSTDEP006",e)}function yQ(e,t,r){return Ob(this,e),gQ(this,e,t,r),this}function Oh(e,t){return t?t in e||e.prototype&&t in e.prototype||Ch(e,t):e in this}function Ch(e,t){return e.props?e.props.find(({key:r})=>r===t):!1}function bQ(e){return e&&Ch(this[Ab],e)?!0:Oh(this[Ab].prototype,e)}function vQ(e){return e&&Ch(this[Pb],e)?!0:Oh(this[Pb].prototype,e)}function kb(e,t,r){if(r!=null){if(!Array.isArray(r))throw new pQ(t);for(var n=0;n!==r.length;++n)if(!Oh(e,r[n]))throw new dQ(r[n])}}function wQ(e,t,r){return Ob(this,e),dC(e,t),fC(this[Pb],e,t,r),this}function _Q(e,t,r){return Ob(this,e),dC(e,t),fC(this[Ab],e,t,r),this}function Ob(e,t){if(e[uQ].started)throw new hQ(t)}hC.exports={add:yQ,exist:Oh,existRequest:bQ,existReply:vQ,dependencies:kb,decorateReply:wQ,decorateRequest:_Q}});var pC=w($b=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0});var Ib=class{constructor(t=0,r=0){this.first=null,this.items=Object.create(null),this.last=null,this.max=t,this.size=0,this.ttl=r}#e(t){return t in this.items}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(t){if(this.#e(t)){let r=this.items[t];delete this.items[t],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}return this}evict(t=!1){if(t||this.size>0){let r=this.first;delete this.items[r.key],this.size--,this.size===0?(this.first=null,this.last=null):(this.first=r.next,this.first.prev=null)}return this}get(t){let r;if(this.#e(t)){let n=this.items[t];this.ttl>0&&n.expiry<=new Date().getTime()?this.delete(t):(r=n.value,this.set(t,r,!0))}return r}keys(){return Object.keys(this.items)}set(t,r,n=!1){let i;if(n||this.#e(t)){if(i=this.items[t],i.value=r,this.last!==i){let s=this.last,o=i.next,a=i.prev;this.first===i&&(this.first=i.next),i.next=null,i.prev=this.last,s.next=i,a!==null&&(a.next=o),o!==null&&(o.prev=a)}}else this.max>0&&this.size===this.max&&this.evict(!0),i=this.items[t]={expiry:this.ttl>0?new Date().getTime()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:r},++this.size===1?this.first=i:this.last.next=i;return this.last=i,this}};function EQ(e=1e3,t=0){if(isNaN(e)||e<0)throw new TypeError("Invalid max value");if(isNaN(t)||t<0)throw new TypeError("Invalid ttl value");return new Ib(e,t)}$b.lru=EQ});var bC=w((DTe,eu)=>{"use strict";var Nh=function(){};Nh.prototype=Object.create(null);var Ih=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+)=("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,$h=/\\([\u000b\u0020-\u00ff])/g,mC=/^[!#$%&'*+.^_|~0-9A-Za-z-]+\/[!#$%&'*+.^_|~0-9A-Za-z-]+$/,zo={type:"",parameters:new Nh};Object.freeze(zo.parameters);Object.freeze(zo);function gC(e){if(typeof e!="string")throw new TypeError("argument header is required and must be a string");let t=e.indexOf(";"),r=t!==-1?e.slice(0,t).trim():e.trim();if(mC.test(r)===!1)throw new TypeError("invalid media type");let n={type:r.toLowerCase(),parameters:new Nh};if(t===-1)return n;let i,s,o;for(Ih.lastIndex=t;s=Ih.exec(e);){if(s.index!==t)throw new TypeError("invalid parameter format");t+=s[0].length,i=s[1].toLowerCase(),o=s[2],o[0]==='"'&&(o=o.slice(1,o.length-1),$h.test(o)&&(o=o.replace($h,"$1"))),n.parameters[i]=o}if(t!==e.length)throw new TypeError("invalid parameter format");return n}function yC(e){if(typeof e!="string")return zo;let t=e.indexOf(";"),r=t!==-1?e.slice(0,t).trim():e.trim();if(mC.test(r)===!1)return zo;let n={type:r.toLowerCase(),parameters:new Nh};if(t===-1)return n;let i,s,o;for(Ih.lastIndex=t;s=Ih.exec(e);){if(s.index!==t)return zo;t+=s[0].length,i=s[1].toLowerCase(),o=s[2],o[0]==='"'&&(o=o.slice(1,o.length-1),$h.test(o)&&(o=o.replace($h,"$1"))),n.parameters[i]=o}return t!==e.length?zo:n}eu.exports.default={parse:gC,safeParse:yC};eu.exports.parse=gC;eu.exports.safeParse=yC;eu.exports.defaultContentType=zo});var xC=w((LTe,ol)=>{"use strict";var xQ=typeof Buffer<"u",vC=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,wC=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function _C(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),xQ&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let i=r&&r.protoAction||"error",s=r&&r.constructorAction||"error";if(i==="ignore"&&s==="ignore")return n;if(i!=="ignore"&&s!=="ignore"){if(vC.test(e)===!1&&wC.test(e)===!1)return n}else if(i!=="ignore"&&s==="ignore"){if(vC.test(e)===!1)return n}else if(wC.test(e)===!1)return n;return EC(n,{protoAction:i,constructorAction:s,safe:r&&r.safe})}function EC(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let i=[e];for(;i.length;){let s=i;i=[];for(let o of s){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let a in o){let l=o[a];l&&typeof l=="object"&&i.push(l)}}}return e}function Nb(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return _C(e,t,r)}finally{Error.stackTraceLimit=n}}function SQ(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return _C(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}ol.exports=Nb;ol.exports.default=Nb;ol.exports.parse=Nb;ol.exports.safeParse=SQ;ol.exports.scan=EC});var Lb=w((FTe,ru)=>{"use strict";var{AsyncResource:RQ}=L("async_hooks"),RC=pC().lru,{safeParse:TC,defaultContentType:TQ}=bC(),PQ=xC(),{kDefaultJsonParse:tu,kContentTypeParser:al,kBodyLimit:AQ,kRequestPayloadStream:PC,kState:qb,kTestInternals:kQ,kReplyIsError:AC,kRouteContext:OQ}=ar(),{FST_ERR_CTP_INVALID_TYPE:kC,FST_ERR_CTP_EMPTY_TYPE:CQ,FST_ERR_CTP_ALREADY_PRESENT:IQ,FST_ERR_CTP_INVALID_HANDLER:$Q,FST_ERR_CTP_INVALID_PARSE_TYPE:NQ,FST_ERR_CTP_BODY_TOO_LARGE:SC,FST_ERR_CTP_INVALID_MEDIA_TYPE:jQ,FST_ERR_CTP_INVALID_CONTENT_LENGTH:qQ,FST_ERR_CTP_EMPTY_JSON_BODY:DQ}=Kr();function Xi(e,t,r){this[tu]=CC(t,r),this.customParsers=new Map,this.customParsers.set("application/json",new jb(!0,!1,e,this[tu])),this.customParsers.set("text/plain",new jb(!0,!1,e,Db)),this.parserList=[new jh("application/json"),new jh("text/plain")],this.parserRegExpList=[],this.cache=RC(100)}Xi.prototype.add=function(e,t,r){let n=typeof e=="string";if(!n&&!(e instanceof RegExp))throw new kC;if(n&&e.length===0)throw new CQ;if(typeof r!="function")throw new $Q;if(this.existingParser(e))throw new IQ(e);if(t.parseAs!==void 0&&t.parseAs!=="string"&&t.parseAs!=="buffer")throw new NQ(t.parseAs);let i=new jb(t.parseAs==="string",t.parseAs==="buffer",t.bodyLimit,r);n&&e==="*"?this.customParsers.set("",i):(n?this.parserList.unshift(new jh(e)):(e.isEssence=e.source.indexOf(";")===-1,this.parserRegExpList.unshift(e)),this.customParsers.set(e.toString(),i))};Xi.prototype.hasParser=function(e){return this.customParsers.has(typeof e=="string"?e:e.toString())};Xi.prototype.existingParser=function(e){return e==="application/json"&&this.customParsers.has(e)?this.customParsers.get(e).fn!==this[tu]:e==="text/plain"&&this.customParsers.has(e)?this.customParsers.get(e).fn!==Db:this.hasParser(e)};Xi.prototype.getParser=function(e){if(this.hasParser(e))return this.customParsers.get(e);let t=this.cache.get(e);if(t!==void 0)return t;let r=TC(e);if(r===TQ)return this.customParsers.get("");for(var n=0;n!==this.parserList.length;++n){let s=this.parserList[n];if(HQ(r,s)){let o=this.customParsers.get(s.name);return this.cache.set(e,o),o}}for(var i=0;i!==this.parserRegExpList.length;++i){let s=this.parserRegExpList[i];if(UQ(e,r.type,s)){let o=this.customParsers.get(s.toString());return this.cache.set(e,o),o}}return this.customParsers.get("")};Xi.prototype.removeAll=function(){this.customParsers=new Map,this.parserRegExpList=[],this.parserList=[],this.cache=RC(100)};Xi.prototype.remove=function(e){if(!(typeof e=="string"||e instanceof RegExp))throw new kC;this.customParsers.delete(e.toString());let t=typeof e=="string"?this.parserList:this.parserRegExpList,r=t.findIndex(n=>n.toString()===e.toString());r>-1&&t.splice(r,1)};Xi.prototype.run=function(e,t,r,n){let i=this.getParser(e),s=new RQ("content-type-parser:run",r);if(i===void 0)r.is404?t(r,n):n.send(new jQ(e||void 0));else if(i.asString===!0||i.asBuffer===!0)OC(r,n,n[OQ]._parserOptions,i,o);else{let a=i.fn(r,r[PC],o);a&&typeof a.then=="function"&&a.then(l=>o(null,l),o)}function o(a,l){s.runInAsyncScope(()=>{a?(n[AC]=!0,n.send(a)):(r.body=l,t(r,n))})}};function OC(e,t,r,n,i){let s=n.asString,o=r.limit===null?n.bodyLimit:r.limit,a=e.headers["content-length"]===void 0?NaN:Number(e.headers["content-length"]);if(a>o){t.header("connection","close"),t.send(new SC);return}let l=0,c=s===!0?"":[],u=e[PC]||e.raw;s===!0&&u.setEncoding("utf8"),u.on("data",d),u.on("end",h),u.on("error",h),u.resume();function d(f){if(l+=f.length,(u.receivedEncodedLength||l)>o){u.removeListener("data",d),u.removeListener("end",h),u.removeListener("error",h),t.send(new SC);return}s===!0?c+=f:c.push(f)}function h(f){if(u.removeListener("data",d),u.removeListener("end",h),u.removeListener("error",h),f!==void 0){f.statusCode=400,t[AC]=!0,t.code(f.statusCode).send(f);return}if(s===!0&&(l=Buffer.byteLength(c)),!Number.isNaN(a)&&(u.receivedEncodedLength||l)!==a){t.header("connection","close"),t.send(new qQ);return}s===!1&&(c=Buffer.concat(c));let p=n.fn(e,c,i);p&&typeof p.then=="function"&&p.then(m=>i(null,m),i)}}function CC(e,t){return r;function r(n,i,s){if(i===""||i==null)return s(new DQ,void 0);let o;try{o=PQ.parse(i,{protoAction:e,constructorAction:t})}catch(a){return a.statusCode=400,s(a,void 0)}s(null,o)}}function Db(e,t,r){r(null,t)}function jb(e,t,r,n){this.asString=e,this.asBuffer=t,this.bodyLimit=r,this.fn=n}function LQ(e){let t=new Xi;return t[tu]=e[tu],t.customParsers=new Map(e.customParsers.entries()),t.parserList=e.parserList.slice(),t.parserRegExpList=e.parserRegExpList.slice(),t}function FQ(e,t,r){if(this[qb].started)throw new Error('Cannot call "addContentTypeParser" when fastify instance is already started!');return typeof t=="function"&&(r=t,t={}),t||(t={}),t.bodyLimit||(t.bodyLimit=this[AQ]),Array.isArray(e)?e.forEach(n=>this[al].add(n,t,r)):this[al].add(e,t,r),this}function MQ(e){return this[al].hasParser(e)}function BQ(e){if(this[qb].started)throw new Error('Cannot call "removeContentTypeParser" when fastify instance is already started!');if(Array.isArray(e))for(let t of e)this[al].remove(t);else this[al].remove(e)}function zQ(){if(this[qb].started)throw new Error('Cannot call "removeAllContentTypeParsers" when fastify instance is already started!');this[al].removeAll()}function HQ(e,t){if(t.isEssence)return e.type.indexOf(t)!==-1;if(e.type.indexOf(t.type)===-1)return!1;for(let r of t.parameterKeys)if(!(r in e.parameters)||e.parameters[r]!==t.parameters[r])return!1;return!0}function UQ(e,t,r){return r.isEssence?r.test(t):r.test(e)}function jh(e){this.name=e;let t=TC(e);this.type=t.type,this.parameters=t.parameters,this.parameterKeys=Object.keys(t.parameters),this.isEssence=e.indexOf(";")===-1}jh.prototype.toString=function(){return this.name};ru.exports=Xi;ru.exports.helpers={buildContentTypeParser:LQ,addContentTypeParser:FQ,hasContentTypeParser:MQ,removeContentTypeParser:BQ,removeAllContentTypeParsers:zQ};ru.exports.defaultParsers={getDefaultJsonParser:CC,defaultTextParser:Db};ru.exports[kQ]={rawBody:OC}});var IC=w((MTe,qh)=>{"use strict";var VQ=Object.getPrototypeOf({});function Fb(e){function t(y){return y!=="constructor"&&y!=="prototype"&&y!=="__proto__"}function r(y){let E=0,b=y.length,g=new Array(b);for(E=0;E<b;++E)g[E]=f(y[E]);return g}function n(y){let E={};if(l&&Object.getPrototypeOf(y)!==VQ)return l(y);let b=a(y),g,P,O;for(g=0,P=b.length;g<P;++g)t(O=b[g])&&(E[O]=f(y[O]));return E}function i(y,E){let b=y.length,g=E.length,P=0,O=new Array(b+g);for(P=0;P<b;++P)O[P]=f(y[P]);for(P=0;P<g;++P)O[P+b]=f(E[P]);return O}let s=Object.prototype.propertyIsEnumerable;function o(y){let E=Object.keys(y),b=Object.getOwnPropertySymbols(y);for(let g=0,P=b.length;g<P;++g)s.call(y,b[g])&&E.push(b[g]);return E}let a=e&&e.symbols?o:Object.keys,l=typeof e?.cloneProtoObject=="function"?e.cloneProtoObject:void 0;function c(y){return typeof y=="object"&&y!==null&&!(y instanceof RegExp)&&!(y instanceof Date)}function u(y){return typeof y!="object"||y===null}let d=typeof Buffer<"u"?y=>typeof y!="object"||y===null||y instanceof RegExp||y instanceof Date||y instanceof Buffer:y=>typeof y!="object"||y===null||y instanceof RegExp||y instanceof Date,h=e&&typeof e.mergeArray=="function"?e.mergeArray({clone:f,deepmerge:m,getKeys:a,isMergeableObject:c}):i;function f(y){return c(y)?Array.isArray(y)?r(y):n(y):y}function p(y,E){let b={},g=a(y),P=a(E),O,R,C;for(O=0,R=g.length;O<R;++O)t(C=g[O])&&P.indexOf(C)===-1&&(b[C]=f(y[C]));for(O=0,R=P.length;O<R;++O)t(C=P[O])&&(C in y&&(g.indexOf(C)!==-1&&(b[C]=m(y[C],E[C])),!0)||(b[C]=f(E[C])));return b}function m(y,E){let b=Array.isArray(E),g=Array.isArray(y);return u(E)?E:d(y)?f(E):b&&g?h(y,E):b!==g?f(E):p(y,E)}function v(){switch(arguments.length){case 0:return{};case 1:return f(arguments[0]);case 2:return m(arguments[0],arguments[1])}let y;for(let E=0,b=arguments.length;E<b;++E)y=m(y,arguments[E]);return y}return e&&e.all?v:m}qh.exports=Fb;qh.exports.default=Fb;qh.exports.deepmerge=Fb});var Dh=w(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.formatNames=vi.fastFormats=vi.fullFormats=void 0;function ll(e,t){return{validate:e,compare:t}}vi.fullFormats={date:ll(jC,zb),time:ll(qC,Hb),"date-time":ll(JQ,DC),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:QQ,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:sZ,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:ZQ,int32:{type:"number",validate:rZ},int64:{type:"number",validate:nZ},float:{type:"number",validate:NC},double:{type:"number",validate:NC},password:!0,binary:!0};vi.fastFormats={...vi.fullFormats,date:ll(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,zb),time:ll(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Hb),"date-time":ll(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,DC),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};vi.formatNames=Object.keys(vi.fullFormats);function GQ(e){return e%4===0&&(e%100!==0||e%400===0)}var WQ=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,KQ=[0,31,28,31,30,31,30,31,31,30,31,30,31];function jC(e){let t=WQ.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],i=+t[3];return n>=1&&n<=12&&i>=1&&i<=(n===2&&GQ(r)?29:KQ[n])}function zb(e,t){if(e&&t)return e>t?1:e<t?-1:0}var Mb=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function qC(e,t){let r=Mb.exec(e);if(!r)return!1;let n=+r[1],i=+r[2],s=+r[3],o=r[5];return(n<=23&&i<=59&&s<=59||n===23&&i===59&&s===60)&&(!t||o!=="")}function Hb(e,t){if(!(e&&t))return;let r=Mb.exec(e),n=Mb.exec(t);if(r&&n)return e=r[1]+r[2]+r[3]+(r[4]||""),t=n[1]+n[2]+n[3]+(n[4]||""),e>t?1:e<t?-1:0}var Bb=/t|\s/i;function JQ(e){let t=e.split(Bb);return t.length===2&&jC(t[0])&&qC(t[1],!0)}function DC(e,t){if(!(e&&t))return;let[r,n]=e.split(Bb),[i,s]=t.split(Bb),o=zb(r,i);if(o!==void 0)return o||Hb(n,s)}var YQ=/\/|:/,XQ=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function QQ(e){return YQ.test(e)&&XQ.test(e)}var $C=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function ZQ(e){return $C.lastIndex=0,$C.test(e)}var eZ=-(2**31),tZ=2**31-1;function rZ(e){return Number.isInteger(e)&&e<=tZ&&e>=eZ}function nZ(e){return Number.isInteger(e)}function NC(){return!0}var iZ=/[^\\]\\Z/;function sZ(e){if(iZ.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var nu=w((zTe,LC)=>{"use strict";LC.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}});var iu=w(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});var FC=nu();FC.code='require("ajv/dist/runtime/equal").default';Ub.default=FC});var UC=w((UTe,Gb)=>{"use strict";Gb.exports=Q;Gb.exports.default=Q;var oZ={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},MC={enum:["array","boolean","integer","null","number","object","string"]},BC=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,aZ=Dh().fullFormats.uri,zC=Dh().fullFormats.regex;function Cn(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0,a=o;return typeof e=="number"&&!(e%1)&&!isNaN(e)&&isFinite(e)?o===a&&typeof e=="number"&&isFinite(e)&&(e<0||isNaN(e))?(Cn.errors=[{instancePath:t,schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1):(Cn.errors=s,o===0):(Cn.errors=[{instancePath:t,schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1)}var Vb={validate:Q};function qr(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(o===0)if(Array.isArray(e)){if(e.length<1)return qr.errors=[{instancePath:t,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var a=!0;let l=e.length;for(let c=0;c<l;c++){let u=o;Vb.validate(e[c],{instancePath:t+"/"+c,parentData:e,parentDataProperty:c,rootData:i})||(s=s===null?Vb.validate.errors:s.concat(Vb.validate.errors),o=s.length);var a=u===o;if(!a)break}}}else return qr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;return qr.errors=s,o===0}var HC=iu().default;function Q(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(!(e&&typeof e=="object"&&!Array.isArray(e))&&typeof e!="boolean")return Q.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:oZ.type},message:"must be object,boolean"}],!1;if(o===0&&e&&typeof e=="object"&&!Array.isArray(e)){if(e.$id!==void 0){let b=e.$id,g=o;if(o===g&&o===g)if(typeof b=="string"){if(!BC.test(b))return Q.errors=[{instancePath:t+"/$id",schemaPath:"#/properties/%24id/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return Q.errors=[{instancePath:t+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.$schema!==void 0){let b=e.$schema,g=o;if(o===g&&o===g)if(typeof b=="string"){if(!aZ(b))return Q.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/format",keyword:"format",params:{format:"uri"},message:'must match format "uri"'}],!1}else return Q.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.$ref!==void 0){let b=e.$ref,g=o;if(o===g&&o===g)if(typeof b=="string"){if(!BC.test(b))return Q.errors=[{instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return Q.errors=[{instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.$comment!==void 0){let b=o;if(typeof e.$comment!="string")return Q.errors=[{instancePath:t+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.title!==void 0){let b=o;if(typeof e.title!="string")return Q.errors=[{instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.description!==void 0){let b=o;if(typeof e.description!="string")return Q.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.readOnly!==void 0){let b=o;if(typeof e.readOnly!="boolean")return Q.errors=[{instancePath:t+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=b===o}else var a=!0;if(a){if(e.examples!==void 0){let b=o;if(o===b&&!Array.isArray(e.examples))return Q.errors=[{instancePath:t+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=b===o}else var a=!0;if(a){if(e.multipleOf!==void 0){let b=e.multipleOf,g=o;if(o===g)if(typeof b=="number"&&isFinite(b)){if(b<=0||isNaN(b))return Q.errors=[{instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0"}],!1}else return Q.errors=[{instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=g===o}else var a=!0;if(a){if(e.maximum!==void 0){let b=e.maximum,g=o;if(!(typeof b=="number"&&isFinite(b)))return Q.errors=[{instancePath:t+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=g===o}else var a=!0;if(a){if(e.exclusiveMaximum!==void 0){let b=e.exclusiveMaximum,g=o;if(!(typeof b=="number"&&isFinite(b)))return Q.errors=[{instancePath:t+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=g===o}else var a=!0;if(a){if(e.minimum!==void 0){let b=e.minimum,g=o;if(!(typeof b=="number"&&isFinite(b)))return Q.errors=[{instancePath:t+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=g===o}else var a=!0;if(a){if(e.exclusiveMinimum!==void 0){let b=e.exclusiveMinimum,g=o;if(!(typeof b=="number"&&isFinite(b)))return Q.errors=[{instancePath:t+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=g===o}else var a=!0;if(a){if(e.maxLength!==void 0){let b=e.maxLength,g=o,P=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b)))return Q.errors=[{instancePath:t+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===P&&typeof b=="number"&&isFinite(b)&&(b<0||isNaN(b)))return Q.errors=[{instancePath:t+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=g===o}else var a=!0;if(a){if(e.minLength!==void 0){let b=o;Cn(e.minLength,{instancePath:t+"/minLength",parentData:e,parentDataProperty:"minLength",rootData:i})||(s=s===null?Cn.errors:s.concat(Cn.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.pattern!==void 0){let b=e.pattern,g=o;if(o===g&&o===g)if(typeof b=="string"){if(!zC(b))return Q.errors=[{instancePath:t+"/pattern",schemaPath:"#/properties/pattern/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"'}],!1}else return Q.errors=[{instancePath:t+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=g===o}else var a=!0;if(a){if(e.additionalItems!==void 0){let b=o;Q(e.additionalItems,{instancePath:t+"/additionalItems",parentData:e,parentDataProperty:"additionalItems",rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.items!==void 0){let b=e.items,g=o,P=o,O=!1,R=o;Q(b,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var l=R===o;if(O=O||l,!O){let q=o;qr(b,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:i})||(s=s===null?qr.errors:s.concat(qr.errors),o=s.length);var l=q===o;O=O||l}if(O)o=P,s!==null&&(P?s.length=P:s=null);else{let q={instancePath:t+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[q]:s.push(q),o++,Q.errors=s,!1}var a=g===o}else var a=!0;if(a){if(e.maxItems!==void 0){let b=e.maxItems,g=o,P=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b)))return Q.errors=[{instancePath:t+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===P&&typeof b=="number"&&isFinite(b)&&(b<0||isNaN(b)))return Q.errors=[{instancePath:t+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=g===o}else var a=!0;if(a){if(e.minItems!==void 0){let b=o;Cn(e.minItems,{instancePath:t+"/minItems",parentData:e,parentDataProperty:"minItems",rootData:i})||(s=s===null?Cn.errors:s.concat(Cn.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.uniqueItems!==void 0){let b=o;if(typeof e.uniqueItems!="boolean")return Q.errors=[{instancePath:t+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=b===o}else var a=!0;if(a){if(e.contains!==void 0){let b=o;Q(e.contains,{instancePath:t+"/contains",parentData:e,parentDataProperty:"contains",rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.maxProperties!==void 0){let b=e.maxProperties,g=o,P=o;if(!(typeof b=="number"&&!(b%1)&&!isNaN(b)&&isFinite(b)))return Q.errors=[{instancePath:t+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(o===P&&typeof b=="number"&&isFinite(b)&&(b<0||isNaN(b)))return Q.errors=[{instancePath:t+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var a=g===o}else var a=!0;if(a){if(e.minProperties!==void 0){let b=o;Cn(e.minProperties,{instancePath:t+"/minProperties",parentData:e,parentDataProperty:"minProperties",rootData:i})||(s=s===null?Cn.errors:s.concat(Cn.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.required!==void 0){let b=e.required,g=o;if(o===o)if(Array.isArray(b)){var c=!0;let R=b.length;for(let C=0;C<R;C++){let q=o;if(typeof b[C]!="string")return Q.errors=[{instancePath:t+"/required/"+C,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=q===o;if(!c)break}if(c){let C=b.length,q;if(C>1){let F={};for(;C--;){let D=b[C];if(typeof D=="string"){if(typeof F[D]=="number"){return q=F[D],Q.errors=[{instancePath:t+"/required",schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:C,j:q},message:"must NOT have duplicate items (items ## "+q+" and "+C+" are identical)"}],!1;break}F[D]=C}}}}}else return Q.errors=[{instancePath:t+"/required",schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=g===o}else var a=!0;if(a){if(e.additionalProperties!==void 0){let b=o;Q(e.additionalProperties,{instancePath:t+"/additionalProperties",parentData:e,parentDataProperty:"additionalProperties",rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.definitions!==void 0){let b=e.definitions,g=o;if(o===g)if(b&&typeof b=="object"&&!Array.isArray(b))for(let O in b){let R=o;Q(b[O],{instancePath:t+"/definitions/"+O.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:O,rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var u=R===o;if(!u)break}else return Q.errors=[{instancePath:t+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0;if(a){if(e.properties!==void 0){let b=e.properties,g=o;if(o===g)if(b&&typeof b=="object"&&!Array.isArray(b))for(let O in b){let R=o;Q(b[O],{instancePath:t+"/properties/"+O.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:O,rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var d=R===o;if(!d)break}else return Q.errors=[{instancePath:t+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0;if(a){if(e.patternProperties!==void 0){let b=e.patternProperties,g=o;if(o===g)if(b&&typeof b=="object"&&!Array.isArray(b)){for(let O in b){let R=o;if(o===R&&typeof O=="string"&&!zC(O)){let C={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"',propertyName:O};s===null?s=[C]:s.push(C),o++}var h=R===o;if(!h){let C={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:O},message:"property name must be valid"};return s===null?s=[C]:s.push(C),o++,Q.errors=s,!1;break}}if(h)for(let O in b){let R=o;Q(b[O],{instancePath:t+"/patternProperties/"+O.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:O,rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var f=R===o;if(!f)break}}else return Q.errors=[{instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0;if(a){if(e.dependencies!==void 0){let b=e.dependencies,g=o;if(o===g)if(b&&typeof b=="object"&&!Array.isArray(b))for(let O in b){let R=b[O],C=o,q=o,F=!1,D=o;Q(R,{instancePath:t+"/dependencies/"+O.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:b,parentDataProperty:O,rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var p=D===o;if(F=F||p,!F){let H=o;if(o===o)if(Array.isArray(R)){var m=!0;let we=R.length;for(let Z=0;Z<we;Z++){let ye=o;if(typeof R[Z]!="string"){let re={instancePath:t+"/dependencies/"+O.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+Z,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[re]:s.push(re),o++}var m=ye===o;if(!m)break}if(m){let Z=R.length,ye;if(Z>1){let Ge={};for(;Z--;){let re=R[Z];if(typeof re=="string"){if(typeof Ge[re]=="number"){ye=Ge[re];let Be={instancePath:t+"/dependencies/"+O.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:Z,j:ye},message:"must NOT have duplicate items (items ## "+ye+" and "+Z+" are identical)"};s===null?s=[Be]:s.push(Be),o++;break}Ge[re]=Z}}}}}else{let we={instancePath:t+"/dependencies/"+O.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[we]:s.push(we),o++}var p=H===o;F=F||p}if(F)o=q,s!==null&&(q?s.length=q:s=null);else{let H={instancePath:t+"/dependencies/"+O.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[H]:s.push(H),o++,Q.errors=s,!1}var v=C===o;if(!v)break}else return Q.errors=[{instancePath:t+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=g===o}else var a=!0;if(a){if(e.propertyNames!==void 0){let b=o;Q(e.propertyNames,{instancePath:t+"/propertyNames",parentData:e,parentDataProperty:"propertyNames",rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.enum!==void 0){let b=e.enum,g=o;if(o===g)if(Array.isArray(b)){if(b.length<1)return Q.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let O=b.length,R;if(O>1){e:for(;O--;)for(R=O;R--;)if(HC(b[O],b[R])){return Q.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:O,j:R},message:"must NOT have duplicate items (items ## "+R+" and "+O+" are identical)"}],!1;break e}}}}else return Q.errors=[{instancePath:t+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=g===o}else var a=!0;if(a){if(e.type!==void 0){let b=e.type,g=o,P=o,O=!1,R=o;if(!(b==="array"||b==="boolean"||b==="integer"||b==="null"||b==="number"||b==="object"||b==="string")){let q={instancePath:t+"/type",schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:MC.enum},message:"must be equal to one of the allowed values"};s===null?s=[q]:s.push(q),o++}var y=R===o;if(O=O||y,!O){let q=o;if(o===q)if(Array.isArray(b))if(b.length<1){let D={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};s===null?s=[D]:s.push(D),o++}else{var E=!0;let D=b.length;for(let H=0;H<D;H++){let G=b[H],he=o;if(!(G==="array"||G==="boolean"||G==="integer"||G==="null"||G==="number"||G==="object"||G==="string")){let Z={instancePath:t+"/type/"+H,schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:MC.enum},message:"must be equal to one of the allowed values"};s===null?s=[Z]:s.push(Z),o++}var E=he===o;if(!E)break}if(E){let H=b.length,G;if(H>1){e:for(;H--;)for(G=H;G--;)if(HC(b[H],b[G])){let he={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:H,j:G},message:"must NOT have duplicate items (items ## "+G+" and "+H+" are identical)"};s===null?s=[he]:s.push(he),o++;break e}}}}else{let D={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};s===null?s=[D]:s.push(D),o++}var y=q===o;O=O||y}if(O)o=P,s!==null&&(P?s.length=P:s=null);else{let q={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[q]:s.push(q),o++,Q.errors=s,!1}var a=g===o}else var a=!0;if(a){if(e.format!==void 0){let b=o;if(typeof e.format!="string")return Q.errors=[{instancePath:t+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.contentMediaType!==void 0){let b=o;if(typeof e.contentMediaType!="string")return Q.errors=[{instancePath:t+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.contentEncoding!==void 0){let b=o;if(typeof e.contentEncoding!="string")return Q.errors=[{instancePath:t+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=b===o}else var a=!0;if(a){if(e.if!==void 0){let b=o;Q(e.if,{instancePath:t+"/if",parentData:e,parentDataProperty:"if",rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.then!==void 0){let b=o;Q(e.then,{instancePath:t+"/then",parentData:e,parentDataProperty:"then",rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.else!==void 0){let b=o;Q(e.else,{instancePath:t+"/else",parentData:e,parentDataProperty:"else",rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.allOf!==void 0){let b=o;qr(e.allOf,{instancePath:t+"/allOf",parentData:e,parentDataProperty:"allOf",rootData:i})||(s=s===null?qr.errors:s.concat(qr.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.anyOf!==void 0){let b=o;qr(e.anyOf,{instancePath:t+"/anyOf",parentData:e,parentDataProperty:"anyOf",rootData:i})||(s=s===null?qr.errors:s.concat(qr.errors),o=s.length);var a=b===o}else var a=!0;if(a){if(e.oneOf!==void 0){let b=o;qr(e.oneOf,{instancePath:t+"/oneOf",parentData:e,parentDataProperty:"oneOf",rootData:i})||(s=s===null?qr.errors:s.concat(qr.errors),o=s.length);var a=b===o}else var a=!0;if(a)if(e.not!==void 0){let b=o;Q(e.not,{instancePath:t+"/not",parentData:e,parentDataProperty:"not",rootData:i})||(s=s===null?Q.errors:s.concat(Q.errors),o=s.length);var a=b===o}else var a=!0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return Q.errors=s,o===0}});var GC=w((GTe,VC)=>{"use strict";var lZ=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;VC.exports=class{constructor(t={}){switch(t.rounding){case"floor":this.parseInteger=Math.floor;break;case"ceil":this.parseInteger=Math.ceil;break;case"round":this.parseInteger=Math.round;break;default:this.parseInteger=Math.trunc;break}}asInteger(t){if(typeof t=="bigint")return t.toString();if(Number.isInteger(t))return""+t;{let r=this.parseInteger(t);if(Number.isNaN(r)||!Number.isFinite(r))throw new Error(`The value "${t}" cannot be converted to an integer.`);return""+r}}asNumber(t){let r=Number(t);if(Number.isNaN(r))throw new Error(`The value "${t}" cannot be converted to a number.`);return Number.isFinite(r)?""+r:null}asBoolean(t){return t&&"true"||"false"}asDateTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+t.toISOString()+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date-time.`)}asDate(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,10)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a date.`)}asTime(t){if(t===null)return'""';if(t instanceof Date)return'"'+new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(11,19)+'"';if(typeof t=="string")return'"'+t+'"';throw new Error(`The value "${t}" cannot be converted to a time.`)}asString(t){let r='"';return t instanceof Date?r+t.toISOString()+r:t===null?r+r:(t instanceof RegExp?t=t.source:typeof t!="string"&&(t=t.toString()),lZ.test(t)?t.length<42?this.asStringSmall(t):JSON.stringify(t):r+t+r)}asStringSmall(t){let r=t.length,n="",i=0,s=!1,o=!1,a=255;for(var l=0;l<r&&a>=32;l++)a=t.charCodeAt(l),a>=55296&&a<=57343&&(o=!0),(a===34||a===92)&&(n+=t.slice(i,l)+"\\",i=l,s=!0);return s?n+=t.slice(i):n=t,a<32||o===!0?JSON.stringify(t):'"'+n+'"'}}});var cl=w(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.regexpCode=He.getEsmExportName=He.getProperty=He.safeStringify=He.stringify=He.strConcat=He.addCodeArg=He.str=He._=He.nil=He._Code=He.Name=He.IDENTIFIER=He._CodeOrName=void 0;var su=class{};He._CodeOrName=su;He.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ho=class extends su{constructor(t){if(super(),!He.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};He.Name=Ho;var In=class extends su{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,n)=>(n instanceof Ho&&(r[n.str]=(r[n.str]||0)+1),r),{})}};He._Code=In;He.nil=new In("");function WC(e,...t){let r=[e[0]],n=0;for(;n<t.length;)Kb(r,t[n]),r.push(e[++n]);return new In(r)}He._=WC;var Wb=new In("+");function KC(e,...t){let r=[ou(e[0])],n=0;for(;n<t.length;)r.push(Wb),Kb(r,t[n]),r.push(Wb,ou(e[++n]));return cZ(r),new In(r)}He.str=KC;function Kb(e,t){t instanceof In?e.push(...t._items):t instanceof Ho?e.push(t):e.push(dZ(t))}He.addCodeArg=Kb;function cZ(e){let t=1;for(;t<e.length-1;){if(e[t]===Wb){let r=uZ(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function uZ(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof Ho||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof Ho))return`"${e}${t.slice(1)}`}function fZ(e,t){return t.emptyStr()?e:e.emptyStr()?t:KC`${e}${t}`}He.strConcat=fZ;function dZ(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:ou(Array.isArray(e)?e.join(","):e)}function hZ(e){return new In(ou(e))}He.stringify=hZ;function ou(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}He.safeStringify=ou;function pZ(e){return typeof e=="string"&&He.IDENTIFIER.test(e)?new In(`.${e}`):WC`[${e}]`}He.getProperty=pZ;function mZ(e){if(typeof e=="string"&&He.IDENTIFIER.test(e))return new In(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}He.getEsmExportName=mZ;function gZ(e){return new In(e.toString())}He.regexpCode=gZ});var Mh=w(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.ValueScope=Dr.ValueScopeName=Dr.Scope=Dr.varKinds=Dr.UsedValueState=void 0;var Zr=cl(),Jb=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},Yb;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(Yb=Dr.UsedValueState||(Dr.UsedValueState={}));Dr.varKinds={const:new Zr.Name("const"),let:new Zr.Name("let"),var:new Zr.Name("var")};var Lh=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Zr.Name?t:this.name(t)}name(t){return new Zr.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};Dr.Scope=Lh;var Fh=class extends Zr.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:n}){this.value=t,this.scopePath=(0,Zr._)`.${new Zr.Name(r)}[${n}]`}};Dr.ValueScopeName=Fh;var yZ=(0,Zr._)`\n`,Xb=class extends Lh{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?yZ:Zr.nil}}get(){return this._scope}name(t){return new Fh(t,this._newName(t))}value(t,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let i=this.toName(t),{prefix:s}=i,o=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[s];if(a){let u=a.get(o);if(u)return u}else a=this._values[s]=new Map;a.set(o,i);let l=this._scope[s]||(this._scope[s]=[]),c=l.length;return l[c]=r.ref,i.setValue(r,{property:s,itemIndex:c}),i}getValue(t,r){let n=this._values[t];if(n)return n.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Zr._)`${t}${n.scopePath}`})}scopeCode(t=this._values,r,n){return this._reduceValues(t,i=>{if(i.value===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return i.value.code},r,n)}_reduceValues(t,r,n={},i){let s=Zr.nil;for(let o in t){let a=t[o];if(!a)continue;let l=n[o]=n[o]||new Map;a.forEach(c=>{if(l.has(c))return;l.set(c,Yb.Started);let u=r(c);if(u){let d=this.opts.es5?Dr.varKinds.var:Dr.varKinds.const;s=(0,Zr._)`${s}${d} ${c} = ${u};${this.opts._n}`}else if(u=i?.(c))s=(0,Zr._)`${s}${u}${this.opts._n}`;else throw new Jb(c);l.set(c,Yb.Completed)})}return s}};Dr.ValueScope=Xb});var ge=w(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.or=Pe.and=Pe.not=Pe.CodeGen=Pe.operators=Pe.varKinds=Pe.ValueScopeName=Pe.ValueScope=Pe.Scope=Pe.Name=Pe.regexpCode=Pe.stringify=Pe.getProperty=Pe.nil=Pe.strConcat=Pe.str=Pe._=void 0;var Le=cl(),Kn=Mh(),Cs=cl();Object.defineProperty(Pe,"_",{enumerable:!0,get:function(){return Cs._}});Object.defineProperty(Pe,"str",{enumerable:!0,get:function(){return Cs.str}});Object.defineProperty(Pe,"strConcat",{enumerable:!0,get:function(){return Cs.strConcat}});Object.defineProperty(Pe,"nil",{enumerable:!0,get:function(){return Cs.nil}});Object.defineProperty(Pe,"getProperty",{enumerable:!0,get:function(){return Cs.getProperty}});Object.defineProperty(Pe,"stringify",{enumerable:!0,get:function(){return Cs.stringify}});Object.defineProperty(Pe,"regexpCode",{enumerable:!0,get:function(){return Cs.regexpCode}});Object.defineProperty(Pe,"Name",{enumerable:!0,get:function(){return Cs.Name}});var Uh=Mh();Object.defineProperty(Pe,"Scope",{enumerable:!0,get:function(){return Uh.Scope}});Object.defineProperty(Pe,"ValueScope",{enumerable:!0,get:function(){return Uh.ValueScope}});Object.defineProperty(Pe,"ValueScopeName",{enumerable:!0,get:function(){return Uh.ValueScopeName}});Object.defineProperty(Pe,"varKinds",{enumerable:!0,get:function(){return Uh.varKinds}});Pe.operators={GT:new Le._Code(">"),GTE:new Le._Code(">="),LT:new Le._Code("<"),LTE:new Le._Code("<="),EQ:new Le._Code("==="),NEQ:new Le._Code("!=="),NOT:new Le._Code("!"),OR:new Le._Code("||"),AND:new Le._Code("&&"),ADD:new Le._Code("+")};var Qi=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},Qb=class extends Qi{constructor(t,r,n){super(),this.varKind=t,this.name=r,this.rhs=n}render({es5:t,_n:r}){let n=t?Kn.varKinds.var:this.varKind,i=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=fl(this.rhs,t,r)),this}get names(){return this.rhs instanceof Le._CodeOrName?this.rhs.names:{}}},Bh=class extends Qi{constructor(t,r,n){super(),this.lhs=t,this.rhs=r,this.sideEffects=n}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof Le.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=fl(this.rhs,t,r),this}get names(){let t=this.lhs instanceof Le.Name?{}:{...this.lhs.names};return Hh(t,this.rhs)}},Zb=class extends Bh{constructor(t,r,n,i){super(t,n,i),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},ev=class extends Qi{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},tv=class extends Qi{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},rv=class extends Qi{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},nv=class extends Qi{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=fl(this.code,t,r),this}get names(){return this.code instanceof Le._CodeOrName?this.code.names:{}}},au=class extends Qi{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,n)=>r+n.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let n=t[r].optimizeNodes();Array.isArray(n)?t.splice(r,1,...n):n?t[r]=n:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:n}=this,i=n.length;for(;i--;){let s=n[i];s.optimizeNames(t,r)||(bZ(t,s.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>Vo(t,r.names),{})}},Zi=class extends au{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},iv=class extends au{},ul=class extends Zi{};ul.kind="else";var Jn=class extends Zi{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new ul(n):n}if(r)return t===!1?r instanceof Jn?r:r.nodes:this.nodes.length?this:new Jn(JC(t),r instanceof Jn?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=fl(this.condition,t,r),this}get names(){let t=super.names;return Hh(t,this.condition),this.else&&Vo(t,this.else.names),t}};Jn.kind="if";var Uo=class extends Zi{};Uo.kind="for";var sv=class extends Uo{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=fl(this.iteration,t,r),this}get names(){return Vo(super.names,this.iteration.names)}},ov=class extends Uo{constructor(t,r,n,i){super(),this.varKind=t,this.name=r,this.from=n,this.to=i}render(t){let r=t.es5?Kn.varKinds.var:this.varKind,{name:n,from:i,to:s}=this;return`for(${r} ${n}=${i}; ${n}<${s}; ${n}++)`+super.render(t)}get names(){let t=Hh(super.names,this.from);return Hh(t,this.to)}},zh=class extends Uo{constructor(t,r,n,i){super(),this.loop=t,this.varKind=r,this.name=n,this.iterable=i}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=fl(this.iterable,t,r),this}get names(){return Vo(super.names,this.iterable.names)}},lu=class extends Zi{constructor(t,r,n){super(),this.name=t,this.args=r,this.async=n}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};lu.kind="func";var cu=class extends au{render(t){return"return "+super.render(t)}};cu.kind="return";var av=class extends Zi{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var n,i;return super.optimizeNames(t,r),(n=this.catch)===null||n===void 0||n.optimizeNames(t,r),(i=this.finally)===null||i===void 0||i.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&Vo(t,this.catch.names),this.finally&&Vo(t,this.finally.names),t}},uu=class extends Zi{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};uu.kind="catch";var fu=class extends Zi{render(t){return"finally"+super.render(t)}};fu.kind="finally";var lv=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new Kn.Scope({parent:t}),this._nodes=[new iv]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let n=this._extScope.value(t,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,n,i){let s=this._scope.toName(r);return n!==void 0&&i&&(this._constants[s.str]=n),this._leafNode(new Qb(t,s,n)),s}const(t,r,n){return this._def(Kn.varKinds.const,t,r,n)}let(t,r,n){return this._def(Kn.varKinds.let,t,r,n)}var(t,r,n){return this._def(Kn.varKinds.var,t,r,n)}assign(t,r,n){return this._leafNode(new Bh(t,r,n))}add(t,r){return this._leafNode(new Zb(t,Pe.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==Le.nil&&this._leafNode(new nv(t)),this}object(...t){let r=["{"];for(let[n,i]of t)r.length>1&&r.push(","),r.push(n),(n!==i||this.opts.es5)&&(r.push(":"),(0,Le.addCodeArg)(r,i));return r.push("}"),new Le._Code(r)}if(t,r,n){if(this._blockNode(new Jn(t)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new Jn(t))}else(){return this._elseNode(new ul)}endIf(){return this._endBlockNode(Jn,ul)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new sv(t),r)}forRange(t,r,n,i,s=this.opts.es5?Kn.varKinds.var:Kn.varKinds.let){let o=this._scope.toName(t);return this._for(new ov(s,o,r,n),()=>i(o))}forOf(t,r,n,i=Kn.varKinds.const){let s=this._scope.toName(t);if(this.opts.es5){let o=r instanceof Le.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,Le._)`${o}.length`,a=>{this.var(s,(0,Le._)`${o}[${a}]`),n(s)})}return this._for(new zh("of",i,s,r),()=>n(s))}forIn(t,r,n,i=this.opts.es5?Kn.varKinds.var:Kn.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,Le._)`Object.keys(${r})`,n);let s=this._scope.toName(t);return this._for(new zh("in",i,s,r),()=>n(s))}endFor(){return this._endBlockNode(Uo)}label(t){return this._leafNode(new ev(t))}break(t){return this._leafNode(new tv(t))}return(t){let r=new cu;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(cu)}try(t,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let i=new av;if(this._blockNode(i),this.code(t),r){let s=this.name("e");this._currNode=i.catch=new uu(s),r(s)}return n&&(this._currNode=i.finally=new fu,this.code(n)),this._endBlockNode(uu,fu)}throw(t){return this._leafNode(new rv(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||t!==void 0&&n!==t)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=Le.nil,n,i){return this._blockNode(new lu(t,r,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(lu)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let n=this._currNode;if(n instanceof t||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof Jn))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};Pe.CodeGen=lv;function Vo(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function Hh(e,t){return t instanceof Le._CodeOrName?Vo(e,t.names):e}function fl(e,t,r){if(e instanceof Le.Name)return n(e);if(!i(e))return e;return new Le._Code(e._items.reduce((s,o)=>(o instanceof Le.Name&&(o=n(o)),o instanceof Le._Code?s.push(...o._items):s.push(o),s),[]));function n(s){let o=r[s.str];return o===void 0||t[s.str]!==1?s:(delete t[s.str],o)}function i(s){return s instanceof Le._Code&&s._items.some(o=>o instanceof Le.Name&&t[o.str]===1&&r[o.str]!==void 0)}}function bZ(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function JC(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,Le._)`!${cv(e)}`}Pe.not=JC;var vZ=YC(Pe.operators.AND);function wZ(...e){return e.reduce(vZ)}Pe.and=wZ;var _Z=YC(Pe.operators.OR);function EZ(...e){return e.reduce(_Z)}Pe.or=EZ;function YC(e){return(t,r)=>t===Le.nil?r:r===Le.nil?t:(0,Le._)`${cv(t)} ${e} ${cv(r)}`}function cv(e){return e instanceof Le.Name?e:(0,Le._)`(${e})`}});var Re=w(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.checkStrictMode=Ae.getErrorPath=Ae.Type=Ae.useFunc=Ae.setEvaluated=Ae.evaluatedPropsToName=Ae.mergeEvaluated=Ae.eachItem=Ae.unescapeJsonPointer=Ae.escapeJsonPointer=Ae.escapeFragment=Ae.unescapeFragment=Ae.schemaRefOrVal=Ae.schemaHasRulesButRef=Ae.schemaHasRules=Ae.checkUnknownRules=Ae.alwaysValidSchema=Ae.toHash=void 0;var ct=ge(),xZ=cl();function SZ(e){let t={};for(let r of e)t[r]=!0;return t}Ae.toHash=SZ;function RZ(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(ZC(e,t),!eI(t,e.self.RULES.all))}Ae.alwaysValidSchema=RZ;function ZC(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;let i=n.RULES.keywords;for(let s in t)i[s]||iI(e,`unknown keyword: "${s}"`)}Ae.checkUnknownRules=ZC;function eI(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}Ae.schemaHasRules=eI;function TZ(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}Ae.schemaHasRulesButRef=TZ;function PZ({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ct._)`${r}`}return(0,ct._)`${e}${t}${(0,ct.getProperty)(n)}`}Ae.schemaRefOrVal=PZ;function AZ(e){return tI(decodeURIComponent(e))}Ae.unescapeFragment=AZ;function kZ(e){return encodeURIComponent(uv(e))}Ae.escapeFragment=kZ;function uv(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Ae.escapeJsonPointer=uv;function tI(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Ae.unescapeJsonPointer=tI;function OZ(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}Ae.eachItem=OZ;function XC({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,s,o,a)=>{let l=o===void 0?s:o instanceof ct.Name?(s instanceof ct.Name?e(i,s,o):t(i,s,o),o):s instanceof ct.Name?(t(i,o,s),s):r(s,o);return a===ct.Name&&!(l instanceof ct.Name)?n(i,l):l}}Ae.mergeEvaluated={props:XC({mergeNames:(e,t,r)=>e.if((0,ct._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ct._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ct._)`${r} || {}`).code((0,ct._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ct._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ct._)`${r} || {}`),fv(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:rI}),items:XC({mergeNames:(e,t,r)=>e.if((0,ct._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ct._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ct._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ct._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function rI(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,ct._)`{}`);return t!==void 0&&fv(e,r,t),r}Ae.evaluatedPropsToName=rI;function fv(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ct._)`${t}${(0,ct.getProperty)(n)}`,!0))}Ae.setEvaluated=fv;var QC={};function CZ(e,t){return e.scopeValue("func",{ref:t,code:QC[t.code]||(QC[t.code]=new xZ._Code(t.code))})}Ae.useFunc=CZ;var nI;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(nI=Ae.Type||(Ae.Type={}));function IZ(e,t,r){if(e instanceof ct.Name){let n=t===nI.Num;return r?n?(0,ct._)`"[" + ${e} + "]"`:(0,ct._)`"['" + ${e} + "']"`:n?(0,ct._)`"/" + ${e}`:(0,ct._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ct.getProperty)(e).toString():"/"+uv(e)}Ae.getErrorPath=IZ;function iI(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}Ae.checkStrictMode=iI});var $n=w(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});var xr=ge(),$Z={data:new xr.Name("data"),valCxt:new xr.Name("valCxt"),instancePath:new xr.Name("instancePath"),parentData:new xr.Name("parentData"),parentDataProperty:new xr.Name("parentDataProperty"),rootData:new xr.Name("rootData"),dynamicAnchors:new xr.Name("dynamicAnchors"),vErrors:new xr.Name("vErrors"),errors:new xr.Name("errors"),this:new xr.Name("this"),self:new xr.Name("self"),scope:new xr.Name("scope"),json:new xr.Name("json"),jsonPos:new xr.Name("jsonPos"),jsonLen:new xr.Name("jsonLen"),jsonPart:new xr.Name("jsonPart")};dv.default=$Z});var du=w(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.extendErrors=Sr.resetErrorsCount=Sr.reportExtraError=Sr.reportError=Sr.keyword$DataError=Sr.keywordError=void 0;var Me=ge(),Vh=Re(),Lr=$n();Sr.keywordError={message:({keyword:e})=>(0,Me.str)`must pass "${e}" keyword validation`};Sr.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,Me.str)`"${e}" keyword must be ${t} ($data)`:(0,Me.str)`"${e}" keyword is invalid ($data)`};function NZ(e,t=Sr.keywordError,r,n){let{it:i}=e,{gen:s,compositeRule:o,allErrors:a}=i,l=aI(e,t,r);n??(o||a)?sI(s,l):oI(i,(0,Me._)`[${l}]`)}Sr.reportError=NZ;function jZ(e,t=Sr.keywordError,r){let{it:n}=e,{gen:i,compositeRule:s,allErrors:o}=n,a=aI(e,t,r);sI(i,a),s||o||oI(n,Lr.default.vErrors)}Sr.reportExtraError=jZ;function qZ(e,t){e.assign(Lr.default.errors,t),e.if((0,Me._)`${Lr.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,Me._)`${Lr.default.vErrors}.length`,t),()=>e.assign(Lr.default.vErrors,null)))}Sr.resetErrorsCount=qZ;function DZ({gen:e,keyword:t,schemaValue:r,data:n,errsCount:i,it:s}){if(i===void 0)throw new Error("ajv implementation error");let o=e.name("err");e.forRange("i",i,Lr.default.errors,a=>{e.const(o,(0,Me._)`${Lr.default.vErrors}[${a}]`),e.if((0,Me._)`${o}.instancePath === undefined`,()=>e.assign((0,Me._)`${o}.instancePath`,(0,Me.strConcat)(Lr.default.instancePath,s.errorPath))),e.assign((0,Me._)`${o}.schemaPath`,(0,Me.str)`${s.errSchemaPath}/${t}`),s.opts.verbose&&(e.assign((0,Me._)`${o}.schema`,r),e.assign((0,Me._)`${o}.data`,n))})}Sr.extendErrors=DZ;function sI(e,t){let r=e.const("err",t);e.if((0,Me._)`${Lr.default.vErrors} === null`,()=>e.assign(Lr.default.vErrors,(0,Me._)`[${r}]`),(0,Me._)`${Lr.default.vErrors}.push(${r})`),e.code((0,Me._)`${Lr.default.errors}++`)}function oI(e,t){let{gen:r,validateName:n,schemaEnv:i}=e;i.$async?r.throw((0,Me._)`new ${e.ValidationError}(${t})`):(r.assign((0,Me._)`${n}.errors`,t),r.return(!1))}var Go={keyword:new Me.Name("keyword"),schemaPath:new Me.Name("schemaPath"),params:new Me.Name("params"),propertyName:new Me.Name("propertyName"),message:new Me.Name("message"),schema:new Me.Name("schema"),parentSchema:new Me.Name("parentSchema")};function aI(e,t,r){let{createErrors:n}=e.it;return n===!1?(0,Me._)`{}`:LZ(e,t,r)}function LZ(e,t,r={}){let{gen:n,it:i}=e,s=[FZ(i,r),MZ(e,r)];return BZ(e,t,s),n.object(...s)}function FZ({errorPath:e},{instancePath:t}){let r=t?(0,Me.str)`${e}${(0,Vh.getErrorPath)(t,Vh.Type.Str)}`:e;return[Lr.default.instancePath,(0,Me.strConcat)(Lr.default.instancePath,r)]}function MZ({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:n}){let i=n?t:(0,Me.str)`${t}/${e}`;return r&&(i=(0,Me.str)`${i}${(0,Vh.getErrorPath)(r,Vh.Type.Str)}`),[Go.schemaPath,i]}function BZ(e,{params:t,message:r},n){let{keyword:i,data:s,schemaValue:o,it:a}=e,{opts:l,propertyName:c,topSchemaRef:u,schemaPath:d}=a;n.push([Go.keyword,i],[Go.params,typeof t=="function"?t(e):t||(0,Me._)`{}`]),l.messages&&n.push([Go.message,typeof r=="function"?r(e):r]),l.verbose&&n.push([Go.schema,o],[Go.parentSchema,(0,Me._)`${u}${d}`],[Lr.default.data,s]),c&&n.push([Go.propertyName,c])}});var cI=w(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.boolOrEmptySchema=dl.topBoolOrEmptySchema=void 0;var zZ=du(),HZ=ge(),UZ=$n(),VZ={message:"boolean schema is false"};function GZ(e){let{gen:t,schema:r,validateName:n}=e;r===!1?lI(e,!1):typeof r=="object"&&r.$async===!0?t.return(UZ.default.data):(t.assign((0,HZ._)`${n}.errors`,null),t.return(!0))}dl.topBoolOrEmptySchema=GZ;function WZ(e,t){let{gen:r,schema:n}=e;n===!1?(r.var(t,!1),lI(e)):r.var(t,!0)}dl.boolOrEmptySchema=WZ;function lI(e,t){let{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,zZ.reportError)(i,VZ,void 0,t)}});var hv=w(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.getRules=hl.isJSONType=void 0;var KZ=["string","number","integer","boolean","null","object","array"],JZ=new Set(KZ);function YZ(e){return typeof e=="string"&&JZ.has(e)}hl.isJSONType=YZ;function XZ(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}hl.getRules=XZ});var pv=w(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.shouldUseRule=Is.shouldUseGroup=Is.schemaHasRulesForType=void 0;function QZ({schema:e,self:t},r){let n=t.RULES.types[r];return n&&n!==!0&&uI(e,n)}Is.schemaHasRulesForType=QZ;function uI(e,t){return t.rules.some(r=>fI(e,r))}Is.shouldUseGroup=uI;function fI(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Is.shouldUseRule=fI});var pu=w(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.reportTypeError=mr.checkDataTypes=mr.checkDataType=mr.coerceAndCheckDataType=mr.getJSONTypes=mr.getSchemaTypes=mr.DataType=void 0;var ZZ=hv(),eee=pv(),tee=du(),Ee=ge(),dI=Re(),hu;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(hu=mr.DataType||(mr.DataType={}));function ree(e){let t=hI(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}mr.getSchemaTypes=ree;function hI(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(ZZ.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}mr.getJSONTypes=hI;function nee(e,t){let{gen:r,data:n,opts:i}=e,s=iee(t,i.coerceTypes),o=t.length>0&&!(s.length===0&&t.length===1&&(0,eee.schemaHasRulesForType)(e,t[0]));if(o){let a=gv(t,n,i.strictNumbers,hu.Wrong);r.if(a,()=>{s.length?see(e,t,s):yv(e)})}return o}mr.coerceAndCheckDataType=nee;var pI=new Set(["string","number","integer","boolean","null"]);function iee(e,t){return t?e.filter(r=>pI.has(r)||t==="array"&&r==="array"):[]}function see(e,t,r){let{gen:n,data:i,opts:s}=e,o=n.let("dataType",(0,Ee._)`typeof ${i}`),a=n.let("coerced",(0,Ee._)`undefined`);s.coerceTypes==="array"&&n.if((0,Ee._)`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,Ee._)`${i}[0]`).assign(o,(0,Ee._)`typeof ${i}`).if(gv(t,i,s.strictNumbers),()=>n.assign(a,i))),n.if((0,Ee._)`${a} !== undefined`);for(let c of r)(pI.has(c)||c==="array"&&s.coerceTypes==="array")&&l(c);n.else(),yv(e),n.endIf(),n.if((0,Ee._)`${a} !== undefined`,()=>{n.assign(i,a),oee(e,a)});function l(c){switch(c){case"string":n.elseIf((0,Ee._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,Ee._)`"" + ${i}`).elseIf((0,Ee._)`${i} === null`).assign(a,(0,Ee._)`""`);return;case"number":n.elseIf((0,Ee._)`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,Ee._)`+${i}`);return;case"integer":n.elseIf((0,Ee._)`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,Ee._)`+${i}`);return;case"boolean":n.elseIf((0,Ee._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,Ee._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,Ee._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,Ee._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(a,(0,Ee._)`[${i}]`)}}}function oee({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,Ee._)`${t} !== undefined`,()=>e.assign((0,Ee._)`${t}[${r}]`,n))}function mv(e,t,r,n=hu.Correct){let i=n===hu.Correct?Ee.operators.EQ:Ee.operators.NEQ,s;switch(e){case"null":return(0,Ee._)`${t} ${i} null`;case"array":s=(0,Ee._)`Array.isArray(${t})`;break;case"object":s=(0,Ee._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=o((0,Ee._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=o();break;default:return(0,Ee._)`typeof ${t} ${i} ${e}`}return n===hu.Correct?s:(0,Ee.not)(s);function o(a=Ee.nil){return(0,Ee.and)((0,Ee._)`typeof ${t} == "number"`,a,r?(0,Ee._)`isFinite(${t})`:Ee.nil)}}mr.checkDataType=mv;function gv(e,t,r,n){if(e.length===1)return mv(e[0],t,r,n);let i,s=(0,dI.toHash)(e);if(s.array&&s.object){let o=(0,Ee._)`typeof ${t} != "object"`;i=s.null?o:(0,Ee._)`!${t} || ${o}`,delete s.null,delete s.array,delete s.object}else i=Ee.nil;s.number&&delete s.integer;for(let o in s)i=(0,Ee.and)(i,mv(o,t,r,n));return i}mr.checkDataTypes=gv;var aee={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,Ee._)`{type: ${e}}`:(0,Ee._)`{type: ${t}}`};function yv(e){let t=lee(e);(0,tee.reportError)(t,aee)}mr.reportTypeError=yv;function lee(e){let{gen:t,data:r,schema:n}=e,i=(0,dI.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}});var gI=w(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.assignDefaults=void 0;var pl=ge(),cee=Re();function uee(e,t){let{properties:r,items:n}=e.schema;if(t==="object"&&r)for(let i in r)mI(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>mI(e,s,i.default))}Gh.assignDefaults=uee;function mI(e,t,r){let{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;let a=(0,pl._)`${s}${(0,pl.getProperty)(t)}`;if(i){(0,cee.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,pl._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,pl._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,pl._)`${a} = ${(0,pl.stringify)(r)}`)}});var gr=w(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.validateUnion=it.validateArray=it.usePattern=it.callValidateCode=it.schemaProperties=it.allSchemaProperties=it.noPropertyInData=it.propertyInData=it.isOwnProperty=it.hasPropFunc=it.reportMissingProp=it.checkMissingProp=it.checkReportMissingProp=void 0;var yt=ge(),bv=Re(),$s=$n(),fee=Re();function dee(e,t){let{gen:r,data:n,it:i}=e;r.if(wv(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,yt._)`${t}`},!0),e.error()})}it.checkReportMissingProp=dee;function hee({gen:e,data:t,it:{opts:r}},n,i){return(0,yt.or)(...n.map(s=>(0,yt.and)(wv(e,t,s,r.ownProperties),(0,yt._)`${i} = ${s}`)))}it.checkMissingProp=hee;function pee(e,t){e.setParams({missingProperty:t},!0),e.error()}it.reportMissingProp=pee;function yI(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,yt._)`Object.prototype.hasOwnProperty`})}it.hasPropFunc=yI;function vv(e,t,r){return(0,yt._)`${yI(e)}.call(${t}, ${r})`}it.isOwnProperty=vv;function mee(e,t,r,n){let i=(0,yt._)`${t}${(0,yt.getProperty)(r)} !== undefined`;return n?(0,yt._)`${i} && ${vv(e,t,r)}`:i}it.propertyInData=mee;function wv(e,t,r,n){let i=(0,yt._)`${t}${(0,yt.getProperty)(r)} === undefined`;return n?(0,yt.or)(i,(0,yt.not)(vv(e,t,r))):i}it.noPropertyInData=wv;function bI(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}it.allSchemaProperties=bI;function gee(e,t){return bI(t).filter(r=>!(0,bv.alwaysValidSchema)(e,t[r]))}it.schemaProperties=gee;function yee({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},a,l,c){let u=c?(0,yt._)`${e}, ${t}, ${n}${i}`:t,d=[[$s.default.instancePath,(0,yt.strConcat)($s.default.instancePath,s)],[$s.default.parentData,o.parentData],[$s.default.parentDataProperty,o.parentDataProperty],[$s.default.rootData,$s.default.rootData]];o.opts.dynamicRef&&d.push([$s.default.dynamicAnchors,$s.default.dynamicAnchors]);let h=(0,yt._)`${u}, ${r.object(...d)}`;return l!==yt.nil?(0,yt._)`${a}.call(${l}, ${h})`:(0,yt._)`${a}(${h})`}it.callValidateCode=yee;var bee=(0,yt._)`new RegExp`;function vee({gen:e,it:{opts:t}},r){let n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,yt._)`${i.code==="new RegExp"?bee:(0,fee.useFunc)(e,i)}(${r}, ${n})`})}it.usePattern=vee;function wee(e){let{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){let a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){let l=t.const("len",(0,yt._)`${r}.length`);t.forRange("i",0,l,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:bv.Type.Num},s),t.if((0,yt.not)(s),a)})}}it.validateArray=wee;function _ee(e){let{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,bv.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;let o=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,c)=>{let u=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},a);t.assign(o,(0,yt._)`${o} || ${a}`),e.mergeValidEvaluated(u,a)||t.if((0,yt.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}it.validateUnion=_ee});var _I=w(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.validateKeywordUsage=wi.validSchemaType=wi.funcKeywordCode=wi.macroKeywordCode=void 0;var Fr=ge(),Wo=$n(),Eee=gr(),xee=du();function See(e,t){let{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),l=wI(r,n,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let c=r.name("valid");e.subschema({schema:a,schemaPath:Fr.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}wi.macroKeywordCode=See;function Ree(e,t){var r;let{gen:n,keyword:i,schema:s,parentSchema:o,$data:a,it:l}=e;Pee(l,t);let c=!a&&t.compile?t.compile.call(l.self,s,o,l):t.validate,u=wI(n,i,c),d=n.let("valid");e.block$data(d,h),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function h(){if(t.errors===!1)m(),t.modifying&&vI(e),v(()=>e.error());else{let y=t.async?f():p();t.modifying&&vI(e),v(()=>Tee(e,y))}}function f(){let y=n.let("ruleErrs",null);return n.try(()=>m((0,Fr._)`await `),E=>n.assign(d,!1).if((0,Fr._)`${E} instanceof ${l.ValidationError}`,()=>n.assign(y,(0,Fr._)`${E}.errors`),()=>n.throw(E))),y}function p(){let y=(0,Fr._)`${u}.errors`;return n.assign(y,null),m(Fr.nil),y}function m(y=t.async?(0,Fr._)`await `:Fr.nil){let E=l.opts.passContext?Wo.default.this:Wo.default.self,b=!("compile"in t&&!a||t.schema===!1);n.assign(d,(0,Fr._)`${y}${(0,Eee.callValidateCode)(e,u,E,b)}`,t.modifying)}function v(y){var E;n.if((0,Fr.not)((E=t.valid)!==null&&E!==void 0?E:d),y)}}wi.funcKeywordCode=Ree;function vI(e){let{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Fr._)`${n.parentData}[${n.parentDataProperty}]`))}function Tee(e,t){let{gen:r}=e;r.if((0,Fr._)`Array.isArray(${t})`,()=>{r.assign(Wo.default.vErrors,(0,Fr._)`${Wo.default.vErrors} === null ? ${t} : ${Wo.default.vErrors}.concat(${t})`).assign(Wo.default.errors,(0,Fr._)`${Wo.default.vErrors}.length`),(0,xee.extendErrors)(e)},()=>e.error())}function Pee({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function wI(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Fr.stringify)(r)})}function Aee(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}wi.validSchemaType=Aee;function kee({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");let o=i.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){let l=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}wi.validateKeywordUsage=kee});var xI=w(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.extendSubschemaMode=Ns.extendSubschemaData=Ns.getSubschema=void 0;var _i=ge(),EI=Re();function Oee(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,_i._)`${e.schemaPath}${(0,_i.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,_i._)`${e.schemaPath}${(0,_i.getProperty)(t)}${(0,_i.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,EI.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Ns.getSubschema=Oee;function Cee(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=t;if(r!==void 0){let{errorPath:c,dataPathArr:u,opts:d}=t,h=a.let("data",(0,_i._)`${t.data}${(0,_i.getProperty)(r)}`,!0);l(h),e.errorPath=(0,_i.str)`${c}${(0,EI.getErrorPath)(r,n,d.jsPropertySyntax)}`,e.parentDataProperty=(0,_i._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(i!==void 0){let c=i instanceof _i.Name?i:a.let("data",i,!0);l(c),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function l(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}Ns.extendSubschemaData=Cee;function Iee(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Ns.extendSubschemaMode=Iee});var RI=w((aPe,SI)=>{"use strict";var js=SI.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};Wh(t,n,i,e,"",e)};js.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};js.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};js.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};js.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Wh(e,t,r,n,i,s,o,a,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,a,l,c);for(var u in n){var d=n[u];if(Array.isArray(d)){if(u in js.arrayKeywords)for(var h=0;h<d.length;h++)Wh(e,t,r,d[h],i+"/"+u+"/"+h,s,i,u,n,h)}else if(u in js.propsKeywords){if(d&&typeof d=="object")for(var f in d)Wh(e,t,r,d[f],i+"/"+u+"/"+$ee(f),s,i,u,n,f)}else(u in js.keywords||e.allKeys&&!(u in js.skipKeywords))&&Wh(e,t,r,d,i+"/"+u,s,i,u,n)}r(n,i,s,o,a,l,c)}}function $ee(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var mu=w(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.getSchemaRefs=en.resolveUrl=en.normalizeId=en._getFullPath=en.getFullPath=en.inlineRef=void 0;var Nee=Re(),jee=nu(),qee=RI(),Dee=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Lee(e,t=!0){return typeof e=="boolean"?!0:t===!0?!_v(e):t?TI(e)<=t:!1}en.inlineRef=Lee;var Fee=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function _v(e){for(let t in e){if(Fee.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(_v)||typeof r=="object"&&_v(r))return!0}return!1}function TI(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!Dee.has(r)&&(typeof e[r]=="object"&&(0,Nee.eachItem)(e[r],n=>t+=TI(n)),t===1/0))return 1/0}return t}function PI(e,t="",r){r!==!1&&(t=ml(t));let n=e.parse(t);return AI(e,n)}en.getFullPath=PI;function AI(e,t){return e.serialize(t).split("#")[0]+"#"}en._getFullPath=AI;var Mee=/#\/?$/;function ml(e){return e?e.replace(Mee,""):""}en.normalizeId=ml;function Bee(e,t,r){return r=ml(r),e.resolve(t,r)}en.resolveUrl=Bee;var zee=/^[a-z_][-a-z0-9._]*$/i;function Hee(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,i=ml(e[r]||t),s={"":i},o=PI(n,i,!1),a={},l=new Set;return qee(e,{allKeys:!0},(d,h,f,p)=>{if(p===void 0)return;let m=o+h,v=s[p];typeof d[r]=="string"&&(v=y.call(this,d[r])),E.call(this,d.$anchor),E.call(this,d.$dynamicAnchor),s[h]=v;function y(b){let g=this.opts.uriResolver.resolve;if(b=ml(v?g(v,b):b),l.has(b))throw u(b);l.add(b);let P=this.refs[b];return typeof P=="string"&&(P=this.refs[P]),typeof P=="object"?c(d,P.schema,b):b!==ml(m)&&(b[0]==="#"?(c(d,a[b],b),a[b]=d):this.refs[b]=m),b}function E(b){if(typeof b=="string"){if(!zee.test(b))throw new Error(`invalid anchor "${b}"`);y.call(this,`#${b}`)}}}),a;function c(d,h,f){if(h!==void 0&&!jee(d,h))throw u(f)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}en.getSchemaRefs=Hee});var gl=w(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.getData=qs.KeywordCxt=qs.validateFunctionCode=void 0;var $I=cI(),kI=pu(),xv=pv(),Kh=pu(),Uee=gI(),yu=_I(),Ev=xI(),fe=ge(),ve=$n(),Vee=mu(),es=Re(),gu=du();function Gee(e){if(qI(e)&&(DI(e),jI(e))){Jee(e);return}NI(e,()=>(0,$I.topBoolOrEmptySchema)(e))}qs.validateFunctionCode=Gee;function NI({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,fe._)`${ve.default.data}, ${ve.default.valCxt}`,n.$async,()=>{e.code((0,fe._)`"use strict"; ${OI(r,i)}`),Kee(e,i),e.code(s)}):e.func(t,(0,fe._)`${ve.default.data}, ${Wee(i)}`,n.$async,()=>e.code(OI(r,i)).code(s))}function Wee(e){return(0,fe._)`{${ve.default.instancePath}="", ${ve.default.parentData}, ${ve.default.parentDataProperty}, ${ve.default.rootData}=${ve.default.data}${e.dynamicRef?(0,fe._)`, ${ve.default.dynamicAnchors}={}`:fe.nil}}={}`}function Kee(e,t){e.if(ve.default.valCxt,()=>{e.var(ve.default.instancePath,(0,fe._)`${ve.default.valCxt}.${ve.default.instancePath}`),e.var(ve.default.parentData,(0,fe._)`${ve.default.valCxt}.${ve.default.parentData}`),e.var(ve.default.parentDataProperty,(0,fe._)`${ve.default.valCxt}.${ve.default.parentDataProperty}`),e.var(ve.default.rootData,(0,fe._)`${ve.default.valCxt}.${ve.default.rootData}`),t.dynamicRef&&e.var(ve.default.dynamicAnchors,(0,fe._)`${ve.default.valCxt}.${ve.default.dynamicAnchors}`)},()=>{e.var(ve.default.instancePath,(0,fe._)`""`),e.var(ve.default.parentData,(0,fe._)`undefined`),e.var(ve.default.parentDataProperty,(0,fe._)`undefined`),e.var(ve.default.rootData,ve.default.data),t.dynamicRef&&e.var(ve.default.dynamicAnchors,(0,fe._)`{}`)})}function Jee(e){let{schema:t,opts:r,gen:n}=e;NI(e,()=>{r.$comment&&t.$comment&&FI(e),ete(e),n.let(ve.default.vErrors,null),n.let(ve.default.errors,0),r.unevaluated&&Yee(e),LI(e),nte(e)})}function Yee(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,fe._)`${r}.evaluated`),t.if((0,fe._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,fe._)`${e.evaluated}.props`,(0,fe._)`undefined`)),t.if((0,fe._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,fe._)`${e.evaluated}.items`,(0,fe._)`undefined`))}function OI(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,fe._)`/*# sourceURL=${r} */`:fe.nil}function Xee(e,t){if(qI(e)&&(DI(e),jI(e))){Qee(e,t);return}(0,$I.boolOrEmptySchema)(e,t)}function jI({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function qI(e){return typeof e.schema!="boolean"}function Qee(e,t){let{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&FI(e),tte(e),rte(e);let s=n.const("_errs",ve.default.errors);LI(e,s),n.var(t,(0,fe._)`${s} === ${ve.default.errors}`)}function DI(e){(0,es.checkUnknownRules)(e),Zee(e)}function LI(e,t){if(e.opts.jtd)return CI(e,[],!1,t);let r=(0,kI.getSchemaTypes)(e.schema),n=(0,kI.coerceAndCheckDataType)(e,r);CI(e,r,!n,t)}function Zee(e){let{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,es.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function ete(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,es.checkStrictMode)(e,"default is ignored in the schema root")}function tte(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Vee.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function rte(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function FI({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){let s=r.$comment;if(i.$comment===!0)e.code((0,fe._)`${ve.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){let o=(0,fe.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,fe._)`${ve.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function nte(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,fe._)`${ve.default.errors} === 0`,()=>t.return(ve.default.data),()=>t.throw((0,fe._)`new ${i}(${ve.default.vErrors})`)):(t.assign((0,fe._)`${n}.errors`,ve.default.vErrors),s.unevaluated&&ite(e),t.return((0,fe._)`${ve.default.errors} === 0`))}function ite({gen:e,evaluated:t,props:r,items:n}){r instanceof fe.Name&&e.assign((0,fe._)`${t}.props`,r),n instanceof fe.Name&&e.assign((0,fe._)`${t}.items`,n)}function CI(e,t,r,n){let{gen:i,schema:s,data:o,allErrors:a,opts:l,self:c}=e,{RULES:u}=c;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,es.schemaHasRulesButRef)(s,u))){i.block(()=>BI(e,"$ref",u.all.$ref.definition));return}l.jtd||ste(e,t),i.block(()=>{for(let h of u.rules)d(h);d(u.post)});function d(h){(0,xv.shouldUseGroup)(s,h)&&(h.type?(i.if((0,Kh.checkDataType)(h.type,o,l.strictNumbers)),II(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Kh.reportTypeError)(e)),i.endIf()):II(e,h),a||i.if((0,fe._)`${ve.default.errors} === ${n||0}`))}}function II(e,t){let{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,Uee.assignDefaults)(e,t.type),r.block(()=>{for(let s of t.rules)(0,xv.shouldUseRule)(n,s)&&BI(e,s.keyword,s.definition,t.type)})}function ste(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(ote(e,t),e.opts.allowUnionTypes||ate(e,t),lte(e,e.dataTypes))}function ote(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{MI(e.dataTypes,r)||Sv(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),ute(e,t)}}function ate(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Sv(e,"use allowUnionTypes to allow union type keyword")}function lte(e,t){let r=e.self.RULES.all;for(let n in r){let i=r[n];if(typeof i=="object"&&(0,xv.shouldUseRule)(e.schema,i)){let{type:s}=i.definition;s.length&&!s.some(o=>cte(t,o))&&Sv(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function cte(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function MI(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function ute(e,t){let r=[];for(let n of e.dataTypes)MI(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Sv(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,es.checkStrictMode)(e,t,e.opts.strictTypes)}var Jh=class{constructor(t,r,n){if((0,yu.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,es.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",zI(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,yu.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ve.default.errors))}result(t,r,n){this.failResult((0,fe.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,fe.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,fe._)`${r} !== undefined && (${(0,fe.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?gu.reportExtraError:gu.reportError)(this,this.def.error,r)}$dataError(){(0,gu.reportError)(this,this.def.$dataError||gu.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,gu.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=fe.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=fe.nil,r=fe.nil){if(!this.$data)return;let{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,fe.or)((0,fe._)`${i} === undefined`,r)),t!==fe.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==fe.nil&&n.assign(t,!1)),n.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,fe.or)(o(),a());function o(){if(n.length){if(!(r instanceof fe.Name))throw new Error("ajv implementation error");let l=Array.isArray(n)?n:[n];return(0,fe._)`${(0,Kh.checkDataTypes)(l,r,s.opts.strictNumbers,Kh.DataType.Wrong)}`}return fe.nil}function a(){if(i.validateSchema){let l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,fe._)`!${l}(${r})`}return fe.nil}}subschema(t,r){let n=(0,Ev.getSubschema)(this.it,t);(0,Ev.extendSubschemaData)(n,this.it,t),(0,Ev.extendSubschemaMode)(n,t);let i={...this.it,...n,items:void 0,props:void 0};return Xee(i,r),i}mergeEvaluated(t,r){let{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=es.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=es.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){let{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,fe.Name)),!0}};qs.KeywordCxt=Jh;function BI(e,t,r,n){let i=new Jh(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,yu.funcKeywordCode)(i,r):"macro"in r?(0,yu.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,yu.funcKeywordCode)(i,r)}var fte=/^\/(?:[^~]|~0|~1)*$/,dte=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function zI(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return ve.default.rootData;if(e[0]==="/"){if(!fte.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=ve.default.rootData}else{let c=dte.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);let u=+c[1];if(i=c[2],i==="#"){if(u>=t)throw new Error(l("property/index",u));return n[t-u]}if(u>t)throw new Error(l("data",u));if(s=r[t-u],!i)return s}let o=s,a=i.split("/");for(let c of a)c&&(s=(0,fe._)`${s}${(0,fe.getProperty)((0,es.unescapeJsonPointer)(c))}`,o=(0,fe._)`${o} && ${s}`);return o;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${t}`}}qs.getData=zI});var bu=w(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});var Rv=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};Tv.default=Rv});var Ds=w(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});var Pv=mu(),Av=class extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Pv.resolveUrl)(t,r,n),this.missingSchema=(0,Pv.normalizeId)((0,Pv.getFullPath)(t,this.missingRef))}};kv.default=Av});var Jo=w(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.resolveSchema=Nn.getCompilingSchema=Nn.resolveRef=Nn.compileSchema=Nn.SchemaEnv=void 0;var Yn=ge(),hte=bu(),Ko=$n(),Xn=mu(),HI=Re(),pte=gl(),yl=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Xn.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}};Nn.SchemaEnv=yl;function Cv(e){let t=UI.call(this,e);if(t)return t;let r=(0,Xn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Yn.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s}),a;e.$async&&(a=o.scopeValue("Error",{ref:hte.default,code:(0,Yn._)`require("ajv/dist/runtime/validation_error").default`}));let l=o.scopeName("validate");e.validateName=l;let c={gen:o,allErrors:this.opts.allErrors,data:Ko.default.data,parentData:Ko.default.parentData,parentDataProperty:Ko.default.parentDataProperty,dataNames:[Ko.default.data],dataPathArr:[Yn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Yn.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Yn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Yn._)`""`,opts:this.opts,self:this},u;try{this._compilations.add(e),(0,pte.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);let d=o.toString();u=`${o.scopeRefs(Ko.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,e));let f=new Function(`${Ko.default.self}`,`${Ko.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:f}),f.errors=null,f.schema=e.schema,f.schemaEnv=e,e.$async&&(f.$async=!0),this.opts.code.source===!0&&(f.source={validateName:l,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){let{props:p,items:m}=c;f.evaluated={props:p instanceof Yn.Name?void 0:p,items:m instanceof Yn.Name?void 0:m,dynamicProps:p instanceof Yn.Name,dynamicItems:m instanceof Yn.Name},f.source&&(f.source.evaluated=(0,Yn.stringify)(f.evaluated))}return e.validate=f,e}catch(d){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(e)}}Nn.compileSchema=Cv;function mte(e,t,r){var n;r=(0,Xn.resolveUrl)(this.opts.uriResolver,t,r);let i=e.refs[r];if(i)return i;let s=bte.call(this,e,r);if(s===void 0){let o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;o&&(s=new yl({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=gte.call(this,s)}Nn.resolveRef=mte;function gte(e){return(0,Xn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Cv.call(this,e)}function UI(e){for(let t of this._compilations)if(yte(t,e))return t}Nn.getCompilingSchema=UI;function yte(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function bte(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Yh.call(this,e,t)}function Yh(e,t){let r=this.opts.uriResolver.parse(t),n=(0,Xn._getFullPath)(this.opts.uriResolver,r),i=(0,Xn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Ov.call(this,r,e);let s=(0,Xn.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){let a=Yh.call(this,e,o);return typeof a?.schema!="object"?void 0:Ov.call(this,r,a)}if(typeof o?.schema=="object"){if(o.validate||Cv.call(this,o),s===(0,Xn.normalizeId)(t)){let{schema:a}=o,{schemaId:l}=this.opts,c=a[l];return c&&(i=(0,Xn.resolveUrl)(this.opts.uriResolver,i,c)),new yl({schema:a,schemaId:l,root:e,baseId:i})}return Ov.call(this,r,o)}}Nn.resolveSchema=Yh;var vte=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ov(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let l=r[(0,HI.unescapeFragment)(a)];if(l===void 0)return;r=l;let c=typeof r=="object"&&r[this.opts.schemaId];!vte.has(a)&&c&&(t=(0,Xn.resolveUrl)(this.opts.uriResolver,t,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,HI.schemaHasRulesButRef)(r,this.RULES)){let a=(0,Xn.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Yh.call(this,n,a)}let{schemaId:o}=this.opts;if(s=s||new yl({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}});var VI=w((hPe,wte)=>{wte.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var WI=w((Xh,GI)=>{(function(e,t){typeof Xh=="object"&&typeof GI<"u"?t(Xh):typeof define=="function"&&define.amd?define(["exports"],t):t(e.URI=e.URI||{})})(Xh,function(e){"use strict";function t(){for(var I=arguments.length,A=Array(I),N=0;N<I;N++)A[N]=arguments[N];if(A.length>1){A[0]=A[0].slice(0,-1);for(var M=A.length-1,B=1;B<M;++B)A[B]=A[B].slice(1,-1);return A[M]=A[M].slice(1),A.join("")}else return A[0]}function r(I){return"(?:"+I+")"}function n(I){return I===void 0?"undefined":I===null?"null":Object.prototype.toString.call(I).split(" ").pop().split("]").shift().toLowerCase()}function i(I){return I.toUpperCase()}function s(I){return I!=null?I instanceof Array?I:typeof I.length!="number"||I.split||I.setInterval||I.call?[I]:Array.prototype.slice.call(I):[]}function o(I,A){var N=I;if(A)for(var M in A)N[M]=A[M];return N}function a(I){var A="[A-Za-z]",N="[\\x0D]",M="[0-9]",B="[\\x22]",oe=t(M,"[A-Fa-f]"),_e="[\\x0A]",Te="[\\x20]",ze=r(r("%[EFef]"+oe+"%"+oe+oe+"%"+oe+oe)+"|"+r("%[89A-Fa-f]"+oe+"%"+oe+oe)+"|"+r("%"+oe+oe)),Ot="[\\:\\/\\?\\#\\[\\]\\@]",Ne="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",pt=t(Ot,Ne),Ct=I?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ft=I?"[\\uE000-\\uF8FF]":"[]",xe=t(A,M,"[\\-\\.\\_\\~]",Ct),mt=r(A+t(A,M,"[\\+\\-\\.]")+"*"),Ke=r(r(ze+"|"+t(xe,Ne,"[\\:]"))+"*"),zi=r(r("25[0-5]")+"|"+r("2[0-4]"+M)+"|"+r("1"+M+M)+"|"+r("[1-9]"+M)+"|"+M),Or=r(r("25[0-5]")+"|"+r("2[0-4]"+M)+"|"+r("1"+M+M)+"|"+r("0?[1-9]"+M)+"|0?0?"+M),Vr=r(Or+"\\."+Or+"\\."+Or+"\\."+Or),tt=r(oe+"{1,4}"),Cr=r(r(tt+"\\:"+tt)+"|"+Vr),Gr=r(r(tt+"\\:")+"{6}"+Cr),xn=r("\\:\\:"+r(tt+"\\:")+"{5}"+Cr),xt=r(r(tt)+"?\\:\\:"+r(tt+"\\:")+"{4}"+Cr),zn=r(r(r(tt+"\\:")+"{0,1}"+tt)+"?\\:\\:"+r(tt+"\\:")+"{3}"+Cr),Ro=r(r(r(tt+"\\:")+"{0,2}"+tt)+"?\\:\\:"+r(tt+"\\:")+"{2}"+Cr),Ba=r(r(r(tt+"\\:")+"{0,3}"+tt)+"?\\:\\:"+tt+"\\:"+Cr),Hi=r(r(r(tt+"\\:")+"{0,4}"+tt)+"?\\:\\:"+Cr),Bt=r(r(r(tt+"\\:")+"{0,5}"+tt)+"?\\:\\:"+tt),gt=r(r(r(tt+"\\:")+"{0,6}"+tt)+"?\\:\\:"),Hn=r([Gr,xn,xt,zn,Ro,Ba,Hi,Bt,gt].join("|")),Ui=r(r(xe+"|"+ze)+"+"),Ir=r(Hn+"\\%25"+Ui),gi=r(Hn+r("\\%25|\\%(?!"+oe+"{2})")+Ui),Pd=r("[vV]"+oe+"+\\."+t(xe,Ne,"[\\:]")+"+"),gy=r("\\["+r(gi+"|"+Hn+"|"+Pd)+"\\]"),Ad=r(r(ze+"|"+t(xe,Ne))+"*"),Vi=r(gy+"|"+Vr+"(?!"+Ad+")|"+Ad),Gi=r(M+"*"),kd=r(r(Ke+"@")+"?"+Vi+r("\\:"+Gi)+"?"),To=r(ze+"|"+t(xe,Ne,"[\\:\\@]")),yy=r(To+"*"),za=r(To+"+"),_=r(r(ze+"|"+t(xe,Ne,"[\\@]"))+"+"),x=r(r("\\/"+yy)+"*"),S=r("\\/"+r(za+x)+"?"),j=r(_+x),V=r(za+x),J="(?!"+To+")",ie=r(x+"|"+S+"|"+j+"|"+V+"|"+J),se=r(r(To+"|"+t("[\\/\\?]",ft))+"*"),We=r(r(To+"|[\\/\\?]")+"*"),qt=r(r("\\/\\/"+kd+x)+"|"+S+"|"+V+"|"+J),Wr=r(mt+"\\:"+qt+r("\\?"+se)+"?"+r("\\#"+We)+"?"),$r=r(r("\\/\\/"+kd+x)+"|"+S+"|"+j+"|"+J),Un=r($r+r("\\?"+se)+"?"+r("\\#"+We)+"?"),Cc=r(Wr+"|"+Un),Sn=r(mt+"\\:"+qt+r("\\?"+se)+"?"),Rn="^("+mt+")\\:"+r(r("\\/\\/("+r("("+Ke+")@")+"?("+Vi+")"+r("\\:("+Gi+")")+"?)")+"?("+x+"|"+S+"|"+V+"|"+J+")")+r("\\?("+se+")")+"?"+r("\\#("+We+")")+"?$",Ic="^(){0}"+r(r("\\/\\/("+r("("+Ke+")@")+"?("+Vi+")"+r("\\:("+Gi+")")+"?)")+"?("+x+"|"+S+"|"+j+"|"+J+")")+r("\\?("+se+")")+"?"+r("\\#("+We+")")+"?$",Wi="^("+mt+")\\:"+r(r("\\/\\/("+r("("+Ke+")@")+"?("+Vi+")"+r("\\:("+Gi+")")+"?)")+"?("+x+"|"+S+"|"+V+"|"+J+")")+r("\\?("+se+")")+"?$",Od="^"+r("\\#("+We+")")+"?$",PSe="^"+r("("+Ke+")@")+"?("+Vi+")"+r("\\:("+Gi+")")+"?$";return{NOT_SCHEME:new RegExp(t("[^]",A,M,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",xe,Ne),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",xe,Ne),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",xe,Ne),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",xe,Ne),"g"),NOT_QUERY:new RegExp(t("[^\\%]",xe,Ne,"[\\:\\@\\/\\?]",ft),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",xe,Ne,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",xe,Ne),"g"),UNRESERVED:new RegExp(xe,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",xe,pt),"g"),PCT_ENCODED:new RegExp(ze,"g"),IPV4ADDRESS:new RegExp("^("+Vr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Hn+")"+r(r("\\%25|\\%(?!"+oe+"{2})")+"("+Ui+")")+"?\\]?$")}}var l=a(!1),c=a(!0),u=function(){function I(A,N){var M=[],B=!0,oe=!1,_e=void 0;try{for(var Te=A[Symbol.iterator](),ze;!(B=(ze=Te.next()).done)&&(M.push(ze.value),!(N&&M.length===N));B=!0);}catch(Ot){oe=!0,_e=Ot}finally{try{!B&&Te.return&&Te.return()}finally{if(oe)throw _e}}return M}return function(A,N){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return I(A,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(I){if(Array.isArray(I)){for(var A=0,N=Array(I.length);A<I.length;A++)N[A]=I[A];return N}else return Array.from(I)},h=2147483647,f=36,p=1,m=26,v=38,y=700,E=72,b=128,g="-",P=/^xn--/,O=/[^\0-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=f-p,F=Math.floor,D=String.fromCharCode;function H(I){throw new RangeError(C[I])}function G(I,A){for(var N=[],M=I.length;M--;)N[M]=A(I[M]);return N}function he(I,A){var N=I.split("@"),M="";N.length>1&&(M=N[0]+"@",I=N[1]),I=I.replace(R,".");var B=I.split("."),oe=G(B,A).join(".");return M+oe}function we(I){for(var A=[],N=0,M=I.length;N<M;){var B=I.charCodeAt(N++);if(B>=55296&&B<=56319&&N<M){var oe=I.charCodeAt(N++);(oe&64512)==56320?A.push(((B&1023)<<10)+(oe&1023)+65536):(A.push(B),N--)}else A.push(B)}return A}var Z=function(A){return String.fromCodePoint.apply(String,d(A))},ye=function(A){return A-48<10?A-22:A-65<26?A-65:A-97<26?A-97:f},Ge=function(A,N){return A+22+75*(A<26)-((N!=0)<<5)},re=function(A,N,M){var B=0;for(A=M?F(A/y):A>>1,A+=F(A/N);A>q*m>>1;B+=f)A=F(A/q);return F(B+(q+1)*A/(A+v))},Be=function(A){var N=[],M=A.length,B=0,oe=b,_e=E,Te=A.lastIndexOf(g);Te<0&&(Te=0);for(var ze=0;ze<Te;++ze)A.charCodeAt(ze)>=128&&H("not-basic"),N.push(A.charCodeAt(ze));for(var Ot=Te>0?Te+1:0;Ot<M;){for(var Ne=B,pt=1,Ct=f;;Ct+=f){Ot>=M&&H("invalid-input");var ft=ye(A.charCodeAt(Ot++));(ft>=f||ft>F((h-B)/pt))&&H("overflow"),B+=ft*pt;var xe=Ct<=_e?p:Ct>=_e+m?m:Ct-_e;if(ft<xe)break;var mt=f-xe;pt>F(h/mt)&&H("overflow"),pt*=mt}var Ke=N.length+1;_e=re(B-Ne,Ke,Ne==0),F(B/Ke)>h-oe&&H("overflow"),oe+=F(B/Ke),B%=Ke,N.splice(B++,0,oe)}return String.fromCodePoint.apply(String,N)},Mt=function(A){var N=[];A=we(A);var M=A.length,B=b,oe=0,_e=E,Te=!0,ze=!1,Ot=void 0;try{for(var Ne=A[Symbol.iterator](),pt;!(Te=(pt=Ne.next()).done);Te=!0){var Ct=pt.value;Ct<128&&N.push(D(Ct))}}catch(gi){ze=!0,Ot=gi}finally{try{!Te&&Ne.return&&Ne.return()}finally{if(ze)throw Ot}}var ft=N.length,xe=ft;for(ft&&N.push(g);xe<M;){var mt=h,Ke=!0,zi=!1,Or=void 0;try{for(var Vr=A[Symbol.iterator](),tt;!(Ke=(tt=Vr.next()).done);Ke=!0){var Cr=tt.value;Cr>=B&&Cr<mt&&(mt=Cr)}}catch(gi){zi=!0,Or=gi}finally{try{!Ke&&Vr.return&&Vr.return()}finally{if(zi)throw Or}}var Gr=xe+1;mt-B>F((h-oe)/Gr)&&H("overflow"),oe+=(mt-B)*Gr,B=mt;var xn=!0,xt=!1,zn=void 0;try{for(var Ro=A[Symbol.iterator](),Ba;!(xn=(Ba=Ro.next()).done);xn=!0){var Hi=Ba.value;if(Hi<B&&++oe>h&&H("overflow"),Hi==B){for(var Bt=oe,gt=f;;gt+=f){var Hn=gt<=_e?p:gt>=_e+m?m:gt-_e;if(Bt<Hn)break;var Ui=Bt-Hn,Ir=f-Hn;N.push(D(Ge(Hn+Ui%Ir,0))),Bt=F(Ui/Ir)}N.push(D(Ge(Bt,0))),_e=re(oe,Gr,xe==ft),oe=0,++xe}}}catch(gi){xt=!0,zn=gi}finally{try{!xn&&Ro.return&&Ro.return()}finally{if(xt)throw zn}}++oe,++B}return N.join("")},Oe=function(A){return he(A,function(N){return P.test(N)?Be(N.slice(4).toLowerCase()):N})},Tr=function(A){return he(A,function(N){return O.test(N)?"xn--"+Mt(N):N})},Jt={version:"2.1.0",ucs2:{decode:we,encode:Z},decode:Be,encode:Mt,toASCII:Tr,toUnicode:Oe},De={};function be(I){var A=I.charCodeAt(0),N=void 0;return A<16?N="%0"+A.toString(16).toUpperCase():A<128?N="%"+A.toString(16).toUpperCase():A<2048?N="%"+(A>>6|192).toString(16).toUpperCase()+"%"+(A&63|128).toString(16).toUpperCase():N="%"+(A>>12|224).toString(16).toUpperCase()+"%"+(A>>6&63|128).toString(16).toUpperCase()+"%"+(A&63|128).toString(16).toUpperCase(),N}function rt(I){for(var A="",N=0,M=I.length;N<M;){var B=parseInt(I.substr(N+1,2),16);if(B<128)A+=String.fromCharCode(B),N+=3;else if(B>=194&&B<224){if(M-N>=6){var oe=parseInt(I.substr(N+4,2),16);A+=String.fromCharCode((B&31)<<6|oe&63)}else A+=I.substr(N,6);N+=6}else if(B>=224){if(M-N>=9){var _e=parseInt(I.substr(N+4,2),16),Te=parseInt(I.substr(N+7,2),16);A+=String.fromCharCode((B&15)<<12|(_e&63)<<6|Te&63)}else A+=I.substr(N,9);N+=9}else A+=I.substr(N,3),N+=3}return A}function Fe(I,A){function N(M){var B=rt(M);return B.match(A.UNRESERVED)?B:M}return I.scheme&&(I.scheme=String(I.scheme).replace(A.PCT_ENCODED,N).toLowerCase().replace(A.NOT_SCHEME,"")),I.userinfo!==void 0&&(I.userinfo=String(I.userinfo).replace(A.PCT_ENCODED,N).replace(A.NOT_USERINFO,be).replace(A.PCT_ENCODED,i)),I.host!==void 0&&(I.host=String(I.host).replace(A.PCT_ENCODED,N).toLowerCase().replace(A.NOT_HOST,be).replace(A.PCT_ENCODED,i)),I.path!==void 0&&(I.path=String(I.path).replace(A.PCT_ENCODED,N).replace(I.scheme?A.NOT_PATH:A.NOT_PATH_NOSCHEME,be).replace(A.PCT_ENCODED,i)),I.query!==void 0&&(I.query=String(I.query).replace(A.PCT_ENCODED,N).replace(A.NOT_QUERY,be).replace(A.PCT_ENCODED,i)),I.fragment!==void 0&&(I.fragment=String(I.fragment).replace(A.PCT_ENCODED,N).replace(A.NOT_FRAGMENT,be).replace(A.PCT_ENCODED,i)),I}function U(I){return I.replace(/^0*(.*)/,"$1")||"0"}function X(I,A){var N=I.match(A.IPV4ADDRESS)||[],M=u(N,2),B=M[1];return B?B.split(".").map(U).join("."):I}function ee(I,A){var N=I.match(A.IPV6ADDRESS)||[],M=u(N,3),B=M[1],oe=M[2];if(B){for(var _e=B.toLowerCase().split("::").reverse(),Te=u(_e,2),ze=Te[0],Ot=Te[1],Ne=Ot?Ot.split(":").map(U):[],pt=ze.split(":").map(U),Ct=A.IPV4ADDRESS.test(pt[pt.length-1]),ft=Ct?7:8,xe=pt.length-ft,mt=Array(ft),Ke=0;Ke<ft;++Ke)mt[Ke]=Ne[Ke]||pt[xe+Ke]||"";Ct&&(mt[ft-1]=X(mt[ft-1],A));var zi=mt.reduce(function(Gr,xn,xt){if(!xn||xn==="0"){var zn=Gr[Gr.length-1];zn&&zn.index+zn.length===xt?zn.length++:Gr.push({index:xt,length:1})}return Gr},[]),Or=zi.sort(function(Gr,xn){return xn.length-Gr.length})[0],Vr=void 0;if(Or&&Or.length>1){var tt=mt.slice(0,Or.index),Cr=mt.slice(Or.index+Or.length);Vr=tt.join(":")+"::"+Cr.join(":")}else Vr=mt.join(":");return oe&&(Vr+="%"+oe),Vr}else return I}var ne=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,nt="".match(/(){0}/)[1]===void 0;function ue(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N={},M=A.iri!==!1?c:l;A.reference==="suffix"&&(I=(A.scheme?A.scheme+":":"")+"//"+I);var B=I.match(ne);if(B){nt?(N.scheme=B[1],N.userinfo=B[3],N.host=B[4],N.port=parseInt(B[5],10),N.path=B[6]||"",N.query=B[7],N.fragment=B[8],isNaN(N.port)&&(N.port=B[5])):(N.scheme=B[1]||void 0,N.userinfo=I.indexOf("@")!==-1?B[3]:void 0,N.host=I.indexOf("//")!==-1?B[4]:void 0,N.port=parseInt(B[5],10),N.path=B[6]||"",N.query=I.indexOf("?")!==-1?B[7]:void 0,N.fragment=I.indexOf("#")!==-1?B[8]:void 0,isNaN(N.port)&&(N.port=I.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?B[4]:void 0)),N.host&&(N.host=ee(X(N.host,M),M)),N.scheme===void 0&&N.userinfo===void 0&&N.host===void 0&&N.port===void 0&&!N.path&&N.query===void 0?N.reference="same-document":N.scheme===void 0?N.reference="relative":N.fragment===void 0?N.reference="absolute":N.reference="uri",A.reference&&A.reference!=="suffix"&&A.reference!==N.reference&&(N.error=N.error||"URI is not a "+A.reference+" reference.");var oe=De[(A.scheme||N.scheme||"").toLowerCase()];if(!A.unicodeSupport&&(!oe||!oe.unicodeSupport)){if(N.host&&(A.domainHost||oe&&oe.domainHost))try{N.host=Jt.toASCII(N.host.replace(M.PCT_ENCODED,rt).toLowerCase())}catch(_e){N.error=N.error||"Host's domain name can not be converted to ASCII via punycode: "+_e}Fe(N,l)}else Fe(N,M);oe&&oe.parse&&oe.parse(N,A)}else N.error=N.error||"URI can not be parsed.";return N}function Qe(I,A){var N=A.iri!==!1?c:l,M=[];return I.userinfo!==void 0&&(M.push(I.userinfo),M.push("@")),I.host!==void 0&&M.push(ee(X(String(I.host),N),N).replace(N.IPV6ADDRESS,function(B,oe,_e){return"["+oe+(_e?"%25"+_e:"")+"]"})),(typeof I.port=="number"||typeof I.port=="string")&&(M.push(":"),M.push(String(I.port))),M.length?M.join(""):void 0}var wt=/^\.\.?\//,Ze=/^\/\.(\/|$)/,rr=/^\/\.\.(\/|$)/,fy=/^\/?(?:.|\n)*?(?=\/|$)/;function _t(I){for(var A=[];I.length;)if(I.match(wt))I=I.replace(wt,"");else if(I.match(Ze))I=I.replace(Ze,"/");else if(I.match(rr))I=I.replace(rr,"/"),A.pop();else if(I==="."||I==="..")I="";else{var N=I.match(fy);if(N){var M=N[0];I=I.slice(M.length),A.push(M)}else throw new Error("Unexpected dot segment condition")}return A.join("")}function Nt(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=A.iri?c:l,M=[],B=De[(A.scheme||I.scheme||"").toLowerCase()];if(B&&B.serialize&&B.serialize(I,A),I.host&&!N.IPV6ADDRESS.test(I.host)){if(A.domainHost||B&&B.domainHost)try{I.host=A.iri?Jt.toUnicode(I.host):Jt.toASCII(I.host.replace(N.PCT_ENCODED,rt).toLowerCase())}catch(Te){I.error=I.error||"Host's domain name can not be converted to "+(A.iri?"Unicode":"ASCII")+" via punycode: "+Te}}Fe(I,N),A.reference!=="suffix"&&I.scheme&&(M.push(I.scheme),M.push(":"));var oe=Qe(I,A);if(oe!==void 0&&(A.reference!=="suffix"&&M.push("//"),M.push(oe),I.path&&I.path.charAt(0)!=="/"&&M.push("/")),I.path!==void 0){var _e=I.path;!A.absolutePath&&(!B||!B.absolutePath)&&(_e=_t(_e)),oe===void 0&&(_e=_e.replace(/^\/\//,"/%2F")),M.push(_e)}return I.query!==void 0&&(M.push("?"),M.push(I.query)),I.fragment!==void 0&&(M.push("#"),M.push(I.fragment)),M.join("")}function Ed(I,A){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments[3],B={};return M||(I=ue(Nt(I,N),N),A=ue(Nt(A,N),N)),N=N||{},!N.tolerant&&A.scheme?(B.scheme=A.scheme,B.userinfo=A.userinfo,B.host=A.host,B.port=A.port,B.path=_t(A.path||""),B.query=A.query):(A.userinfo!==void 0||A.host!==void 0||A.port!==void 0?(B.userinfo=A.userinfo,B.host=A.host,B.port=A.port,B.path=_t(A.path||""),B.query=A.query):(A.path?(A.path.charAt(0)==="/"?B.path=_t(A.path):((I.userinfo!==void 0||I.host!==void 0||I.port!==void 0)&&!I.path?B.path="/"+A.path:I.path?B.path=I.path.slice(0,I.path.lastIndexOf("/")+1)+A.path:B.path=A.path,B.path=_t(B.path)),B.query=A.query):(B.path=I.path,A.query!==void 0?B.query=A.query:B.query=I.query),B.userinfo=I.userinfo,B.host=I.host,B.port=I.port),B.scheme=I.scheme),B.fragment=A.fragment,B}function an(I,A,N){var M=o({scheme:"null"},N);return Nt(Ed(ue(I,M),ue(A,M),M,!0),M)}function Mn(I,A){return typeof I=="string"?I=Nt(ue(I,A),A):n(I)==="object"&&(I=ue(Nt(I,A),A)),I}function xo(I,A,N){return typeof I=="string"?I=Nt(ue(I,N),N):n(I)==="object"&&(I=Nt(I,N)),typeof A=="string"?A=Nt(ue(A,N),N):n(A)==="object"&&(A=Nt(A,N)),I===A}function di(I,A){return I&&I.toString().replace(!A||!A.iri?l.ESCAPE:c.ESCAPE,be)}function ln(I,A){return I&&I.toString().replace(!A||!A.iri?l.PCT_ENCODED:c.PCT_ENCODED,rt)}var So={scheme:"http",domainHost:!0,parse:function(A,N){return A.host||(A.error=A.error||"HTTP URIs must have a host."),A},serialize:function(A,N){var M=String(A.scheme).toLowerCase()==="https";return(A.port===(M?443:80)||A.port==="")&&(A.port=void 0),A.path||(A.path="/"),A}},nr={scheme:"https",domainHost:So.domainHost,parse:So.parse,serialize:So.serialize};function Fa(I){return typeof I.secure=="boolean"?I.secure:String(I.scheme).toLowerCase()==="wss"}var hi={scheme:"ws",domainHost:!0,parse:function(A,N){var M=A;return M.secure=Fa(M),M.resourceName=(M.path||"/")+(M.query?"?"+M.query:""),M.path=void 0,M.query=void 0,M},serialize:function(A,N){if((A.port===(Fa(A)?443:80)||A.port==="")&&(A.port=void 0),typeof A.secure=="boolean"&&(A.scheme=A.secure?"wss":"ws",A.secure=void 0),A.resourceName){var M=A.resourceName.split("?"),B=u(M,2),oe=B[0],_e=B[1];A.path=oe&&oe!=="/"?oe:void 0,A.query=_e,A.resourceName=void 0}return A.fragment=void 0,A}},et={scheme:"wss",domainHost:hi.domainHost,parse:hi.parse,serialize:hi.serialize},Pr={},xd=!0,Ar="[A-Za-z0-9\\-\\.\\_\\~"+(xd?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",jt="[0-9A-Fa-f]",dy=r(r("%[EFef]"+jt+"%"+jt+jt+"%"+jt+jt)+"|"+r("%[89A-Fa-f]"+jt+"%"+jt+jt)+"|"+r("%"+jt+jt)),kt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Bi="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",hy=t(Bi,'[\\"\\\\]'),cn="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",kr=new RegExp(Ar,"g"),Bn=new RegExp(dy,"g"),pi=new RegExp(t("[^]",kt,"[\\.]",'[\\"]',hy),"g"),mi=new RegExp(t("[^]",Ar,cn),"g"),Ma=mi;function En(I){var A=rt(I);return A.match(kr)?A:I}var Sd={scheme:"mailto",parse:function(A,N){var M=A,B=M.to=M.path?M.path.split(","):[];if(M.path=void 0,M.query){for(var oe=!1,_e={},Te=M.query.split("&"),ze=0,Ot=Te.length;ze<Ot;++ze){var Ne=Te[ze].split("=");switch(Ne[0]){case"to":for(var pt=Ne[1].split(","),Ct=0,ft=pt.length;Ct<ft;++Ct)B.push(pt[Ct]);break;case"subject":M.subject=ln(Ne[1],N);break;case"body":M.body=ln(Ne[1],N);break;default:oe=!0,_e[ln(Ne[0],N)]=ln(Ne[1],N);break}}oe&&(M.headers=_e)}M.query=void 0;for(var xe=0,mt=B.length;xe<mt;++xe){var Ke=B[xe].split("@");if(Ke[0]=ln(Ke[0]),N.unicodeSupport)Ke[1]=ln(Ke[1],N).toLowerCase();else try{Ke[1]=Jt.toASCII(ln(Ke[1],N).toLowerCase())}catch(zi){M.error=M.error||"Email address's domain name can not be converted to ASCII via punycode: "+zi}B[xe]=Ke.join("@")}return M},serialize:function(A,N){var M=A,B=s(A.to);if(B){for(var oe=0,_e=B.length;oe<_e;++oe){var Te=String(B[oe]),ze=Te.lastIndexOf("@"),Ot=Te.slice(0,ze).replace(Bn,En).replace(Bn,i).replace(pi,be),Ne=Te.slice(ze+1);try{Ne=N.iri?Jt.toUnicode(Ne):Jt.toASCII(ln(Ne,N).toLowerCase())}catch(xe){M.error=M.error||"Email address's domain name can not be converted to "+(N.iri?"Unicode":"ASCII")+" via punycode: "+xe}B[oe]=Ot+"@"+Ne}M.path=B.join(",")}var pt=A.headers=A.headers||{};A.subject&&(pt.subject=A.subject),A.body&&(pt.body=A.body);var Ct=[];for(var ft in pt)pt[ft]!==Pr[ft]&&Ct.push(ft.replace(Bn,En).replace(Bn,i).replace(mi,be)+"="+pt[ft].replace(Bn,En).replace(Bn,i).replace(Ma,be));return Ct.length&&(M.query=Ct.join("&")),M}},py=/^([^\:]+)\:(.*)/,Rd={scheme:"urn",parse:function(A,N){var M=A.path&&A.path.match(py),B=A;if(M){var oe=N.scheme||B.scheme||"urn",_e=M[1].toLowerCase(),Te=M[2],ze=oe+":"+(N.nid||_e),Ot=De[ze];B.nid=_e,B.nss=Te,B.path=void 0,Ot&&(B=Ot.parse(B,N))}else B.error=B.error||"URN can not be parsed.";return B},serialize:function(A,N){var M=N.scheme||A.scheme||"urn",B=A.nid,oe=M+":"+(N.nid||B),_e=De[oe];_e&&(A=_e.serialize(A,N));var Te=A,ze=A.nss;return Te.path=(B||N.nid)+":"+ze,Te}},my=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Td={scheme:"urn:uuid",parse:function(A,N){var M=A;return M.uuid=M.nss,M.nss=void 0,!N.tolerant&&(!M.uuid||!M.uuid.match(my))&&(M.error=M.error||"UUID is not valid."),M},serialize:function(A,N){var M=A;return M.nss=(A.uuid||"").toLowerCase(),M}};De[So.scheme]=So,De[nr.scheme]=nr,De[hi.scheme]=hi,De[et.scheme]=et,De[Sd.scheme]=Sd,De[Rd.scheme]=Rd,De[Td.scheme]=Td,e.SCHEMES=De,e.pctEncChar=be,e.pctDecChars=rt,e.parse=ue,e.removeDotSegments=_t,e.serialize=Nt,e.resolveComponents=Ed,e.resolve=an,e.normalize=Mn,e.equal=xo,e.escapeComponent=di,e.unescapeComponent=ln,Object.defineProperty(e,"__esModule",{value:!0})})});var JI=w(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});var KI=WI();KI.code='require("ajv/dist/runtime/uri").default';Iv.default=KI});var jv=w(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.CodeGen=yr.Name=yr.nil=yr.stringify=yr.str=yr._=yr.KeywordCxt=void 0;var _te=gl();Object.defineProperty(yr,"KeywordCxt",{enumerable:!0,get:function(){return _te.KeywordCxt}});var bl=ge();Object.defineProperty(yr,"_",{enumerable:!0,get:function(){return bl._}});Object.defineProperty(yr,"str",{enumerable:!0,get:function(){return bl.str}});Object.defineProperty(yr,"stringify",{enumerable:!0,get:function(){return bl.stringify}});Object.defineProperty(yr,"nil",{enumerable:!0,get:function(){return bl.nil}});Object.defineProperty(yr,"Name",{enumerable:!0,get:function(){return bl.Name}});Object.defineProperty(yr,"CodeGen",{enumerable:!0,get:function(){return bl.CodeGen}});var Ete=bu(),e2=Ds(),xte=hv(),vu=Jo(),Ste=ge(),wu=mu(),Qh=pu(),Nv=Re(),YI=VI(),Rte=JI(),t2=(e,t)=>new RegExp(e,t);t2.code="new RegExp";var Tte=["removeAdditional","useDefaults","coerceTypes"],Pte=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Ate={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},kte={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},XI=200;function Ote(e){var t,r,n,i,s,o,a,l,c,u,d,h,f,p,m,v,y,E,b,g,P,O,R,C,q;let F=e.strict,D=(t=e.code)===null||t===void 0?void 0:t.optimize,H=D===!0||D===void 0?1:D||0,G=(n=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:t2,he=(i=e.uriResolver)!==null&&i!==void 0?i:Rte.default;return{strictSchema:(o=(s=e.strictSchema)!==null&&s!==void 0?s:F)!==null&&o!==void 0?o:!0,strictNumbers:(l=(a=e.strictNumbers)!==null&&a!==void 0?a:F)!==null&&l!==void 0?l:!0,strictTypes:(u=(c=e.strictTypes)!==null&&c!==void 0?c:F)!==null&&u!==void 0?u:"log",strictTuples:(h=(d=e.strictTuples)!==null&&d!==void 0?d:F)!==null&&h!==void 0?h:"log",strictRequired:(p=(f=e.strictRequired)!==null&&f!==void 0?f:F)!==null&&p!==void 0?p:!1,code:e.code?{...e.code,optimize:H,regExp:G}:{optimize:H,regExp:G},loopRequired:(m=e.loopRequired)!==null&&m!==void 0?m:XI,loopEnum:(v=e.loopEnum)!==null&&v!==void 0?v:XI,meta:(y=e.meta)!==null&&y!==void 0?y:!0,messages:(E=e.messages)!==null&&E!==void 0?E:!0,inlineRefs:(b=e.inlineRefs)!==null&&b!==void 0?b:!0,schemaId:(g=e.schemaId)!==null&&g!==void 0?g:"$id",addUsedSchema:(P=e.addUsedSchema)!==null&&P!==void 0?P:!0,validateSchema:(O=e.validateSchema)!==null&&O!==void 0?O:!0,validateFormats:(R=e.validateFormats)!==null&&R!==void 0?R:!0,unicodeRegExp:(C=e.unicodeRegExp)!==null&&C!==void 0?C:!0,int32range:(q=e.int32range)!==null&&q!==void 0?q:!0,uriResolver:he}}var _u=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...Ote(t)};let{es5:r,lines:n}=this.opts.code;this.scope=new Ste.ValueScope({scope:{},prefixes:Pte,es5:r,lines:n}),this.logger=qte(t.logger);let i=t.validateFormats;t.validateFormats=!1,this.RULES=(0,xte.getRules)(),QI.call(this,Ate,t,"NOT SUPPORTED"),QI.call(this,kte,t,"DEPRECATED","warn"),this._metaOpts=Nte.call(this),t.formats&&Ite.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&$te.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),Cte.call(this),t.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:n}=this.opts,i=YI;n==="id"&&(i={...YI},i.id=i.$id,delete i.$id),r&&t&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error(`no schema with key or ref "${t}"`)}else n=this.compile(t);let i=n(r);return"$async"in n||(this.errors=n.errors),i}compile(t,r){let n=this._addSchema(t,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return i.call(this,t,r);async function i(u,d){await s.call(this,u.$schema);let h=this._addSchema(u,d);return h.validate||o.call(this,h)}async function s(u){u&&!this.getSchema(u)&&await i.call(this,{$ref:u},!0)}async function o(u){try{return this._compileSchemaEnv(u)}catch(d){if(!(d instanceof e2.default))throw d;return a.call(this,d),await l.call(this,d.missingSchema),o.call(this,u)}}function a({missingSchema:u,missingRef:d}){if(this.refs[u])throw new Error(`AnySchema ${u} is loaded but ${d} cannot be resolved`)}async function l(u){let d=await c.call(this,u);this.refs[u]||await s.call(this,d.$schema),this.refs[u]||this.addSchema(d,u,r)}async function c(u){let d=this._loading[u];if(d)return d;try{return await(this._loading[u]=n(u))}finally{delete this._loading[u]}}}addSchema(t,r,n,i=this.opts.validateSchema){if(Array.isArray(t)){for(let o of t)this.addSchema(o,void 0,n,i);return this}let s;if(typeof t=="object"){let{schemaId:o}=this.opts;if(s=t[o],s!==void 0&&typeof s!="string")throw new Error(`schema ${o} must be string`)}return r=(0,wu.normalizeId)(r||s),this._checkUnique(r),this.schemas[r]=this._addSchema(t,n,r,i,!0),this}addMetaSchema(t,r,n=this.opts.validateSchema){return this.addSchema(t,r,!0,n),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let n;if(n=t.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let i=this.validate(n,t);if(!i&&r){let s="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(s);else throw new Error(s)}return i}getSchema(t){let r;for(;typeof(r=ZI.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:n}=this.opts,i=new vu.SchemaEnv({schema:{},schemaId:n});if(r=vu.resolveSchema.call(this,i,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=ZI.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let n=t[this.opts.schemaId];return n&&(n=(0,wu.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let n;if(typeof t=="string")n=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof t=="object"&&r===void 0){if(r=t,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Lte.call(this,n,r),!r)return(0,Nv.eachItem)(n,s=>$v.call(this,s)),this;Mte.call(this,r);let i={...r,type:(0,Qh.getJSONTypes)(r.type),schemaType:(0,Qh.getJSONTypes)(r.schemaType)};return(0,Nv.eachItem)(n,i.type.length===0?s=>$v.call(this,s,i):s=>i.type.forEach(o=>$v.call(this,s,i,o))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let n of r.rules){let i=n.rules.findIndex(s=>s.keyword===t);i>=0&&n.rules.splice(i,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!t||t.length===0?"No errors":t.map(i=>`${n}${i.instancePath} ${i.message}`).reduce((i,s)=>i+r+s)}$dataMetaSchema(t,r){let n=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let i of r){let s=i.split("/").slice(1),o=t;for(let a of s)o=o[a];for(let a in n){let l=n[a];if(typeof l!="object")continue;let{$data:c}=l.definition,u=o[a];c&&u&&(o[a]=r2(u))}}return t}_removeAllSchemas(t,r){for(let n in t){let i=t[n];(!r||r.test(n))&&(typeof i=="string"?delete t[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete t[n]))}}_addSchema(t,r,n,i=this.opts.validateSchema,s=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof t=="object")o=t[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(t);if(l!==void 0)return l;n=(0,wu.normalizeId)(o||n);let c=wu.getSchemaRefs.call(this,t,n);return l=new vu.SchemaEnv({schema:t,schemaId:a,meta:r,baseId:n,localRefs:c}),this._cache.set(l.schema,l),s&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=l),i&&this.validateSchema(t,!0),l}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):vu.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{vu.compileSchema.call(this,t)}finally{this.opts=r}}};yr.default=_u;_u.ValidationError=Ete.default;_u.MissingRefError=e2.default;function QI(e,t,r,n="error"){for(let i in e){let s=i;s in t&&this.logger[n](`${r}: option ${i}. ${e[s]}`)}}function ZI(e){return e=(0,wu.normalizeId)(e),this.schemas[e]||this.refs[e]}function Cte(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function Ite(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function $te(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function Nte(){let e={...this.opts};for(let t of Tte)delete e[t];return e}var jte={log(){},warn(){},error(){}};function qte(e){if(e===!1)return jte;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var Dte=/^[a-z_$][a-z0-9_$:-]*$/i;function Lte(e,t){let{RULES:r}=this;if((0,Nv.eachItem)(e,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!Dte.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function $v(e,t,r){var n;let i=t?.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:s}=this,o=i?s.post:s.rules.find(({type:l})=>l===r);if(o||(o={type:r,rules:[]},s.rules.push(o)),s.keywords[e]=!0,!t)return;let a={keyword:e,definition:{...t,type:(0,Qh.getJSONTypes)(t.type),schemaType:(0,Qh.getJSONTypes)(t.schemaType)}};t.before?Fte.call(this,o,a,t.before):o.rules.push(a),s.all[e]=a,(n=t.implements)===null||n===void 0||n.forEach(l=>this.addKeyword(l))}function Fte(e,t,r){let n=e.rules.findIndex(i=>i.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function Mte(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=r2(t)),e.validateSchema=this.compile(t,!0))}var Bte={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function r2(e){return{anyOf:[e,Bte]}}});var n2=w(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});var zte={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};qv.default=zte});var Dv=w(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.callRef=Yo.getValidate=void 0;var Hte=Ds(),i2=gr(),tn=ge(),vl=$n(),s2=Jo(),Zh=Re(),Ute={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:l}=n,{root:c}=s;if((r==="#"||r==="#/")&&i===c.baseId)return d();let u=s2.resolveRef.call(l,c,i,r);if(u===void 0)throw new Hte.default(n.opts.uriResolver,i,r);if(u instanceof s2.SchemaEnv)return h(u);return f(u);function d(){if(s===c)return ep(e,o,s,s.$async);let p=t.scopeValue("root",{ref:c});return ep(e,(0,tn._)`${p}.validate`,c,c.$async)}function h(p){let m=o2(e,p);ep(e,m,p,p.$async)}function f(p){let m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,tn.stringify)(p)}:{ref:p}),v=t.name("valid"),y=e.subschema({schema:p,dataTypes:[],schemaPath:tn.nil,topSchemaRef:m,errSchemaPath:r},v);e.mergeEvaluated(y),e.ok(v)}}};function o2(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,tn._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Yo.getValidate=o2;function ep(e,t,r,n){let{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,c=l.passContext?vl.default.this:tn.nil;n?u():d();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");let p=i.let("valid");i.try(()=>{i.code((0,tn._)`await ${(0,i2.callValidateCode)(e,t,c)}`),f(t),o||i.assign(p,!0)},m=>{i.if((0,tn._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),h(m),o||i.assign(p,!1)}),e.ok(p)}function d(){e.result((0,i2.callValidateCode)(e,t,c),()=>f(t),()=>h(t))}function h(p){let m=(0,tn._)`${p}.errors`;i.assign(vl.default.vErrors,(0,tn._)`${vl.default.vErrors} === null ? ${m} : ${vl.default.vErrors}.concat(${m})`),i.assign(vl.default.errors,(0,tn._)`${vl.default.vErrors}.length`)}function f(p){var m;if(!s.opts.unevaluated)return;let v=(m=r?.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Zh.mergeEvaluated.props(i,v.props,s.props));else{let y=i.var("props",(0,tn._)`${p}.evaluated.props`);s.props=Zh.mergeEvaluated.props(i,y,s.props,tn.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Zh.mergeEvaluated.items(i,v.items,s.items));else{let y=i.var("items",(0,tn._)`${p}.evaluated.items`);s.items=Zh.mergeEvaluated.items(i,y,s.items,tn.Name)}}}Yo.callRef=ep;Yo.default=Ute});var a2=w(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});var Vte=n2(),Gte=Dv(),Wte=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Vte.default,Gte.default];Lv.default=Wte});var l2=w(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});var tp=ge(),Ls=tp.operators,rp={maximum:{okStr:"<=",ok:Ls.LTE,fail:Ls.GT},minimum:{okStr:">=",ok:Ls.GTE,fail:Ls.LT},exclusiveMaximum:{okStr:"<",ok:Ls.LT,fail:Ls.GTE},exclusiveMinimum:{okStr:">",ok:Ls.GT,fail:Ls.LTE}},Kte={message:({keyword:e,schemaCode:t})=>(0,tp.str)`must be ${rp[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,tp._)`{comparison: ${rp[e].okStr}, limit: ${t}}`},Jte={keyword:Object.keys(rp),type:"number",schemaType:"number",$data:!0,error:Kte,code(e){let{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,tp._)`${r} ${rp[t].fail} ${n} || isNaN(${r})`)}};Fv.default=Jte});var c2=w(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});var Eu=ge(),Yte={message:({schemaCode:e})=>(0,Eu.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Eu._)`{multipleOf: ${e}}`},Xte={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Yte,code(e){let{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Eu._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Eu._)`${o} !== parseInt(${o})`;e.fail$data((0,Eu._)`(${n} === 0 || (${o} = ${r}/${n}, ${a}))`)}};Mv.default=Xte});var f2=w(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});function u2(e){let t=e.length,r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Bv.default=u2;u2.code='require("ajv/dist/runtime/ucs2length").default'});var d2=w(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});var Xo=ge(),Qte=Re(),Zte=f2(),ere={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,Xo.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Xo._)`{limit: ${e}}`},tre={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:ere,code(e){let{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?Xo.operators.GT:Xo.operators.LT,o=i.opts.unicode===!1?(0,Xo._)`${r}.length`:(0,Xo._)`${(0,Qte.useFunc)(e.gen,Zte.default)}(${r})`;e.fail$data((0,Xo._)`${o} ${s} ${n}`)}};zv.default=tre});var h2=w(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});var rre=gr(),np=ge(),nre={message:({schemaCode:e})=>(0,np.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,np._)`{pattern: ${e}}`},ire={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:nre,code(e){let{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=r?(0,np._)`(new RegExp(${i}, ${o}))`:(0,rre.usePattern)(e,n);e.fail$data((0,np._)`!${a}.test(${t})`)}};Hv.default=ire});var p2=w(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});var xu=ge(),sre={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,xu.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,xu._)`{limit: ${e}}`},ore={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:sre,code(e){let{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?xu.operators.GT:xu.operators.LT;e.fail$data((0,xu._)`Object.keys(${r}).length ${i} ${n}`)}};Uv.default=ore});var m2=w(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});var Su=gr(),Ru=ge(),are=Re(),lre={message:({params:{missingProperty:e}})=>(0,Ru.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ru._)`{missingProperty: ${e}}`},cre={keyword:"required",type:"object",schemaType:"array",$data:!0,error:lre,code(e){let{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&r.length===0)return;let l=r.length>=a.loopRequired;if(o.allErrors?c():u(),a.strictRequired){let f=e.parentSchema.properties,{definedProperties:p}=e.it;for(let m of r)if(f?.[m]===void 0&&!p.has(m)){let v=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${m}" is not defined at "${v}" (strictRequired)`;(0,are.checkStrictMode)(o,y,o.opts.strictRequired)}}function c(){if(l||s)e.block$data(Ru.nil,d);else for(let f of r)(0,Su.checkReportMissingProp)(e,f)}function u(){let f=t.let("missing");if(l||s){let p=t.let("valid",!0);e.block$data(p,()=>h(f,p)),e.ok(p)}else t.if((0,Su.checkMissingProp)(e,r,f)),(0,Su.reportMissingProp)(e,f),t.else()}function d(){t.forOf("prop",n,f=>{e.setParams({missingProperty:f}),t.if((0,Su.noPropertyInData)(t,i,f,a.ownProperties),()=>e.error())})}function h(f,p){e.setParams({missingProperty:f}),t.forOf(f,n,()=>{t.assign(p,(0,Su.propertyInData)(t,i,f,a.ownProperties)),t.if((0,Ru.not)(p),()=>{e.error(),t.break()})},Ru.nil)}}};Vv.default=cre});var g2=w(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});var Tu=ge(),ure={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,Tu.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Tu._)`{limit: ${e}}`},fre={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ure,code(e){let{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Tu.operators.GT:Tu.operators.LT;e.fail$data((0,Tu._)`${r}.length ${i} ${n}`)}};Gv.default=fre});var y2=w(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});var Wv=pu(),br=ge(),dre=Re(),hre=iu(),pre={message:({params:{i:e,j:t}})=>(0,br.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,br._)`{i: ${e}, j: ${t}}`},mre={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:pre,code(e){let{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!n&&!i)return;let l=t.let("valid"),c=s.items?(0,Wv.getSchemaTypes)(s.items):[];e.block$data(l,u,(0,br._)`${o} === false`),e.ok(l);function u(){let p=t.let("i",(0,br._)`${r}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(l,!0),t.if((0,br._)`${p} > 1`,()=>(d()?h:f)(p,m))}function d(){return c.length>0&&!c.some(p=>p==="object"||p==="array")}function h(p,m){let v=t.name("item"),y=(0,Wv.checkDataTypes)(c,v,a.opts.strictNumbers,Wv.DataType.Wrong),E=t.const("indices",(0,br._)`{}`);t.for((0,br._)`;${p}--;`,()=>{t.let(v,(0,br._)`${r}[${p}]`),t.if(y,(0,br._)`continue`),c.length>1&&t.if((0,br._)`typeof ${v} == "string"`,(0,br._)`${v} += "_"`),t.if((0,br._)`typeof ${E}[${v}] == "number"`,()=>{t.assign(m,(0,br._)`${E}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,br._)`${E}[${v}] = ${p}`)})}function f(p,m){let v=(0,dre.useFunc)(t,hre.default),y=t.name("outer");t.label(y).for((0,br._)`;${p}--;`,()=>t.for((0,br._)`${m} = ${p}; ${m}--;`,()=>t.if((0,br._)`${v}(${r}[${p}], ${r}[${m}])`,()=>{e.error(),t.assign(l,!1).break(y)})))}}};Kv.default=mre});var b2=w(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});var Jv=ge(),gre=Re(),yre=iu(),bre={message:"must be equal to constant",params:({schemaCode:e})=>(0,Jv._)`{allowedValue: ${e}}`},vre={keyword:"const",$data:!0,error:bre,code(e){let{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Jv._)`!${(0,gre.useFunc)(t,yre.default)}(${r}, ${i})`):e.fail((0,Jv._)`${s} !== ${r}`)}};Yv.default=vre});var v2=w(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});var Pu=ge(),wre=Re(),_re=iu(),Ere={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Pu._)`{allowedValues: ${e}}`},xre={keyword:"enum",schemaType:"array",$data:!0,error:Ere,code(e){let{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");let a=i.length>=o.opts.loopEnum,l,c=()=>l??(l=(0,wre.useFunc)(t,_re.default)),u;if(a||n)u=t.let("valid"),e.block$data(u,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");let f=t.const("vSchema",s);u=(0,Pu.or)(...i.map((p,m)=>h(f,m)))}e.pass(u);function d(){t.assign(u,!1),t.forOf("v",s,f=>t.if((0,Pu._)`${c()}(${r}, ${f})`,()=>t.assign(u,!0).break()))}function h(f,p){let m=i[p];return typeof m=="object"&&m!==null?(0,Pu._)`${c()}(${r}, ${f}[${p}])`:(0,Pu._)`${r} === ${m}`}}};Xv.default=xre});var w2=w(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});var Sre=l2(),Rre=c2(),Tre=d2(),Pre=h2(),Are=p2(),kre=m2(),Ore=g2(),Cre=y2(),Ire=b2(),$re=v2(),Nre=[Sre.default,Rre.default,Tre.default,Pre.default,Are.default,kre.default,Ore.default,Cre.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Ire.default,$re.default];Qv.default=Nre});var ew=w(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.validateAdditionalItems=void 0;var Qo=ge(),Zv=Re(),jre={message:({params:{len:e}})=>(0,Qo.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Qo._)`{limit: ${e}}`},qre={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:jre,code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Zv.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}_2(e,n)}};function _2(e,t){let{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;let a=r.const("len",(0,Qo._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Qo._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,Zv.alwaysValidSchema)(o,n)){let c=r.var("valid",(0,Qo._)`${a} <= ${t.length}`);r.if((0,Qo.not)(c),()=>l(c)),e.ok(c)}function l(c){r.forRange("i",t.length,a,u=>{e.subschema({keyword:s,dataProp:u,dataPropType:Zv.Type.Num},c),o.allErrors||r.if((0,Qo.not)(c),()=>r.break())})}}Au.validateAdditionalItems=_2;Au.default=qre});var tw=w(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.validateTuple=void 0;var E2=ge(),ip=Re(),Dre=gr(),Lre={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return x2(e,"additionalItems",t);r.items=!0,!(0,ip.alwaysValidSchema)(r,t)&&e.ok((0,Dre.validateArray)(e))}};function x2(e,t,r=e.schema){let{gen:n,parentSchema:i,data:s,keyword:o,it:a}=e;u(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=ip.mergeEvaluated.items(n,r.length,a.items));let l=n.name("valid"),c=n.const("len",(0,E2._)`${s}.length`);r.forEach((d,h)=>{(0,ip.alwaysValidSchema)(a,d)||(n.if((0,E2._)`${c} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function u(d){let{opts:h,errSchemaPath:f}=a,p=r.length,m=p===d.minItems&&(p===d.maxItems||d[t]===!1);if(h.strictTuples&&!m){let v=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${f}"`;(0,ip.checkStrictMode)(a,v,h.strictTuples)}}}ku.validateTuple=x2;ku.default=Lre});var S2=w(rw=>{"use strict";Object.defineProperty(rw,"__esModule",{value:!0});var Fre=tw(),Mre={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Fre.validateTuple)(e,"items")};rw.default=Mre});var T2=w(nw=>{"use strict";Object.defineProperty(nw,"__esModule",{value:!0});var R2=ge(),Bre=Re(),zre=gr(),Hre=ew(),Ure={message:({params:{len:e}})=>(0,R2.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,R2._)`{limit: ${e}}`},Vre={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ure,code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,Bre.alwaysValidSchema)(n,t)&&(i?(0,Hre.validateAdditionalItems)(e,i):e.ok((0,zre.validateArray)(e)))}};nw.default=Vre});var P2=w(iw=>{"use strict";Object.defineProperty(iw,"__esModule",{value:!0});var jn=ge(),sp=Re(),Gre={message:({params:{min:e,max:t}})=>t===void 0?(0,jn.str)`must contain at least ${e} valid item(s)`:(0,jn.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,jn._)`{minContains: ${e}}`:(0,jn._)`{minContains: ${e}, maxContains: ${t}}`},Wre={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Gre,code(e){let{gen:t,schema:r,parentSchema:n,data:i,it:s}=e,o,a,{minContains:l,maxContains:c}=n;s.opts.next?(o=l===void 0?1:l,a=c):o=1;let u=t.const("len",(0,jn._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,sp.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,sp.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,sp.alwaysValidSchema)(s,r)){let m=(0,jn._)`${u} >= ${o}`;a!==void 0&&(m=(0,jn._)`${m} && ${u} <= ${a}`),e.pass(m);return}s.items=!0;let d=t.name("valid");a===void 0&&o===1?f(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),a!==void 0&&t.if((0,jn._)`${i}.length > 0`,h)):(t.let(d,!1),h()),e.result(d,()=>e.reset());function h(){let m=t.name("_valid"),v=t.let("count",0);f(m,()=>t.if(m,()=>p(v)))}function f(m,v){t.forRange("i",0,u,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:sp.Type.Num,compositeRule:!0},m),v()})}function p(m){t.code((0,jn._)`${m}++`),a===void 0?t.if((0,jn._)`${m} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,jn._)`${m} > ${a}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,jn._)`${m} >= ${o}`,()=>t.assign(d,!0)))}}};iw.default=Wre});var O2=w(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.validateSchemaDeps=Ei.validatePropertyDeps=Ei.error=void 0;var sw=ge(),Kre=Re(),Ou=gr();Ei.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let n=t===1?"property":"properties";return(0,sw.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,sw._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};var Jre={keyword:"dependencies",type:"object",schemaType:"object",error:Ei.error,code(e){let[t,r]=Yre(e);A2(e,t),k2(e,r)}};function Yre({schema:e}){let t={},r={};for(let n in e){if(n==="__proto__")continue;let i=Array.isArray(e[n])?t:r;i[n]=e[n]}return[t,r]}function A2(e,t=e.schema){let{gen:r,data:n,it:i}=e;if(Object.keys(t).length===0)return;let s=r.let("missing");for(let o in t){let a=t[o];if(a.length===0)continue;let l=(0,Ou.propertyInData)(r,n,o,i.opts.ownProperties);e.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),i.allErrors?r.if(l,()=>{for(let c of a)(0,Ou.checkReportMissingProp)(e,c)}):(r.if((0,sw._)`${l} && (${(0,Ou.checkMissingProp)(e,a,s)})`),(0,Ou.reportMissingProp)(e,s),r.else())}}Ei.validatePropertyDeps=A2;function k2(e,t=e.schema){let{gen:r,data:n,keyword:i,it:s}=e,o=r.name("valid");for(let a in t)(0,Kre.alwaysValidSchema)(s,t[a])||(r.if((0,Ou.propertyInData)(r,n,a,s.opts.ownProperties),()=>{let l=e.subschema({keyword:i,schemaProp:a},o);e.mergeValidEvaluated(l,o)},()=>r.var(o,!0)),e.ok(o))}Ei.validateSchemaDeps=k2;Ei.default=Jre});var I2=w(ow=>{"use strict";Object.defineProperty(ow,"__esModule",{value:!0});var C2=ge(),Xre=Re(),Qre={message:"property name must be valid",params:({params:e})=>(0,C2._)`{propertyName: ${e.propertyName}}`},Zre={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Qre,code(e){let{gen:t,schema:r,data:n,it:i}=e;if((0,Xre.alwaysValidSchema)(i,r))return;let s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,C2.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};ow.default=Zre});var lw=w(aw=>{"use strict";Object.defineProperty(aw,"__esModule",{value:!0});var op=gr(),Qn=ge(),ene=$n(),ap=Re(),tne={message:"must NOT have additional properties",params:({params:e})=>(0,Qn._)`{additionalProperty: ${e.additionalProperty}}`},rne={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:tne,code(e){let{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");let{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,ap.alwaysValidSchema)(o,r))return;let c=(0,op.allSchemaProperties)(n.properties),u=(0,op.allSchemaProperties)(n.patternProperties);d(),e.ok((0,Qn._)`${s} === ${ene.default.errors}`);function d(){t.forIn("key",i,v=>{!c.length&&!u.length?p(v):t.if(h(v),()=>p(v))})}function h(v){let y;if(c.length>8){let E=(0,ap.schemaRefOrVal)(o,n.properties,"properties");y=(0,op.isOwnProperty)(t,E,v)}else c.length?y=(0,Qn.or)(...c.map(E=>(0,Qn._)`${v} === ${E}`)):y=Qn.nil;return u.length&&(y=(0,Qn.or)(y,...u.map(E=>(0,Qn._)`${(0,op.usePattern)(e,E)}.test(${v})`))),(0,Qn.not)(y)}function f(v){t.code((0,Qn._)`delete ${i}[${v}]`)}function p(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){f(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,ap.alwaysValidSchema)(o,r)){let y=t.name("valid");l.removeAdditional==="failing"?(m(v,y,!1),t.if((0,Qn.not)(y),()=>{e.reset(),f(v)})):(m(v,y),a||t.if((0,Qn.not)(y),()=>t.break()))}}function m(v,y,E){let b={keyword:"additionalProperties",dataProp:v,dataPropType:ap.Type.Str};E===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,y)}}};aw.default=rne});var j2=w(uw=>{"use strict";Object.defineProperty(uw,"__esModule",{value:!0});var nne=gl(),$2=gr(),cw=Re(),N2=lw(),ine={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&N2.default.code(new nne.KeywordCxt(s,N2.default,"additionalProperties"));let o=(0,$2.allSchemaProperties)(r);for(let d of o)s.definedProperties.add(d);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=cw.mergeEvaluated.props(t,(0,cw.toHash)(o),s.props));let a=o.filter(d=>!(0,cw.alwaysValidSchema)(s,r[d]));if(a.length===0)return;let l=t.name("valid");for(let d of a)c(d)?u(d):(t.if((0,$2.propertyInData)(t,i,d,s.opts.ownProperties)),u(d),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(l);function c(d){return s.opts.useDefaults&&!s.compositeRule&&r[d].default!==void 0}function u(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};uw.default=ine});var F2=w(fw=>{"use strict";Object.defineProperty(fw,"__esModule",{value:!0});var q2=gr(),lp=ge(),D2=Re(),L2=Re(),sne={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,q2.allSchemaProperties)(r),l=a.filter(m=>(0,D2.alwaysValidSchema)(s,r[m]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;let c=o.strictSchema&&!o.allowMatchingProperties&&i.properties,u=t.name("valid");s.props!==!0&&!(s.props instanceof lp.Name)&&(s.props=(0,L2.evaluatedPropsToName)(t,s.props));let{props:d}=s;h();function h(){for(let m of a)c&&f(m),s.allErrors?p(m):(t.var(u,!0),p(m),t.if(u))}function f(m){for(let v in c)new RegExp(m).test(v)&&(0,D2.checkStrictMode)(s,`property ${v} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",n,v=>{t.if((0,lp._)`${(0,q2.usePattern)(e,m)}.test(${v})`,()=>{let y=l.includes(m);y||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:v,dataPropType:L2.Type.Str},u),s.opts.unevaluated&&d!==!0?t.assign((0,lp._)`${d}[${v}]`,!0):!y&&!s.allErrors&&t.if((0,lp.not)(u),()=>t.break())})})}}};fw.default=sne});var M2=w(dw=>{"use strict";Object.defineProperty(dw,"__esModule",{value:!0});var one=Re(),ane={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:n}=e;if((0,one.alwaysValidSchema)(n,r)){e.fail();return}let i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};dw.default=ane});var B2=w(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0});var lne=gr(),cne={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:lne.validateUnion,error:{message:"must match a schema in anyOf"}};hw.default=cne});var z2=w(pw=>{"use strict";Object.defineProperty(pw,"__esModule",{value:!0});var cp=ge(),une=Re(),fne={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,cp._)`{passingSchemas: ${e.passing}}`},dne={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:fne,code(e){let{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;let s=r,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(c),e.result(o,()=>e.reset(),()=>e.error(!0));function c(){s.forEach((u,d)=>{let h;(0,une.alwaysValidSchema)(i,u)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&t.if((0,cp._)`${l} && ${o}`).assign(o,!1).assign(a,(0,cp._)`[${a}, ${d}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,d),h&&e.mergeEvaluated(h,cp.Name)})})}}};pw.default=dne});var H2=w(mw=>{"use strict";Object.defineProperty(mw,"__esModule",{value:!0});var hne=Re(),pne={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let i=t.name("valid");r.forEach((s,o)=>{if((0,hne.alwaysValidSchema)(n,s))return;let a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};mw.default=pne});var G2=w(gw=>{"use strict";Object.defineProperty(gw,"__esModule",{value:!0});var up=ge(),V2=Re(),mne={message:({params:e})=>(0,up.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,up._)`{failingKeyword: ${e.ifClause}}`},gne={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:mne,code(e){let{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,V2.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let i=U2(n,"then"),s=U2(n,"else");if(!i&&!s)return;let o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&s){let u=t.let("ifClause");e.setParams({ifClause:u}),t.if(a,c("then",u),c("else",u))}else i?t.if(a,c("then")):t.if((0,up.not)(a),c("else"));e.pass(o,()=>e.error(!0));function l(){let u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(u)}function c(u,d){return()=>{let h=e.subschema({keyword:u},a);t.assign(o,a),e.mergeValidEvaluated(h,o),d?t.assign(d,(0,up._)`${u}`):e.setParams({ifClause:u})}}}};function U2(e,t){let r=e.schema[t];return r!==void 0&&!(0,V2.alwaysValidSchema)(e,r)}gw.default=gne});var W2=w(yw=>{"use strict";Object.defineProperty(yw,"__esModule",{value:!0});var yne=Re(),bne={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,yne.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};yw.default=bne});var K2=w(bw=>{"use strict";Object.defineProperty(bw,"__esModule",{value:!0});var vne=ew(),wne=S2(),_ne=tw(),Ene=T2(),xne=P2(),Sne=O2(),Rne=I2(),Tne=lw(),Pne=j2(),Ane=F2(),kne=M2(),One=B2(),Cne=z2(),Ine=H2(),$ne=G2(),Nne=W2();function jne(e=!1){let t=[kne.default,One.default,Cne.default,Ine.default,$ne.default,Nne.default,Rne.default,Tne.default,Sne.default,Pne.default,Ane.default];return e?t.push(wne.default,Ene.default):t.push(vne.default,_ne.default),t.push(xne.default),t}bw.default=jne});var J2=w(vw=>{"use strict";Object.defineProperty(vw,"__esModule",{value:!0});var Lt=ge(),qne={message:({schemaCode:e})=>(0,Lt.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Lt._)`{format: ${e}}`},Dne={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:qne,code(e,t){let{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:c,schemaEnv:u,self:d}=a;if(!l.validateFormats)return;i?h():f();function h(){let p=r.scopeValue("formats",{ref:d.formats,code:l.code.formats}),m=r.const("fDef",(0,Lt._)`${p}[${o}]`),v=r.let("fType"),y=r.let("format");r.if((0,Lt._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>r.assign(v,(0,Lt._)`${m}.type || "string"`).assign(y,(0,Lt._)`${m}.validate`),()=>r.assign(v,(0,Lt._)`"string"`).assign(y,m)),e.fail$data((0,Lt.or)(E(),b()));function E(){return l.strictSchema===!1?Lt.nil:(0,Lt._)`${o} && !${y}`}function b(){let g=u.$async?(0,Lt._)`(${m}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,Lt._)`${y}(${n})`,P=(0,Lt._)`(typeof ${y} == "function" ? ${g} : ${y}.test(${n}))`;return(0,Lt._)`${y} && ${y} !== true && ${v} === ${t} && !${P}`}}function f(){let p=d.formats[s];if(!p){E();return}if(p===!0)return;let[m,v,y]=b(p);m===t&&e.pass(g());function E(){if(l.strictSchema===!1){d.logger.warn(P());return}throw new Error(P());function P(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function b(P){let O=P instanceof RegExp?(0,Lt.regexpCode)(P):l.code.formats?(0,Lt._)`${l.code.formats}${(0,Lt.getProperty)(s)}`:void 0,R=r.scopeValue("formats",{key:s,ref:P,code:O});return typeof P=="object"&&!(P instanceof RegExp)?[P.type||"string",P.validate,(0,Lt._)`${R}.validate`]:["string",P,R]}function g(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Lt._)`await ${y}(${n})`}return typeof v=="function"?(0,Lt._)`${y}(${n})`:(0,Lt._)`${y}.test(${n})`}}}};vw.default=Dne});var Y2=w(ww=>{"use strict";Object.defineProperty(ww,"__esModule",{value:!0});var Lne=J2(),Fne=[Lne.default];ww.default=Fne});var X2=w(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.contentVocabulary=wl.metadataVocabulary=void 0;wl.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];wl.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Z2=w(_w=>{"use strict";Object.defineProperty(_w,"__esModule",{value:!0});var Mne=a2(),Bne=w2(),zne=K2(),Hne=Y2(),Q2=X2(),Une=[Mne.default,Bne.default,(0,zne.default)(),Hne.default,Q2.metadataVocabulary,Q2.contentVocabulary];_w.default=Une});var Ew=w(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.DiscrError=void 0;var Vne;(function(e){e.Tag="tag",e.Mapping="mapping"})(Vne=Cu.DiscrError||(Cu.DiscrError={}))});var t$=w(Sw=>{"use strict";Object.defineProperty(Sw,"__esModule",{value:!0});var _l=ge(),xw=Ew(),e$=Jo(),Gne=Re(),Wne={message:({params:{discrError:e,tagName:t}})=>e===xw.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,_l._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Kne={keyword:"discriminator",type:"object",schemaType:"object",error:Wne,code(e){let{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let l=t.let("valid",!1),c=t.const("tag",(0,_l._)`${r}${(0,_l.getProperty)(a)}`);t.if((0,_l._)`typeof ${c} == "string"`,()=>u(),()=>e.error(!1,{discrError:xw.DiscrError.Tag,tag:c,tagName:a})),e.ok(l);function u(){let f=h();t.if(!1);for(let p in f)t.elseIf((0,_l._)`${c} === ${p}`),t.assign(l,d(f[p]));t.else(),e.error(!1,{discrError:xw.DiscrError.Mapping,tag:c,tagName:a}),t.endIf()}function d(f){let p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:f},p);return e.mergeEvaluated(m,_l.Name),p}function h(){var f;let p={},m=y(i),v=!0;for(let g=0;g<o.length;g++){let P=o[g];P?.$ref&&!(0,Gne.schemaHasRulesButRef)(P,s.self.RULES)&&(P=e$.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,P?.$ref),P instanceof e$.SchemaEnv&&(P=P.schema));let O=(f=P?.properties)===null||f===void 0?void 0:f[a];if(typeof O!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(m||y(P)),E(O,g)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return p;function y({required:g}){return Array.isArray(g)&&g.includes(a)}function E(g,P){if(g.const)b(g.const,P);else if(g.enum)for(let O of g.enum)b(O,P);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function b(g,P){if(typeof g!="string"||g in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[g]=P}}}};Sw.default=Kne});var r$=w((eAe,Jne)=>{Jne.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var hp=w((Rt,i$)=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.MissingRefError=Rt.ValidationError=Rt.CodeGen=Rt.Name=Rt.nil=Rt.stringify=Rt.str=Rt._=Rt.KeywordCxt=void 0;var Yne=jv(),Xne=Z2(),Qne=t$(),n$=r$(),Zne=["/properties"],fp="http://json-schema.org/draft-07/schema",dp=class extends Yne.default{_addVocabularies(){super._addVocabularies(),Xne.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(Qne.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(n$,Zne):n$;this.addMetaSchema(t,fp,!1),this.refs["http://json-schema.org/schema"]=fp}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(fp)?fp:void 0)}};i$.exports=Rt=dp;Object.defineProperty(Rt,"__esModule",{value:!0});Rt.default=dp;var eie=gl();Object.defineProperty(Rt,"KeywordCxt",{enumerable:!0,get:function(){return eie.KeywordCxt}});var El=ge();Object.defineProperty(Rt,"_",{enumerable:!0,get:function(){return El._}});Object.defineProperty(Rt,"str",{enumerable:!0,get:function(){return El.str}});Object.defineProperty(Rt,"stringify",{enumerable:!0,get:function(){return El.stringify}});Object.defineProperty(Rt,"nil",{enumerable:!0,get:function(){return El.nil}});Object.defineProperty(Rt,"Name",{enumerable:!0,get:function(){return El.Name}});Object.defineProperty(Rt,"CodeGen",{enumerable:!0,get:function(){return El.CodeGen}});var tie=bu();Object.defineProperty(Rt,"ValidationError",{enumerable:!0,get:function(){return tie.default}});var rie=Ds();Object.defineProperty(Rt,"MissingRefError",{enumerable:!0,get:function(){return rie.default}})});var o$=w((tAe,s$)=>{"use strict";var nie={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};s$.exports={HEX:nie}});var p$=w((rAe,h$)=>{"use strict";var{HEX:iie}=o$();function u$(e){if(d$(e,".")<3)return{host:e,isIPV4:!1};let t=e.match(/^(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)||[],[r]=t;return r?{host:oie(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function Rw(e){let t="",r=!0;for(let n of e){if(n!=="0"&&r===!0&&(r=!1),iie[n]===void 0)return;r||(t+=n)}return t}function sie(e){let t=0,r={error:!1,address:"",zone:""},n=[],i=[],s=!1,o=!1,a=!1;function l(){if(i.length){if(s===!1){let c=Rw(i.join(""));if(c!==void 0)n.push(c);else return r.error=!0,!1}i.length=0}return!0}for(let c=0;c<e.length;c++){let u=e[c];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(a=!0),!l())break;if(t++,n.push(":"),t>7){r.error=!0;break}c-1>=0&&e[c-1]===":"&&(o=!0);continue}else if(u==="%"){if(!l())break;s=!0}else{i.push(u);continue}}return i.length&&(s?r.zone=i.join(""):a?n.push(i.join("")):n.push(Rw(i.join("")))),r.address=n.join(""),r}function f$(e,t={}){if(d$(e,":")<2)return{host:e,isIPV6:!1};let r=sie(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,i=r.address;return r.zone&&(n+="%"+r.zone,i+="%25"+r.zone),{host:n,escapedHost:i,isIPV6:!0}}}function oie(e,t){let r="",n=!0,i=e.length;for(let s=0;s<i;s++){let o=e[s];o==="0"&&n?(s+1<=i&&e[s+1]===t||s+1===i)&&(r+=o,n=!1):(o===t?n=!0:n=!1,r+=o)}return r}function d$(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}var a$=/^\.\.?\//,l$=/^\/\.(\/|$)/,c$=/^\/\.\.(\/|$)/,aie=/^\/?(?:.|\n)*?(?=\/|$)/;function lie(e){let t=[];for(;e.length;)if(e.match(a$))e=e.replace(a$,"");else if(e.match(l$))e=e.replace(l$,"/");else if(e.match(c$))e=e.replace(c$,"/"),t.pop();else if(e==="."||e==="..")e="";else{let r=e.match(aie);if(r){let n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function cie(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function uie(e,t){let r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host),i=u$(n);if(i.isIPV4)n=i.host;else{let s=f$(i.host,{isIPV4:!1});s.isIPV6===!0?n=`[${s.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}h$.exports={recomposeAuthority:uie,normalizeComponentEncoding:cie,removeDotSegments:lie,normalizeIPv4:u$,normalizeIPv6:f$,stringToHexStripped:Rw}});var w$=w((nAe,v$)=>{"use strict";var fie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,die=/([A-Za-z0-9][A-Za-z0-9-]{0,31}):(([A-Za-z0-9()+,\-.:=@;$_!*']|%[0-9A-Fa-f]{2})+)/;function m$(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function g$(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function y$(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function hie(e){return e.secure=m$(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function pie(e){if((e.port===(m$(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function mie(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(die);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let i=`${n}:${t.nid||e.nid}`,s=Tw[i];e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function gie(e,t){let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${r}:${t.nid||n}`,s=Tw[i];s&&(e=s.serialize(e,t));let o=e,a=e.nss;return o.path=`${n||t.nid}:${a}`,t.skipEscape=!0,o}function yie(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!fie.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function bie(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var b$={scheme:"http",domainHost:!0,parse:g$,serialize:y$},vie={scheme:"https",domainHost:b$.domainHost,parse:g$,serialize:y$},pp={scheme:"ws",domainHost:!0,parse:hie,serialize:pie},wie={scheme:"wss",domainHost:pp.domainHost,parse:pp.parse,serialize:pp.serialize},_ie={scheme:"urn",parse:mie,serialize:gie,skipNormalize:!0},Eie={scheme:"urn:uuid",parse:yie,serialize:bie,skipNormalize:!0},Tw={http:b$,https:vie,ws:pp,wss:wie,urn:_ie,"urn:uuid":Eie};v$.exports=Tw});var Aw=w((iAe,gp)=>{"use strict";var xie=L("url"),{normalizeIPv6:Sie,normalizeIPv4:Rie,removeDotSegments:Iu,recomposeAuthority:Tie,normalizeComponentEncoding:mp}=p$(),_$=w$();function Pie(e,t){return typeof e=="string"?e=xi(ts(e,t),t):typeof e=="object"&&(e=ts(xi(e,t),t)),e}function Aie(e,t,r){let n=Object.assign({scheme:"null"},r),i=E$(ts(e,n),ts(t,n),n,!0);return xi(i,{...n,skipEscape:!0})}function E$(e,t,r,n){let i={};return n||(e=ts(xi(e,r),r),t=ts(xi(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Iu(t.path||""),i.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Iu(t.path||""),i.query=t.query):(t.path?(t.path.charAt(0)==="/"?i.path=Iu(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+t.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path,i.path=Iu(i.path)),i.query=t.query):(i.path=e.path,t.query!==void 0?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function kie(e,t,r){return typeof e=="string"?(e=unescape(e),e=xi(mp(ts(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=xi(mp(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=xi(mp(ts(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=xi(mp(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function xi(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),i=[],s=_$[(n.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&(i.push(r.scheme),i.push(":"));let o=Tie(r,n);if(o!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(o),r.path&&r.path.charAt(0)!=="/"&&i.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(a=Iu(a)),o===void 0&&(a=a.replace(/^\/\//,"/%2F")),i.push(a)}return r.query!==void 0&&(i.push("?"),i.push(r.query)),r.fragment!==void 0&&(i.push("#"),i.push(r.fragment)),i.join("")}var Oie=/^(?:([^:/?#]+):)?(?:\/\/((?:([^/?#@]*)@)?(\[[^/?#\]]+\]|[^/?#:]*)(?::(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i;function ts(e,t){let r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=e.indexOf("%")!==-1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let s=e.match(Oie);if(s){if(n.scheme=s[1],n.userinfo=s[3],n.host=s[4],n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=s[7],n.fragment=s[8],isNaN(n.port)&&(n.port=s[5]),n.host){let a=Rie(n.host);a.isIPV4===!1?n.host=Sie(a.host,{isIPV4:!1}).host.toLowerCase():n.host=a.host}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");let o=_$[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost))try{n.host=xie.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.userinfo!==void 0&&(n.userinfo=unescape(n.userinfo)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=encodeURI(n.path)),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURI(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}var Pw={normalize:Pie,resolve:Aie,resolveComponents:E$,equal:kie,serialize:xi,parse:ts};gp.exports=Pw;gp.exports.default=Pw;gp.exports.fastUri=Pw});var x$=w(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.formatLimitDefinition=void 0;var Cie=hp(),Zn=ge(),Fs=Zn.operators,yp={formatMaximum:{okStr:"<=",ok:Fs.LTE,fail:Fs.GT},formatMinimum:{okStr:">=",ok:Fs.GTE,fail:Fs.LT},formatExclusiveMaximum:{okStr:"<",ok:Fs.LT,fail:Fs.GTE},formatExclusiveMinimum:{okStr:">",ok:Fs.GT,fail:Fs.LTE}},Iie={message:({keyword:e,schemaCode:t})=>Zn.str`should be ${yp[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>Zn._`{comparison: ${yp[e].okStr}, limit: ${t}}`};xl.formatLimitDefinition={keyword:Object.keys(yp),type:"string",schemaType:"string",$data:!0,error:Iie,code(e){let{gen:t,data:r,schemaCode:n,keyword:i,it:s}=e,{opts:o,self:a}=s;if(!o.validateFormats)return;let l=new Cie.KeywordCxt(s,a.RULES.all.format.definition,"format");l.$data?c():u();function c(){let h=t.scopeValue("formats",{ref:a.formats,code:o.code.formats}),f=t.const("fmt",Zn._`${h}[${l.schemaCode}]`);e.fail$data(Zn.or(Zn._`typeof ${f} != "object"`,Zn._`${f} instanceof RegExp`,Zn._`typeof ${f}.compare != "function"`,d(f)))}function u(){let h=l.schema,f=a.formats[h];if(!f||f===!0)return;if(typeof f!="object"||f instanceof RegExp||typeof f.compare!="function")throw new Error(`"${i}": format "${h}" does not define "compare" function`);let p=t.scopeValue("formats",{key:h,ref:f,code:o.code.formats?Zn._`${o.code.formats}${Zn.getProperty(h)}`:void 0});e.fail$data(d(p))}function d(h){return Zn._`${h}.compare(${r}, ${n}) ${yp[i].fail} 0`}},dependencies:["format"]};var $ie=e=>(e.addKeyword(xl.formatLimitDefinition),e);xl.default=$ie});var Cw=w(($u,T$)=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var Sl=Dh(),Nie=x$(),kw=ge(),S$=new kw.Name("fullFormats"),jie=new kw.Name("fastFormats"),Ow=(e,t={keywords:!0})=>{if(Array.isArray(t))return R$(e,t,Sl.fullFormats,S$),e;let[r,n]=t.mode==="fast"?[Sl.fastFormats,jie]:[Sl.fullFormats,S$],i=t.formats||Sl.formatNames;return R$(e,i,r,n),t.keywords&&Nie.default(e),e};Ow.get=(e,t="full")=>{let n=(t==="fast"?Sl.fastFormats:Sl.fullFormats)[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function R$(e,t,r,n){var i,s;(i=(s=e.opts.code).formats)!==null&&i!==void 0||(s.formats=kw._`require("ajv-formats/dist/formats").${n}`);for(let o of t)e.addFormat(o,r[o])}T$.exports=$u=Ow;Object.defineProperty($u,"__esModule",{value:!0});$u.default=Ow});var A$=w((oAe,P$)=>{"use strict";var qie=hp(),Die=Aw(),Lie=Cw(),Fie=jc()({proto:!0}),Iw=class{constructor(t){this.ajv=new qie({...t,strictSchema:!1,validateSchema:!1,allowUnionTypes:!0,uriResolver:Die}),Lie(this.ajv),this.ajv.addKeyword({keyword:"fjs_type",type:"object",errors:!1,validate:(r,n)=>n instanceof Date})}addSchema(t,r){let n=t.$id||r;if(t.$id!==void 0&&t.$id[0]==="#"&&(n=r+t.$id),this.ajv.refs[n]===void 0&&this.ajv.schemas[n]===void 0){let i=Fie(t);this.convertSchemaToAjvFormat(i),this.ajv.addSchema(i,n)}}validate(t,r){return this.ajv.validate(t,r)}convertSchemaToAjvFormat(t){if(t!==null){t.type==="string"?(t.fjs_type="string",t.type=["string","object"]):Array.isArray(t.type)&&t.type.includes("string")&&!t.type.includes("object")&&(t.fjs_type="string",t.type.push("object"));for(let r in t)typeof t[r]=="object"&&this.convertSchemaToAjvFormat(t[r])}}};P$.exports=Iw});var C$=w((aAe,O$)=>{"use strict";var k$=nu(),$w=class{constructor(){this.schemas={}}addSchema(t,r){t.$id!==void 0&&t.$id.charAt(0)!=="#"&&(r=t.$id),this.getSchema(r)===void 0&&(this.insertSchemaBySchemaId(t,r),this.insertSchemaSubschemas(t,r))}getSchema(t,r="#"){let n=this.schemas[t];if(n!==void 0)return n.anchors[r]!==void 0?n.anchors[r]:Mie(n.schema,r)}getSchemaDependencies(t,r={}){let n=this.schemas[t];for(let i of n.dependencies)r[i]===void 0&&(r[i]=this.getSchema(i),this.getSchemaDependencies(i,r));return r}insertSchemaBySchemaId(t,r){if(this.schemas[r]!==void 0&&!k$(t,this.schemas[r].schema))throw new Error(`There is already another schema with id ${r}`);this.schemas[r]={schema:t,anchors:{},dependencies:[]}}insertSchemaByAnchor(t,r,n){let{anchors:i}=this.schemas[r];if(i[n]!==void 0&&!k$(t,i[n]))throw new Error(`There is already another schema with id ${r}#${n}`);i[n]=t}insertSchemaSubschemas(t,r){let n=t.$id;n!==void 0&&typeof n=="string"&&(n.charAt(0)==="#"?this.insertSchemaByAnchor(t,r,n):(this.insertSchemaBySchemaId(t,n),r=n));let i=t.$ref;if(i!==void 0&&typeof i=="string"&&i.charAt(0)!=="#"){let s=i.split("#")[0];this.schemas[r].dependencies.push(s)}for(let s in t)typeof t[s]=="object"&&t[s]!==null&&this.insertSchemaSubschemas(t[s],r)}};function Mie(e,t){let r=t.split("/"),n=e;for(let i of r)if(!(i===""||i==="#")){if(typeof n!="object"||n===null)return;n=n[i]}return n}O$.exports=$w});var $$=w((lAe,I$)=>{"use strict";var Nu=class{constructor(t,r,n="#"){this.schema=t,this.schemaId=r,this.jsonPointer=n,this.mergedSchemaId=null}getPropertyLocation(t){let r=new Nu(this.schema[t],this.schemaId,this.jsonPointer+"/"+t);return this.mergedSchemaId!==null&&r.addMergedSchema(this.schema[t],this.mergedSchemaId,this.jsonPointer+"/"+t),r}getSchemaId(){return this.mergedSchemaId||this.schemaId}getOriginSchemaId(){return this.schemaId}getSchemaRef(){return this.getSchemaId()+this.jsonPointer}addMergedSchema(t,r,n="#"){this.schema=t,this.mergedSchemaId=r,this.jsonPointer=n}};I$.exports=Nu});var D$=w((cAe,q$)=>{var N$=L("fs"),j$=L("path");function Bie(e,t,r,n){let i=N$.readFileSync(j$.join(__dirname,"serializer.js")).toString(),s="",o="";if(r){let a="",l=t.ajv.defaultMeta();typeof l=="string"?a=l:a=l.$id||l.id,o+=`const validator = new Validator(${JSON.stringify(e.ajv||{})})
`;for(let[c,u]of Object.entries(t.ajv.schemas))c!==a&&(o+=`validator.ajv.addSchema(${JSON.stringify(u.schema)}, "${c}")
`);s=N$.readFileSync(j$.join(__dirname,"validator.js")).toString(),s=s.replace("'use strict'","").replace("module.exports = SchemaValidator","")}return`
  'use strict'

  ${i.replace("'use strict'","").replace("module.exports = ","")}
  ${s}

  const serializer = new Serializer(${JSON.stringify(e||{})})
  ${o}

  ${n.replace("return main","")}

  module.exports = main
      `}q$.exports=Bie});var K$=w((uAe,Tl)=>{"use strict";var Nw=IC()(),zie=jc()({proto:!0}),{randomUUID:F$}=L("crypto"),L$=UC(),Hie=GC(),Uie=A$(),Vie=C$(),M$=$$(),B$=2e4,bp="default",z$=["default","json-stringify"],ju=`
  if (addComma) {
    json += ','
  } else {
    addComma = true
  }
`;function jw(e,t){if(!L$(e)){t?t=`"${t}" `:t="";let r=L$.errors[0],n=new Error(`${t}schema is invalid: data${r.instancePath} ${r.message}`);throw n.errors=jw.errors,n}}function Du(e,t){let r=t.indexOf("#");r===-1&&(r=t.length);let n=t.slice(0,r)||e.getOriginSchemaId(),i=t.slice(r)||"#",s=Ms.getSchema(n,i);if(s===void 0)throw new Error(`Cannot find reference "${t}"`);let o=new M$(s,n,i);return s.$ref!==void 0?Du(o,s.$ref):o}var zs=new Map,Bs=null,Ms=null,qu=null,Rl=null;function qw(e,t){if(zs.clear(),qu=[],Rl=new Set,t=t||{},Ms=new Vie,Bs=e.$id||F$(),jw(e),Ms.addSchema(e,Bs),t.schema)for(let u of Object.keys(t.schema))jw(t.schema[u],u),Ms.addSchema(t.schema[u],u);if(t.rounding&&!["floor","ceil","round"].includes(t.rounding))throw new Error(`Unsupported integer rounding method ${t.rounding}`);if(t.largeArrayMechanism)if(z$.includes(t.largeArrayMechanism))bp=t.largeArrayMechanism;else throw new Error(`Unsupported large array mechanism ${t.largeArrayMechanism}`);if(t.largeArraySize)if(!Number.isNaN(Number.parseInt(t.largeArraySize,10)))B$=t.largeArraySize;else throw new Error(`Unsupported large array size. Expected integer-like, got ${t.largeArraySize}`);let r=new M$(e,Bs),i=`
    function main (input) {
      let json = ''
      ${rs(r,"input")}
      return json
    }
    ${qu.join(`
`)}
    return main
  `,s=new Hie(t),o=new Uie(t.ajv);for(let u of Rl){let d=Ms.getSchema(u);o.addSchema(d,u);let h=Ms.getSchemaDependencies(u);for(let[f,p]of Object.entries(h))o.addSchema(p,f)}let a=["validator","serializer",i];if(t.debugMode&&(t.mode="debug"),t.mode==="debug")return{validator:o,serializer:s,code:a.join(`
`),ajv:o.ajv};if(t.mode==="standalone"){let u=Rl.size>0;return D$()(t,o,u,i)}let c=new Function("validator","serializer",i)(o,s);return Ms=null,Bs=null,qu=null,Rl=null,zs.clear(),c}var Gie=["maxProperties","minProperties","required","properties","patternProperties","additionalProperties","dependencies"],Wie=["items","additionalItems","maxItems","minItems","uniqueItems","contains"],Kie=["maxLength","minLength","pattern"],Jie=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"];function H$(e){for(var t of Gie)if(t in e)return"object";for(var t of Wie)if(t in e)return"array";for(var t of Kie)if(t in e)return"string";for(var t of Jie)if(t in e)return"number";return e.type}function Yie(e){let t=e.schema,r=Object.keys(t.properties||{}),n=`
    const propertiesKeys = ${JSON.stringify(r)}
    for (const [key, value] of Object.entries(obj)) {
      if (
        propertiesKeys.includes(key) ||
        value === undefined ||
        typeof value === 'function' ||
        typeof value === 'symbol'
      ) continue
  `,i=e.getPropertyLocation("patternProperties"),s=i.schema;if(s!==void 0)for(let l in s){let c=i.getPropertyLocation(l);try{RegExp(l)}catch(u){let d=c.getSchemaRef();throw new Error(`${u.message}. Invalid pattern property regexp key ${l} at ${d}`)}n+=`
        if (/${l.replace(/\\*\//g,"\\/")}/.test(key)) {
          ${ju}
          json += serializer.asString(key) + ':'
          ${rs(c,"value")}
          continue
        }
      `}let a=e.getPropertyLocation("additionalProperties").schema;if(a!==void 0)if(a===!0)n+=`
        ${ju}
        json += serializer.asString(key) + ':' + JSON.stringify(value)
      `;else{let l=e.getPropertyLocation("additionalProperties");n+=`
        ${ju}
        json += serializer.asString(key) + ':'
        ${rs(l,"value")}
      `}return n+=`
    }
  `,n}function Xie(e){let t=e.schema,r=t.required||[],n="",i=e.getPropertyLocation("properties");Object.keys(t.properties||{}).forEach(s=>{let o=i.getPropertyLocation(s);o.schema.$ref&&(o=Du(e,o.schema.$ref));let a=JSON.stringify(s),l=JSON.stringify(a);n+=`
      if (obj[${a}] !== undefined) {
        ${ju}
        json += ${l} + ':'
      `,n+=rs(o,`obj[${JSON.stringify(s)}]`);let c=o.schema.default;c!==void 0?n+=`
      } else {
        ${ju}
        json += ${l} + ':' + ${JSON.stringify(JSON.stringify(c))}
      `:r.includes(s)&&(n+=`
      } else {
        throw new Error('${a} is required!')
      `),n+=`
      }
    `});for(let s of r)t.properties&&t.properties[s]!==void 0||(n+=`if (obj['${s}'] === undefined) throw new Error('"${s}" is required!')
`);return(t.patternProperties||t.additionalProperties)&&(n+=Yie(e)),n}function U$(e,t,r){let n=e.getPropertyLocation("allOf");for(let i=0;i<t.allOf.length;i++){let s=t.allOf[i];if(s.$ref){let a=n.getPropertyLocation(i);s=Du(a,s.$ref).schema}let o=s.type;if(o===void 0&&(o=H$(s)),o!==void 0){if(r.type!==void 0&&r.type!==o)throw new Error("allOf schemas have different type values");r.type=o}if(s.format!==void 0){if(r.format!==void 0&&r.format!==s.format)throw new Error("allOf schemas have different format values");r.format=s.format}if(s.nullable!==void 0){if(r.nullable!==void 0&&r.nullable!==s.nullable)throw new Error("allOf schemas have different nullable values");r.nullable=s.nullable}s.properties!==void 0&&(r.properties===void 0&&(r.properties={}),Object.assign(r.properties,s.properties)),s.additionalProperties!==void 0&&(r.additionalProperties===void 0&&(r.additionalProperties={}),Object.assign(r.additionalProperties,s.additionalProperties)),s.patternProperties!==void 0&&(r.patternProperties===void 0&&(r.patternProperties={}),Object.assign(r.patternProperties,s.patternProperties)),s.required!==void 0&&(r.required===void 0&&(r.required=[]),r.required.push(...s.required)),s.oneOf!==void 0&&(r.oneOf===void 0&&(r.oneOf=[]),r.oneOf.push(...s.oneOf)),s.anyOf!==void 0&&(r.anyOf===void 0&&(r.anyOf=[]),r.anyOf.push(...s.anyOf)),s.allOf!==void 0&&U$(e,s,r)}delete r.allOf,r.$id=`merged_${F$()}`,Ms.addSchema(r),e.addMergedSchema(r,r.$id)}function Qie(e,t){Rl.add(e.getSchemaId());let r=Nw({},e.schema),n=r.then,i=r.else||{additionalProperties:!0};delete r.if,delete r.then,delete r.else;let o=e.getPropertyLocation("if").getSchemaRef(),a=e.getPropertyLocation("then");a.schema=Nw(r,n);let l=e.getPropertyLocation("else");return l.schema=Nw(r,i),`
    if (validator.validate("${o}", ${t})) {
      ${rs(a,t)}
    } else {
      ${rs(l,t)}
    }
  `}function Zie(e){return`(${e} && typeof ${e}.toJSON === 'function')
    ? ${e}.toJSON()
    : ${e}
  `}function ese(e){let t=e.schema;if(zs.has(t))return zs.get(t);let r=G$();zs.set(t,r);let n=e.getSchemaRef();n.startsWith(Bs)&&(n=n.replace(Bs,""));let i=`
    function ${r} (input) {
      // ${n}
  `;return i+=`
      var obj = ${Zie("input")}
      var json = '{'
      var addComma = false
  `,i+=Xie(e),i+=`
      json += '}'
      return json
    }
  `,qu.push(i),r}function tse(e){let t=e.schema,r=e.getPropertyLocation("items");r.schema=r.schema||{},r.schema.$ref&&(r=Du(r,r.schema.$ref));let n=r.schema;if(zs.has(t))return zs.get(t);let i=G$();zs.set(t,i);let s=e.getSchemaRef();s.startsWith(Bs)&&(s=s.replace(Bs,""));let o=`
    function ${i} (obj) {
      // ${s}
  `;if(o+=`
    if (!Array.isArray(obj)) {
      throw new TypeError(\`The value '\${obj}' does not match schema definition.\`)
    }
    const arrayLength = obj.length
  `,t.additionalItems||(o+=`
      if (arrayLength > ${n.length}) {
        throw new Error(\`Item at ${n.length} does not match schema definition.\`)
      }
    `),bp!=="default")if(bp==="json-stringify")o+=`if (arrayLength && arrayLength >= ${B$}) return JSON.stringify(obj)
`;else throw new Error(`Unsupported large array mechanism ${bp}`);if(o+=`
    let jsonOutput = ''
  `,Array.isArray(n)){for(let a=0;a<n.length;a++){let l=n[a],c=rs(r.getPropertyLocation(a),`obj[${a}]`);o+=`
        if (${a} < arrayLength) {
          if (${V$(l.type,`[${a}]`)}) {
            let json = ''
            ${c}
            jsonOutput += json
            if (${a} < arrayLength - 1) {
              jsonOutput += ','
            }
          } else {
            throw new Error(\`Item at ${a} does not match schema definition.\`)
          }
        }
        `}t.additionalItems&&(o+=`
        for (let i = ${n.length}; i < arrayLength; i++) {
          let json = JSON.stringify(obj[i])
          jsonOutput += json
          if (i < arrayLength - 1) {
            jsonOutput += ','
          }
        }`)}else{let a=rs(r,"obj[i]");o+=`
      for (let i = 0; i < arrayLength; i++) {
        let json = ''
        ${a}
        jsonOutput += json
        if (i < arrayLength - 1) {
          jsonOutput += ','
        }
      }`}return o+="\n    return `[${jsonOutput}]`\n  }",qu.push(o),i}function V$(e,t){let r;switch(e){case"null":r=`obj${t} === null`;break;case"string":r=`typeof obj${t} === 'string'`;break;case"integer":r=`Number.isInteger(obj${t})`;break;case"number":r=`Number.isFinite(obj${t})`;break;case"boolean":r=`typeof obj${t} === 'boolean'`;break;case"object":r=`obj${t} && typeof obj${t} === 'object' && obj${t}.constructor === Object`;break;case"array":r=`Array.isArray(obj${t})`;break;default:if(Array.isArray(e))r=`(${e.map(i=>V$(i,t)).join(" || ")})`;else throw new Error(`${e} unsupported`)}return r}var rse=0;function G$(){return"anonymous"+rse++}function nse(e,t){let n=e.schema.type.sort(s=>s==="null"?-1:1),i="";return n.forEach((s,o)=>{e.schema={...e.schema,type:s};let a=W$(e,t),l=o===0?"if":"else if";switch(s){case"null":i+=`
          ${l} (${t} === null)
            ${a}
          `;break;case"string":{i+=`
          ${l}(
            typeof ${t} === "string" ||
            ${t} === null ||
            ${t} instanceof Date ||
            ${t} instanceof RegExp ||
            (
              typeof ${t} === "object" &&
              typeof ${t}.toString === "function" &&
              ${t}.toString !== Object.prototype.toString &&
              !(${t} instanceof Date)
            )
          )
            ${a}
        `;break}case"array":{i+=`
          ${l}(Array.isArray(${t}))
            ${a}
        `;break}case"integer":{i+=`
          ${l}(Number.isInteger(${t}) || ${t} === null)
            ${a}
        `;break}default:{i+=`
          ${l}(typeof ${t} === "${s}" || ${t} === null)
            ${a}
        `;break}}}),i+=`
    else throw new Error(\`The value \${JSON.stringify(${t})} does not match schema definition.\`)
  `,i}function W$(e,t){let r=e.schema;switch(r.type){case"null":return"json += 'null'";case"string":return r.format==="date-time"?`json += serializer.asDateTime(${t})`:r.format==="date"?`json += serializer.asDate(${t})`:r.format==="time"?`json += serializer.asTime(${t})`:`json += serializer.asString(${t})`;case"integer":return`json += serializer.asInteger(${t})`;case"number":return`json += serializer.asNumber(${t})`;case"boolean":return`json += serializer.asBoolean(${t})`;case"object":return`json += ${ese(e)}(${t})`;case"array":return`json += ${tse(e)}(${t})`;case void 0:return`json += JSON.stringify(${t})`;default:throw new Error(`${r.type} unsupported`)}}function ise(e,t){let r=e.schema,n=r.type,i=Array.isArray(n)&&n.includes("null"),s="";return i&&(s+=`
      if (${t} === null) {
        json += 'null'
      } else {
    `),s+=`json += '${JSON.stringify(r.const)}'`,i&&(s+=`
      }
    `),s}function rs(e,t){let r=e.schema;if(typeof r=="boolean")return`json += JSON.stringify(${t})`;if(r.$ref&&(e=Du(e,r.$ref),r=e.schema),r.type===void 0){let o=H$(r);o&&(r.type=o)}if(r.if&&r.then)return Qie(e,t);r.allOf&&(U$(e,r,zie(r)),r=e.schema);let n=r.type,i="";if(n===void 0&&(r.anyOf||r.oneOf)){Rl.add(e.getSchemaId());let o=r.anyOf?"anyOf":"oneOf",a=e.getPropertyLocation(o);for(let l=0;l<e.schema[o].length;l++){let c=a.getPropertyLocation(l),u=c.getSchemaRef(),d=rs(c,t);i+=`
        ${l===0?"if":"else if"}(validator.validate("${u}", ${t}))
          ${d}
      `}return i+=`
      else throw new Error(\`The value \${JSON.stringify(${t})} does not match schema definition.\`)
    `,i}let s=r.nullable===!0;return s&&(i+=`
      if (${t} === null) {
        json += 'null'
      } else {
    `),r.const!==void 0?i+=ise(e,t):Array.isArray(n)?i+=nse(e,t):i+=W$(e,t),s&&(i+=`
      }
    `),i}Tl.exports=qw;Tl.exports.default=qw;Tl.exports.build=qw;Tl.exports.validLargeArrayMechanisms=z$;Tl.exports.restore=function({code:e,validator:t,serializer:r}){return Function.apply(null,["validator","serializer",e]).apply(null,[t,r])}});var Y$=w((fAe,Dw)=>{"use strict";var sse=Lw();function J$(e={readMode:!0}){if(e.readMode===!0&&typeof e.restoreFunction!="function")throw new Error("You must provide a function for the restoreFunction-option when readMode ON");if(e.readMode!==!0&&typeof e.storeFunction!="function")throw new Error("You must provide a function for the storeFunction-option when readMode OFF");if(e.readMode===!0)return function(){return function(n){return e.restoreFunction(n)}};let t=sse();return function(n,i={}){i.mode="standalone";let s=t(n,i);return function(o){let a=s(o);return e.storeFunction(o,a),new Function(a)}}}Dw.exports=J$;Dw.exports.default=J$});var Lw=w((dAe,Lu)=>{"use strict";var ose=K$();function Fw(){return function(t,r){let n=Object.assign({},r,{schema:t});return ase.bind(null,n)}}function ase(e,{schema:t}){return e.schema&&t.$id&&e.schema[t.$id]&&(e.schema={...e.schema},delete e.schema[t.$id]),ose(t,e)}Lu.exports=Fw;Lu.exports.default=Fw;Lu.exports.SerializerSelector=Fw;Lu.exports.StandaloneSerializer=Y$()});var ns=w(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.checkMetadata=void 0;var lse=Re(),cse={keyword:"metadata",schemaType:"object",code(e){X$(e);let{gen:t,schema:r,it:n}=e;if((0,lse.alwaysValidSchema)(n,r))return;let i=t.name("valid");e.subschema({keyword:"metadata",jtdMetadata:!0},i),e.ok(i)}};function X$({it:e,keyword:t},r){if(e.jtdMetadata!==r)throw new Error(`JTD: "${t}" cannot be used in this schema location`)}Fu.checkMetadata=X$;Fu.default=cse});var vp=w(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.hasRef=void 0;var Q$=Jo(),Mu=ge(),use=Ds(),Z$=$n(),eN=Dv(),fse=ns(),dse={keyword:"ref",schemaType:"string",code(e){(0,fse.checkMetadata)(e);let{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{schemaEnv:{root:o}}=s,a=t.name("valid");i.nullable?(t.var(a,(0,Mu._)`${r} === null`),t.if((0,Mu.not)(a),l)):(t.var(a,!1),l()),e.ok(a);function l(){var d;let h=(d=o.schema.definitions)===null||d===void 0?void 0:d[n];if(!h)throw new use.default(s.opts.uriResolver,"",n,`No definition ${n}`);Mw(h)||!s.opts.inlineRefs?c(h):u(h)}function c(d){let h=Q$.compileSchema.call(s.self,new Q$.SchemaEnv({schema:d,root:o,schemaPath:`/definitions/${n}`})),f=(0,eN.getValidate)(e,h),p=t.const("_errs",Z$.default.errors);(0,eN.callRef)(e,f,h,h.$async),t.assign(a,(0,Mu._)`${p} === ${Z$.default.errors}`)}function u(d){let h=t.scopeValue("schema",s.opts.code.source===!0?{ref:d,code:(0,Mu.stringify)(d)}:{ref:d});e.subschema({schema:d,dataTypes:[],schemaPath:Mu.nil,topSchemaRef:h,errSchemaPath:`/definitions/${n}`},a)}}};function Mw(e){for(let t in e){let r;if(t==="ref"||typeof(r=e[t])=="object"&&Mw(r))return!0}return!1}Bu.hasRef=Mw;Bu.default=dse});var zw=w(Bw=>{"use strict";Object.defineProperty(Bw,"__esModule",{value:!0});var hse=/t|\s/i,pse=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,mse=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,gse=[0,31,28,31,30,31,30,31,31,30,31,30,31];function rN(e,t){let r=e.split(hse);return r.length===2&&tN(r[0])&&yse(r[1])||t&&r.length===1&&tN(r[0])}Bw.default=rN;function tN(e){let t=pse.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],i=+t[3];return n>=1&&n<=12&&i>=1&&(i<=gse[n]||n===2&&i===29&&(r%100===0?r%400===0:r%4===0))}function yse(e){let t=mse.exec(e);if(!t)return!1;let r=+t[1],n=+t[2],i=+t[3],s=+(t[4]||0),o=+(t[5]||0);return r<=23&&n<=59&&i<=59||r-s===23&&n-o===59&&i===60}rN.code='require("ajv/dist/runtime/timestamp").default'});var Pl=w(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.typeErrorParams=Hs.typeErrorMessage=Hs.typeError=void 0;var bse=ge();function vse(e){return{message:t=>nN(t,e),params:t=>iN(t,e)}}Hs.typeError=vse;function nN({parentSchema:e},t){return e?.nullable?`must be ${t} or null`:`must be ${t}`}Hs.typeErrorMessage=nN;function iN({parentSchema:e},t){return(0,bse._)`{type: ${t}, nullable: ${!!e?.nullable}}`}Hs.typeErrorParams=iN});var Hw=w(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.intRange=void 0;var hn=ge(),wse=zw(),_se=Re(),Ese=ns(),sN=Pl();Al.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};var xse={message:e=>(0,sN.typeErrorMessage)(e,e.schema),params:e=>(0,sN.typeErrorParams)(e,e.schema)};function Sse(e){let{gen:t,data:r,it:n}=e,{timestamp:i,allowDate:s}=n.opts;if(i==="date")return(0,hn._)`${r} instanceof Date `;let o=(0,_se.useFunc)(t,wse.default),a=s?(0,hn._)`, true`:hn.nil,l=(0,hn._)`typeof ${r} == "string" && ${o}(${r}${a})`;return i==="string"?l:(0,hn.or)((0,hn._)`${r} instanceof Date`,l)}var Rse={keyword:"type",schemaType:"string",error:xse,code(e){(0,Ese.checkMetadata)(e);let{data:t,schema:r,parentSchema:n,it:i}=e,s;switch(r){case"boolean":case"string":s=(0,hn._)`typeof ${t} == ${r}`;break;case"timestamp":{s=Sse(e);break}case"float32":case"float64":s=(0,hn._)`typeof ${t} == "number"`;break;default:{let o=r;if(s=(0,hn._)`typeof ${t} == "number" && isFinite(${t}) && !(${t} % 1)`,!i.opts.int32range&&(o==="int32"||o==="uint32"))o==="uint32"&&(s=(0,hn._)`${s} && ${t} >= 0`);else{let[a,l]=Al.intRange[o];s=(0,hn._)`${s} && ${t} >= ${a} && ${t} <= ${l}`}}}e.pass(n.nullable?(0,hn.or)((0,hn._)`${t} === null`,s):s)}};Al.default=Rse});var Ol=w(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.checkNullableObject=kl.checkNullable=void 0;var wp=ge();function oN({gen:e,data:t,parentSchema:r},n=wp.nil){let i=e.name("valid");return r.nullable?(e.let(i,(0,wp._)`${t} === null`),n=(0,wp.not)(i)):e.let(i,!1),[i,n]}kl.checkNullable=oN;function Tse(e,t){let[r,n]=oN(e,t);return[r,(0,wp._)`${n} && typeof ${e.data} == "object" && !Array.isArray(${e.data})`]}kl.checkNullableObject=Tse});var aN=w(Uw=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0});var Us=ge(),Pse=ns(),Ase=Ol(),kse={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Us._)`{allowedValues: ${e}}`},Ose={keyword:"enum",schemaType:"array",error:kse,code(e){(0,Pse.checkMetadata)(e);let{gen:t,data:r,schema:n,schemaValue:i,parentSchema:s,it:o}=e;if(n.length===0)throw new Error("enum must have non-empty array");if(n.length!==new Set(n).size)throw new Error("enum items must be unique");let a,l=(0,Us._)`typeof ${r} == "string"`;if(n.length>=o.opts.loopEnum){let u;[a,u]=(0,Ase.checkNullable)(e,l),t.if(u,c)}else{if(!Array.isArray(n))throw new Error("ajv implementation error");a=(0,Us.and)(l,(0,Us.or)(...n.map(u=>(0,Us._)`${r} === ${u}`))),s.nullable&&(a=(0,Us.or)((0,Us._)`${r} === null`,a))}e.pass(a);function c(){t.forOf("v",i,u=>t.if((0,Us._)`${a} = ${r} === ${u}`,()=>t.break()))}}};Uw.default=Ose});var cN=w(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});var Cse=Re(),Ise=gr(),lN=ge(),$se=ns(),Nse=Ol(),jse=Pl(),qse={keyword:"elements",schemaType:"object",error:(0,jse.typeError)("array"),code(e){(0,$se.checkMetadata)(e);let{gen:t,data:r,schema:n,it:i}=e;if((0,Cse.alwaysValidSchema)(i,n))return;let[s]=(0,Nse.checkNullable)(e);t.if((0,lN.not)(s),()=>t.if((0,lN._)`Array.isArray(${r})`,()=>t.assign(s,(0,Ise.validateArray)(e)),()=>e.error())),e.ok(s)}};Vw.default=qse});var Ww=w(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.validateProperties=Vs.error=void 0;var Gw=gr(),uN=Re(),is=ge(),Dse=ns(),Lse=Ol(),fN=Pl(),Cl;(function(e){e.Additional="additional",e.Missing="missing"})(Cl||(Cl={}));Vs.error={message:e=>{let{params:t}=e;return t.propError?t.propError===Cl.Additional?"must NOT have additional properties":`must have property '${t.missingProperty}'`:(0,fN.typeErrorMessage)(e,"object")},params:e=>{let{params:t}=e;return t.propError?t.propError===Cl.Additional?(0,is._)`{error: ${t.propError}, additionalProperty: ${t.additionalProperty}}`:(0,is._)`{error: ${t.propError}, missingProperty: ${t.missingProperty}}`:(0,fN.typeErrorParams)(e,"object")}};var Fse={keyword:"properties",schemaType:"object",error:Vs.error,code:dN};function dN(e){(0,Dse.checkMetadata)(e);let{gen:t,data:r,parentSchema:n,it:i}=e,{additionalProperties:s,nullable:o}=n;if(i.jtdDiscriminator&&o)throw new Error("JTD: nullable inside discriminator mapping");if(f())throw new Error("JTD: properties and optionalProperties have common members");let[a,l]=p("properties"),[c,u]=p("optionalProperties");if(l.length===0&&u.length===0&&s)return;let[d,h]=i.jtdDiscriminator===void 0?(0,Lse.checkNullableObject)(e,r):[t.let("valid",!1),!0];t.if(h,()=>t.assign(d,!0).block(()=>{m(l,"properties",!0),m(u,"optionalProperties"),s||y()})),e.pass(d);function f(){let b=n.properties,g=n.optionalProperties;if(!(b&&g))return!1;for(let P in b)if(Object.prototype.hasOwnProperty.call(g,P))return!0;return!1}function p(b){let g=n[b],P=g?(0,Gw.allSchemaProperties)(g):[];if(i.jtdDiscriminator&&P.some(R=>R===i.jtdDiscriminator))throw new Error(`JTD: discriminator tag used in ${b}`);let O=P.filter(R=>!(0,uN.alwaysValidSchema)(i,g[R]));return[P,O]}function m(b,g,P){let O=t.var("valid");for(let C of b)t.if((0,Gw.propertyInData)(t,r,C,i.opts.ownProperties),()=>v(C,g,O),()=>R(C)),e.ok(O);function R(C){P?(t.assign(O,!1),e.error(!1,{propError:Cl.Missing,missingProperty:C},{schemaPath:C})):t.assign(O,!0)}}function v(b,g,P){e.subschema({keyword:g,schemaProp:b,dataProp:b},P)}function y(){t.forIn("key",r,b=>{let g=E(b,a,"properties",i.jtdDiscriminator),P=E(b,c,"optionalProperties"),O=g===!0?P:P===!0?g:(0,is.and)(g,P);t.if(O,()=>{i.opts.removeAdditional?t.code((0,is._)`delete ${r}[${b}]`):(e.error(!1,{propError:Cl.Additional,additionalProperty:b},{instancePath:b,parentSchema:!0}),i.opts.allErrors||t.break())})})}function E(b,g,P,O){let R;if(g.length>8){let C=(0,uN.schemaRefOrVal)(i,n[P],P);R=(0,is.not)((0,Gw.isOwnProperty)(t,C,b)),O!==void 0&&(R=(0,is.and)(R,(0,is._)`${b} !== ${O}`))}else if(g.length||O!==void 0){let C=O===void 0?g:[O].concat(g);R=(0,is.and)(...C.map(q=>(0,is._)`${b} !== ${q}`))}else R=!0;return R}}Vs.validateProperties=dN;Vs.default=Fse});var pN=w(Kw=>{"use strict";Object.defineProperty(Kw,"__esModule",{value:!0});var hN=Ww(),Mse={keyword:"optionalProperties",schemaType:"object",error:hN.error,code(e){e.parentSchema.properties||(0,hN.validateProperties)(e)}};Kw.default=Mse});var gN=w(Jw=>{"use strict";Object.defineProperty(Jw,"__esModule",{value:!0});var Zo=ge(),Bse=ns(),zse=Ol(),mN=Pl(),_p=Ew(),Hse={message:e=>{let{schema:t,params:r}=e;return r.discrError?r.discrError===_p.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in mapping`:(0,mN.typeErrorMessage)(e,"object")},params:e=>{let{schema:t,params:r}=e;return r.discrError?(0,Zo._)`{error: ${r.discrError}, tag: ${t}, tagValue: ${r.tag}}`:(0,mN.typeErrorParams)(e,"object")}},Use={keyword:"discriminator",schemaType:"string",implements:["mapping"],error:Hse,code(e){(0,Bse.checkMetadata)(e);let{gen:t,data:r,schema:n,parentSchema:i}=e,[s,o]=(0,zse.checkNullableObject)(e,r);t.if(o),a(),t.elseIf((0,Zo.not)(s)),e.error(),t.endIf(),e.ok(s);function a(){let u=t.const("tag",(0,Zo._)`${r}${(0,Zo.getProperty)(n)}`);t.if((0,Zo._)`${u} === undefined`),e.error(!1,{discrError:_p.DiscrError.Tag,tag:u}),t.elseIf((0,Zo._)`typeof ${u} == "string"`),l(u),t.else(),e.error(!1,{discrError:_p.DiscrError.Tag,tag:u},{instancePath:n}),t.endIf()}function l(u){t.if(!1);for(let d in i.mapping)t.elseIf((0,Zo._)`${u} === ${d}`),t.assign(s,c(d));t.else(),e.error(!1,{discrError:_p.DiscrError.Mapping,tag:u},{instancePath:n,schemaPath:"mapping",parentSchema:!0}),t.endIf()}function c(u){let d=t.name("valid");return e.subschema({keyword:"mapping",schemaProp:u,jtdDiscriminator:n},d),d}}};Jw.default=Use});var bN=w(Yw=>{"use strict";Object.defineProperty(Yw,"__esModule",{value:!0});var yN=Re(),Ep=ge(),Vse=ns(),Gse=Ol(),Wse=Pl(),Kse={keyword:"values",schemaType:"object",error:(0,Wse.typeError)("object"),code(e){(0,Vse.checkMetadata)(e);let{gen:t,data:r,schema:n,it:i}=e,[s,o]=(0,Gse.checkNullableObject)(e,r);(0,yN.alwaysValidSchema)(i,n)?t.if((0,Ep.not)((0,Ep.or)(o,s)),()=>e.error()):(t.if(o),t.assign(s,a()),t.elseIf((0,Ep.not)(s)),e.error(),t.endIf()),e.ok(s);function a(){let l=t.name("valid");if(i.allErrors){let u=t.let("valid",!0);return c(()=>t.assign(u,!1)),u}return t.var(l,!0),c(()=>t.break()),l;function c(u){t.forIn("key",r,d=>{e.subschema({keyword:"values",dataProp:d,dataPropType:yN.Type.Str},l),t.if((0,Ep.not)(l),u)})}}}};Yw.default=Kse});var vN=w(Xw=>{"use strict";Object.defineProperty(Xw,"__esModule",{value:!0});var Jse=gr(),Yse={keyword:"union",schemaType:"array",trackErrors:!0,code:Jse.validateUnion,error:{message:"must match a schema in union"}};Xw.default=Yse});var wN=w(Qw=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});var Xse=vp(),Qse=Hw(),Zse=aN(),eoe=cN(),toe=Ww(),roe=pN(),noe=gN(),ioe=bN(),soe=vN(),ooe=ns(),aoe=["definitions",Xse.default,Qse.default,Zse.default,eoe.default,toe.default,roe.default,noe.default,ioe.default,soe.default,ooe.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];Qw.default=aoe});var SN=w(Zw=>{"use strict";Object.defineProperty(Zw,"__esModule",{value:!0});var ss=e=>{let t={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return e&&(t.definitions={values:{ref:"schema"}}),t},loe=e=>({optionalProperties:ss(e)}),coe=e=>({properties:{ref:{type:"string"}},optionalProperties:ss(e)}),uoe=e=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:ss(e)}),foe=e=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:ss(e)}),doe=e=>({properties:{elements:{ref:"schema"}},optionalProperties:ss(e)}),EN=e=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:{optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"},...ss(e)}}),xN=e=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:{additionalProperties:{type:"boolean"},...ss(e)}}),hoe=e=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[EN(!1),xN(!1)]}}}},optionalProperties:ss(e)}),poe=e=>({properties:{values:{ref:"schema"}},optionalProperties:ss(e)}),_N=e=>({metadata:{union:[loe,coe,uoe,foe,doe,EN,xN,hoe,poe].map(t=>t(e))}}),moe={definitions:{schema:_N(!1)},..._N(!0)};Zw.default=moe});var e_=w(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.jtdForms=void 0;xp.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"]});var TN=w(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});var t_=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,goe={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function RN(e){return t_.lastIndex=0,'"'+(t_.test(e)?e.replace(t_,t=>{let r=goe[t];return typeof r=="string"?r:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):e)+'"'}r_.default=RN;RN.code='require("ajv/dist/runtime/quote").default'});var IN=w(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});var yoe=e_(),AN=Jo(),je=ge(),boe=Ds(),dt=$n(),voe=gr(),woe=vp(),_oe=Re(),Eoe=TN(),xoe={elements:Roe,values:Toe,discriminator:Poe,properties:PN,optionalProperties:PN,enum:zu,type:Aoe,ref:Ooe};function kN(e,t){let r=AN.getCompilingSchema.call(this,e);if(r)return r;let{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new je.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s}),a=o.scopeName("serialize"),l={self:this,gen:o,schema:e.schema,schemaEnv:e,definitions:t,data:dt.default.data},c;try{this._compilations.add(e),e.serializeName=a,o.func(a,dt.default.data,!1,()=>{o.let(dt.default.json,(0,je.str)``),Hu(l),o.return(dt.default.json)}),o.optimize(this.opts.code.optimize);let u=o.toString();c=`${o.scopeRefs(dt.default.scope)}return ${u}`;let h=new Function(`${dt.default.scope}`,c)(this.scope.get());this.scope.value(a,{ref:h}),e.serialize=h}catch(u){throw c&&this.logger.error("Error compiling serializer, function code:",c),delete e.serialize,delete e.serializeName,u}finally{this._compilations.delete(e)}return e}i_.default=kN;function Hu(e){let t;for(let r of yoe.jtdForms)if(r in e.schema){t=r;break}Soe(e,t?xoe[t]:Ioe)}function Soe(e,t){let{gen:r,schema:n,data:i}=e;if(!n.nullable)return t(e);r.if((0,je._)`${i} === undefined || ${i} === null`,()=>r.add(dt.default.json,(0,je._)`"null"`),()=>t(e))}function Roe(e){let{gen:t,schema:r,data:n}=e;t.add(dt.default.json,(0,je.str)`[`);let i=t.let("first",!0);t.forOf("el",n,s=>{n_(e,i),Hu({...e,schema:r.elements,data:s})}),t.add(dt.default.json,(0,je.str)`]`)}function Toe(e){let{gen:t,schema:r,data:n}=e;t.add(dt.default.json,(0,je.str)`{`);let i=t.let("first",!0);t.forIn("key",n,s=>ON(e,s,r.values,i)),t.add(dt.default.json,(0,je.str)`}`)}function ON(e,t,r,n){let{gen:i,data:s}=e;n_(e,n),zu({...e,data:t}),i.add(dt.default.json,(0,je.str)`:`);let o=i.const("value",(0,je._)`${s}${(0,je.getProperty)(t)}`);Hu({...e,schema:r,data:o})}function Poe(e){let{gen:t,schema:r,data:n}=e,{discriminator:i}=r;t.add(dt.default.json,(0,je.str)`{${JSON.stringify(i)}:`);let s=t.const("tag",(0,je._)`${n}${(0,je.getProperty)(i)}`);zu({...e,data:s}),t.if(!1);for(let o in r.mapping){t.elseIf((0,je._)`${s} === ${o}`);let a=r.mapping[o];CN({...e,schema:a},i)}t.endIf(),t.add(dt.default.json,(0,je.str)`}`)}function PN(e){let{gen:t}=e;t.add(dt.default.json,(0,je.str)`{`),CN(e),t.add(dt.default.json,(0,je.str)`}`)}function CN(e,t){let{gen:r,schema:n,data:i}=e,{properties:s,optionalProperties:o}=n,a=h(s),l=h(o),c=f(a.concat(l)),u=!t,d;for(let y of a)u?u=!1:r.add(dt.default.json,(0,je.str)`,`),m(y,s[y],p(y));u&&(d=r.let("first",!0));for(let y of l){let E=p(y);r.if((0,je.and)((0,je._)`${E} !== undefined`,(0,voe.isOwnProperty)(r,i,y)),()=>{n_(e,d),m(y,o[y],E)})}n.additionalProperties&&r.forIn("key",i,y=>r.if(v(y,c),()=>ON(e,y,{},d)));function h(y){return y?Object.keys(y):[]}function f(y){if(t&&y.push(t),new Set(y).size!==y.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return y}function p(y){return r.const("value",(0,je._)`${i}${(0,je.getProperty)(y)}`)}function m(y,E,b){r.add(dt.default.json,(0,je.str)`${JSON.stringify(y)}:`),Hu({...e,schema:E,data:b})}function v(y,E){return E.length?(0,je.and)(...E.map(b=>(0,je._)`${y} !== ${b}`)):!0}}function Aoe(e){let{gen:t,schema:r,data:n}=e;switch(r.type){case"boolean":t.add(dt.default.json,(0,je._)`${n} ? "true" : "false"`);break;case"string":zu(e);break;case"timestamp":t.if((0,je._)`${n} instanceof Date`,()=>t.add(dt.default.json,(0,je._)`'"' + ${n}.toISOString() + '"'`),()=>zu(e));break;default:koe(e)}}function zu({gen:e,data:t}){e.add(dt.default.json,(0,je._)`${(0,_oe.useFunc)(e,Eoe.default)}(${t})`)}function koe({gen:e,data:t}){e.add(dt.default.json,(0,je._)`"" + ${t}`)}function Ooe(e){let{gen:t,self:r,data:n,definitions:i,schema:s,schemaEnv:o}=e,{ref:a}=s,l=i[a];if(!l)throw new boe.default(r.opts.uriResolver,"",a,`No definition ${a}`);if(!(0,woe.hasRef)(l))return Hu({...e,schema:l});let{root:c}=o,u=kN.call(r,new AN.SchemaEnv({schema:l,root:c}),i);t.add(dt.default.json,(0,je._)`${Coe(t,u)}(${n})`)}function Coe(e,t){return t.serialize?e.scopeValue("serialize",{ref:t.serialize}):(0,je._)`${e.scopeValue("wrapper",{ref:t})}.serialize`}function Ioe({gen:e,data:t}){e.add(dt.default.json,(0,je._)`JSON.stringify(${t})`)}function n_({gen:e},t){t?e.if(t,()=>e.assign(t,!1),()=>e.add(dt.default.json,(0,je.str)`,`)):e.add(dt.default.json,(0,je.str)`,`)}});var NN=w(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.parseJsonString=Ws.parseJsonNumber=Ws.parseJson=void 0;var $oe=/position\s(\d+)$/;function os(e,t){let r;os.message=void 0;let n;t&&(e=e.slice(t));try{return os.position=t+e.length,JSON.parse(e)}catch(i){if(n=$oe.exec(i.message),!n){os.message="unexpected end";return}r=+n[1];let s=e[r];e=e.slice(0,r),os.position=t+r;try{return JSON.parse(e)}catch{os.message=`unexpected token ${s}`;return}}}Ws.parseJson=os;os.message=void 0;os.position=0;os.code='require("ajv/dist/runtime/parseJson").parseJson';function as(e,t,r){let n="",i;if(as.message=void 0,e[t]==="-"&&(n+="-",t++),e[t]==="0")n+="0",t++;else if(!s(r)){o();return}if(r)return as.position=t,+n;if(e[t]==="."&&(n+=".",t++,!s())){o();return}if(i=e[t],(i==="e"||i==="E")&&(n+="e",t++,i=e[t],(i==="+"||i==="-")&&(n+=i,t++),!s())){o();return}return as.position=t,+n;function s(a){let l=!1;for(;i=e[t],i>="0"&&i<="9"&&(a===void 0||a-- >0);)l=!0,n+=i,t++;return l}function o(){as.position=t,as.message=t<e.length?`unexpected token ${e[t]}`:"unexpected end"}}Ws.parseJsonNumber=as;as.message=void 0;as.position=0;as.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';var $N={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},Noe="a".charCodeAt(0),joe="0".charCodeAt(0);function Gs(e,t){let r="",n;for(Gs.message=void 0;n=e[t++],n!=='"';)if(n==="\\")if(n=e[t],n in $N)r+=$N[n],t++;else if(n==="u"){t++;let s=4,o=0;for(;s--;){if(o<<=4,n=e[t],n===void 0){i("unexpected end");return}if(n=n.toLowerCase(),n>="a"&&n<="f")o+=n.charCodeAt(0)-Noe+10;else if(n>="0"&&n<="9")o+=n.charCodeAt(0)-joe;else{i(`unexpected token ${n}`);return}t++}r+=String.fromCharCode(o)}else{i(`unexpected token ${n}`);return}else if(n===void 0){i("unexpected end");return}else if(n.charCodeAt(0)>=32)r+=n;else{i(`unexpected token ${n}`);return}return Gs.position=t,r;function i(s){Gs.position=t,Gs.message=s}}Ws.parseJsonString=Gs;Gs.message=void 0;Gs.position=0;Gs.code='require("ajv/dist/runtime/parseJson").parseJsonString'});var VN=w(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});var qoe=e_(),LN=Jo(),de=ge(),Doe=Ds(),Ie=$n(),Loe=gr(),Foe=vp(),Moe=Hw(),a_=NN(),FN=Re(),Boe=zw(),zoe={elements:Goe,values:Woe,discriminator:Joe,properties:jN,optionalProperties:jN,enum:Xoe,type:Yoe,ref:Qoe};function MN(e,t){let r=LN.getCompilingSchema.call(this,e);if(r)return r;let{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new de.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s}),a=o.scopeName("parse"),l={self:this,gen:o,schema:e.schema,schemaEnv:e,definitions:t,data:Ie.default.data,parseName:a,char:o.name("c")},c;try{this._compilations.add(e),e.parseName=a,Hoe(l),o.optimize(this.opts.code.optimize);let u=o.toString();c=`${o.scopeRefs(Ie.default.scope)}return ${u}`;let h=new Function(`${Ie.default.scope}`,c)(this.scope.get());this.scope.value(a,{ref:h}),e.parse=h}catch(u){throw c&&this.logger.error("Error compiling parser, function code:",c),delete e.parse,delete e.parseName,u}finally{this._compilations.delete(e)}return e}d_.default=MN;var o_=(0,de._)`undefined`;function Hoe(e){let{gen:t,parseName:r,char:n}=e;t.func(r,(0,de._)`${Ie.default.json}, ${Ie.default.jsonPos}, ${Ie.default.jsonPart}`,!1,()=>{t.let(Ie.default.data),t.let(n),t.assign((0,de._)`${r}.message`,o_),t.assign((0,de._)`${r}.position`,o_),t.assign(Ie.default.jsonPos,(0,de._)`${Ie.default.jsonPos} || 0`),t.const(Ie.default.jsonLen,(0,de._)`${Ie.default.json}.length`),Sp(e),f_(e),t.if(Ie.default.jsonPart,()=>{t.assign((0,de._)`${r}.position`,Ie.default.jsonPos),t.return(Ie.default.data)}),t.if((0,de._)`${Ie.default.jsonPos} === ${Ie.default.jsonLen}`,()=>t.return(Ie.default.data)),Il(e)})}function Sp(e){let t;for(let r of qoe.jtdForms)if(r in e.schema){t=r;break}t?Voe(e,zoe[t]):c_(e)}var Uoe=DN(!0,DN(!1,Il));function Voe(e,t){let{gen:r,schema:n,data:i}=e;if(!n.nullable)return t(e);Uu(e,"null",t,()=>r.assign(i,null))}function Goe(e){let{gen:t,schema:r,data:n}=e;Si(e,"[");let i=t.let("i",0);t.assign(n,(0,de._)`[]`),l_(e,"]",()=>{let s=t.let("el");Sp({...e,schema:r.elements,data:s}),t.assign((0,de._)`${n}[${i}++]`,s)})}function Woe(e){let{gen:t,schema:r,data:n}=e;Si(e,"{"),t.assign(n,(0,de._)`{}`),l_(e,"}",()=>Koe(e,r.values))}function l_(e,t,r){BN(e,t,r),Si(e,t)}function BN(e,t,r){let{gen:n}=e;n.for((0,de._)`;${Ie.default.jsonPos}<${Ie.default.jsonLen} && ${Rp(1)}!==${t};`,()=>{r(),Uu(e,",",()=>n.break(),i)});function i(){Uu(e,t,()=>{},Il)}}function Koe(e,t){let{gen:r}=e,n=r.let("key");ea({...e,data:n}),Si(e,":"),HN(e,n,t)}function Joe(e){let{gen:t,data:r,schema:n}=e,{discriminator:i,mapping:s}=n;Si(e,"{"),t.assign(r,(0,de._)`{}`);let o=t.const("pos",Ie.default.jsonPos),a=t.let("value"),l=t.let("tag");BN(e,"}",()=>{let c=t.let("key");ea({...e,data:c}),Si(e,":"),t.if((0,de._)`${c} === ${i}`,()=>{ea({...e,data:l}),t.assign((0,de._)`${r}[${c}]`,l),t.break()},()=>c_({...e,data:a}))}),t.assign(Ie.default.jsonPos,o),t.if((0,de._)`${l} === undefined`),ls(e,(0,de.str)`discriminator tag not found`);for(let c in s)t.elseIf((0,de._)`${l} === ${c}`),zN({...e,schema:s[c]},i);t.else(),ls(e,(0,de.str)`discriminator value not in schema`),t.endIf()}function jN(e){let{gen:t,data:r}=e;Si(e,"{"),t.assign(r,(0,de._)`{}`),zN(e)}function zN(e,t){let{gen:r,schema:n,data:i}=e,{properties:s,optionalProperties:o,additionalProperties:a}=n;if(l_(e,"}",()=>{let l=r.let("key");if(ea({...e,data:l}),Si(e,":"),r.if(!1),qN(e,l,s),qN(e,l,o),t){r.elseIf((0,de._)`${l} === ${t}`);let c=r.let("tag");ea({...e,data:c})}r.else(),a?c_({...e,data:(0,de._)`${i}[${l}]`}):ls(e,(0,de.str)`property ${l} not allowed`),r.endIf()}),s){let l=(0,Loe.hasPropFunc)(r),c=(0,de.and)(...Object.keys(s).map(u=>(0,de._)`${l}.call(${i}, ${u})`));r.if((0,de.not)(c),()=>ls(e,(0,de.str)`missing required properties`))}}function qN(e,t,r={}){let{gen:n}=e;for(let i in r)n.elseIf((0,de._)`${t} === ${i}`),HN(e,t,r[i])}function HN(e,t,r){Sp({...e,schema:r,data:(0,de._)`${e.data}[${t}]`})}function Yoe(e){let{gen:t,schema:r,data:n,self:i}=e;switch(r.type){case"boolean":Uoe(e);break;case"string":ea(e);break;case"timestamp":{ea(e);let s=(0,FN.useFunc)(t,Boe.default),{allowDate:o,parseDate:a}=i.opts,l=o?(0,de._)`!${s}(${n}, true)`:(0,de._)`!${s}(${n})`,c=a?(0,de.or)(l,(0,de._)`(${n} = new Date(${n}), false)`,(0,de._)`isNaN(${n}.valueOf())`):l;t.if(c,()=>ls(e,(0,de.str)`invalid timestamp`));break}case"float32":case"float64":s_(e);break;default:{let s=r.type;if(!i.opts.int32range&&(s==="int32"||s==="uint32"))s_(e,16),s==="uint32"&&t.if((0,de._)`${n} < 0`,()=>ls(e,(0,de.str)`integer out of range`));else{let[o,a,l]=Moe.intRange[s];s_(e,l),t.if((0,de._)`${n} < ${o} || ${n} > ${a}`,()=>ls(e,(0,de.str)`integer out of range`))}}}}function ea(e){Si(e,'"'),u_(e,a_.parseJsonString)}function Xoe(e){let{gen:t,data:r,schema:n}=e,i=n.enum;Si(e,'"'),t.if(!1);for(let s of i){let o=JSON.stringify(s).slice(1);t.elseIf((0,de._)`${Rp(o.length)} === ${o}`),t.assign(r,(0,de.str)`${s}`),t.add(Ie.default.jsonPos,o.length)}t.else(),Il(e),t.endIf()}function s_(e,t){let{gen:r}=e;f_(e),r.if((0,de._)`"-0123456789".indexOf(${Rp(1)}) < 0`,()=>Il(e),()=>u_(e,a_.parseJsonNumber,t))}function DN(e,t){return r=>{let{gen:n,data:i}=r;Uu(r,`${e}`,()=>t(r),()=>n.assign(i,e))}}function Qoe(e){let{gen:t,self:r,definitions:n,schema:i,schemaEnv:s}=e,{ref:o}=i,a=n[o];if(!a)throw new Doe.default(r.opts.uriResolver,"",o,`No definition ${o}`);if(!(0,Foe.hasRef)(a))return Sp({...e,schema:a});let{root:l}=s,c=MN.call(r,new LN.SchemaEnv({schema:a,root:l}),n);UN(e,Zoe(t,c),!0)}function Zoe(e,t){return t.parse?e.scopeValue("parse",{ref:t.parse}):(0,de._)`${e.scopeValue("wrapper",{ref:t})}.parse`}function c_(e){u_(e,a_.parseJson)}function u_(e,t,r){UN(e,(0,FN.useFunc)(e.gen,t),r)}function UN(e,t,r){let{gen:n,data:i}=e;n.assign(i,(0,de._)`${t}(${Ie.default.json}, ${Ie.default.jsonPos}${r?(0,de._)`, ${r}`:de.nil})`),n.assign(Ie.default.jsonPos,(0,de._)`${t}.position`),n.if((0,de._)`${i} === undefined`,()=>ls(e,(0,de._)`${t}.message`))}function Si(e,t){Uu(e,t,Il)}function Uu(e,t,r,n){let{gen:i}=e,s=t.length;f_(e),i.if((0,de._)`${Rp(s)} === ${t}`,()=>{i.add(Ie.default.jsonPos,s),n?.(e)},()=>r(e))}function f_({gen:e,char:t}){e.code((0,de._)`while((${t}=${Ie.default.json}[${Ie.default.jsonPos}],${t}===" "||${t}==="\\n"||${t}==="\\r"||${t}==="\\t"))${Ie.default.jsonPos}++;`)}function Rp(e){return e===1?(0,de._)`${Ie.default.json}[${Ie.default.jsonPos}]`:(0,de._)`${Ie.default.json}.slice(${Ie.default.jsonPos}, ${Ie.default.jsonPos}+${e})`}function Il(e){ls(e,(0,de._)`"unexpected token " + ${Ie.default.json}[${Ie.default.jsonPos}]`)}function ls({gen:e,parseName:t},r){e.assign((0,de._)`${t}.message`,r),e.assign((0,de._)`${t}.position`,Ie.default.jsonPos),e.return(o_)}});var p_=w((Tt,GN)=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.MissingRefError=Tt.ValidationError=Tt.CodeGen=Tt.Name=Tt.nil=Tt.stringify=Tt.str=Tt._=Tt.KeywordCxt=void 0;var eae=jv(),tae=wN(),rae=SN(),nae=IN(),iae=VN(),h_="JTD-meta-schema",Tp=class extends eae.default{constructor(t={}){super({...t,jtd:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(tae.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(rae.default,h_,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(h_)?h_:void 0)}compileSerializer(t){let r=this._addSchema(t);return r.serialize||this._compileSerializer(r)}compileParser(t){let r=this._addSchema(t);return r.parse||this._compileParser(r)}_compileSerializer(t){if(nae.default.call(this,t,t.schema.definitions||{}),!t.serialize)throw new Error("ajv implementation error");return t.serialize}_compileParser(t){if(iae.default.call(this,t,t.schema.definitions||{}),!t.parse)throw new Error("ajv implementation error");return t.parse}};GN.exports=Tt=Tp;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.default=Tp;var sae=gl();Object.defineProperty(Tt,"KeywordCxt",{enumerable:!0,get:function(){return sae.KeywordCxt}});var $l=ge();Object.defineProperty(Tt,"_",{enumerable:!0,get:function(){return $l._}});Object.defineProperty(Tt,"str",{enumerable:!0,get:function(){return $l.str}});Object.defineProperty(Tt,"stringify",{enumerable:!0,get:function(){return $l.stringify}});Object.defineProperty(Tt,"nil",{enumerable:!0,get:function(){return $l.nil}});Object.defineProperty(Tt,"Name",{enumerable:!0,get:function(){return $l.Name}});Object.defineProperty(Tt,"CodeGen",{enumerable:!0,get:function(){return $l.CodeGen}});var oae=bu();Object.defineProperty(Tt,"ValidationError",{enumerable:!0,get:function(){return oae.default}});var aae=Ds();Object.defineProperty(Tt,"MissingRefError",{enumerable:!0,get:function(){return aae.default}})});var m_=w(($Ae,WN)=>{"use strict";var lae=Aw();WN.exports=Object.freeze({coerceTypes:"array",useDefaults:!0,removeAdditional:!0,uriResolver:lae,addUsedSchema:!1,allErrors:!1})});var YN=w((NAe,JN)=>{"use strict";var cae=hp().default,uae=p_(),KN=m_(),g_=class{constructor(t,r){r.mode==="JTD"?this.ajv=new uae(Object.assign({},KN,r.customOptions)):this.ajv=new cae(Object.assign({},KN,r.customOptions));let n=!0;if(r.plugins&&r.plugins.length>0)for(let s of r.plugins)Array.isArray(s)?(n=n&&s[0].name!=="formatsPlugin",s[0](this.ajv,s[1])):(n=n&&s.name!=="formatsPlugin",s(this.ajv));n&&Cw()(this.ajv);let i=Object.values(t);for(let s of i)this.ajv.addSchema(s)}buildValidatorFunction({schema:t}){if(t.$id){let r=this.ajv.getSchema(t.$id);if(r)return r}return this.ajv.compile(t)}};JN.exports=g_});var QN=w((jAe,XN)=>{"use strict";var fae=p_(),dae=m_(),y_=class{constructor(t,r){this.ajv=new fae(Object.assign({},dae,r))}buildSerializerFunction({schema:t}){return this.ajv.compileSerializer(t)}};XN.exports=y_});var tj=w((Gu,ej)=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var Vu=Mh(),ei=cl();function ZN(e,t){if(!e.opts.code.source)throw new Error("moduleCode: ajv instance must have code.source option");let{_n:r}=e.scope.opts;return typeof t=="function"?i(t.source):t!==void 0?s(t,n):s(e.schemas,a=>a.meta?void 0:e.compile(a.schema));function n(a){let l=e.getSchema(a);if(!l)throw new Error(`moduleCode: no schema with id ${a}`);return l}function i(a){let l={},c=a?.validateName,u=o(l,a);return e.opts.code.esm?`"use strict";${r}export const validate = ${c};${r}export default ${c};${r}${u}`:`"use strict";${r}module.exports = ${c};${r}module.exports.default = ${c};${r}${u}`}function s(a,l){var c;let u={},d=(0,ei._)`"use strict";`;for(let h in a){let f=l(a[h]);if(f){let p=o(u,f.source),m=e.opts.code.esm?(0,ei._)`export const ${(0,ei.getEsmExportName)(h)}`:(0,ei._)`exports${(0,ei.getProperty)(h)}`;d=(0,ei._)`${d}${r}${m} = ${(c=f.source)===null||c===void 0?void 0:c.validateName};${r}${p}`}}return`${d}`}function o(a,l){if(!l)throw new Error('moduleCode: function does not have "source" property');if(h(l.validateName)===Vu.UsedValueState.Completed)return ei.nil;f(l.validateName,Vu.UsedValueState.Started);let c=e.scope.scopeCode(l.scopeValues,a,d),u=new ei._Code(`${c}${r}${l.validateCode}`);return l.evaluated?(0,ei._)`${u}${l.validateName}.evaluated = ${l.evaluated};${r}`:u;function d(p){var m;let v=(m=p.value)===null||m===void 0?void 0:m.ref;if(p.prefix==="validate"&&typeof v=="function")return o(a,v.source);if((p.prefix==="root"||p.prefix==="wrapper")&&typeof v=="object"){let{validate:y,validateName:E}=v;if(!E)throw new Error("ajv internal error");let b=e.opts.code.es5?Vu.varKinds.var:Vu.varKinds.const,g=(0,ei._)`${b} ${p} = {validate: ${E}};`;if(h(E)===Vu.UsedValueState.Started)return g;let P=o(a,y?.source);return(0,ei._)`${g}${r}${P}`}}function h(p){var m;return(m=a[p.prefix])===null||m===void 0?void 0:m.get(p)}function f(p,m){let{prefix:v}=p;(a[v]=a[v]||new Map).set(p,m)}}}ej.exports=Gu=ZN;Object.defineProperty(Gu,"__esModule",{value:!0});Gu.default=ZN});var ij=w((qAe,nj)=>{"use strict";var rj=b_(),hae=tj().default;function pae(e={readMode:!0}){if(e.readMode===!0&&!e.restoreFunction)throw new Error("You must provide a restoreFunction options when readMode ON");if(e.readMode!==!0&&!e.storeFunction)throw new Error("You must provide a storeFunction options when readMode OFF");if(e.readMode===!0)return function(){return function(n){return e.restoreFunction(n)}};let t=rj();return function(n,i={}){(!i.customOptions||!i.customOptions.code)&&(i.customOptions=Object.assign({},i.customOptions,{code:{source:!0}}));let s=t(n,i);return function(o){let a=s(o),l=hae(s[rj.AjvReference].ajv,a);return e.storeFunction(o,l),a}}}nj.exports=pae});var b_=w((DAe,Nl)=>{"use strict";var oj=Symbol.for("fastify.ajv-compiler.reference"),mae=YN(),gae=QN();function v_(e){let t=new Map,r=new Map;return e&&e.jtdSerializer===!0?function(i,s){let o=sj({},s);if(r.has(o))return r.get(o);let a=new gae(i,s),l=a.buildSerializerFunction.bind(a);return r.set(o,l),l}:function(i,s){let o=sj(i,s.customOptions);if(t.has(o))return t.get(o);let a=new mae(i,s),l=a.buildValidatorFunction.bind(a);return t.set(o,l),s.customOptions.code!==void 0&&(l[oj]=a),l}}function sj(e,t){let r=JSON.stringify(e),n=JSON.stringify(t);return`${r}${n}`}Nl.exports=v_;Nl.exports.default=v_;Nl.exports.AjvCompiler=v_;Nl.exports.AjvReference=oj;Nl.exports.StandaloneValidator=ij()});var w_=w((LAe,aj)=>{"use strict";var{buildSchemas:yae}=qc(),bae=Lw(),vae=b_();function wae(e,t){if(e)return new jl(e,t);let r=Object.assign({buildValidator:null,buildSerializer:null},t?.compilersFactory);r.buildValidator||(r.buildValidator=vae()),r.buildSerializer||(r.buildSerializer=bae());let n={bucket:t&&t.bucket||yae,compilersFactory:r,isCustomValidatorCompiler:typeof t?.compilersFactory?.buildValidator=="function",isCustomSerializerCompiler:typeof t?.compilersFactory?.buildValidator=="function"};return new jl(void 0,n)}var jl=class{constructor(t,r){this.opts=r||t&&t.opts,this.addedSchemas=!1,this.compilersFactory=this.opts.compilersFactory,this.isCustomValidatorCompiler=this.opts.isCustomValidatorCompiler||!1,this.isCustomSerializerCompiler=this.opts.isCustomSerializerCompiler||!1,t?(this.schemaBucket=this.opts.bucket(t.getSchemas()),this.validatorCompiler=t.getValidatorCompiler(),this.serializerCompiler=t.getSerializerCompiler(),this.parent=t):this.schemaBucket=this.opts.bucket()}add(t){return this.addedSchemas=!0,this.schemaBucket.add(t)}getSchema(t){return this.schemaBucket.getSchema(t)}getSchemas(){return this.schemaBucket.getSchemas()}setValidatorCompiler(t){this.validatorCompiler=t,this.isCustomValidatorCompiler=!0}setSerializerCompiler(t){this.serializerCompiler=t,this.isCustomSerializerCompiler=!0}getValidatorCompiler(){return this.validatorCompiler||this.parent&&this.parent.getValidatorCompiler()}getSerializerCompiler(){return this.serializerCompiler||this.parent&&this.parent.getSerializerCompiler()}getSerializerBuilder(){return this.compilersFactory.buildSerializer||this.parent&&this.parent.getSerializerBuilder()}getValidatorBuilder(){return this.compilersFactory.buildValidator||this.parent&&this.parent.getValidatorBuilder()}setupValidator(t){this.validatorCompiler!==void 0&&!this.addedSchemas||(this.validatorCompiler=this.getValidatorBuilder()(this.schemaBucket.getSchemas(),t.ajv))}setupSerializer(t){this.serializerCompiler!==void 0&&!this.addedSchemas||(this.serializerCompiler=this.getSerializerBuilder()(this.schemaBucket.getSchemas(),t.serializerOpts))}};jl.buildSchemaController=wae;aj.exports=jl});var T_=w((FAe,R_)=>{"use strict";var __=Eb(),x_=L("assert"),S_=Symbol.for("registered-plugin"),{kTestInternals:_ae}=ar(),{exist:Eae,existReply:xae,existRequest:Sae}=Cb(),{FST_ERR_PLUGIN_VERSION_MISMATCH:Rae}=Kr();function Wu(e){return e[Symbol.for("plugin-meta")]}function Tae(e){let t=lj(e);if(t)return t;let r=L.cache,n=Object.keys(r);for(let i=0;i<n.length;i++){let s=n[i];if(r[s].exports===e)return s}return e.name?e.name:null}function Pae(e){return e.toString().split(`
`).slice(0,2).map(t=>t.trim()).join(" -- ")}function lj(e){return e[Symbol.for("fastify.display-name")]}function cj(e){return!!e[Symbol.for("skip-override")]}function uj(e){let t=Wu(e);if(!t)return;let r=t.dependencies;r&&(x_(Array.isArray(r),"The dependencies should be an array of strings"),r.forEach(n=>{x_(this[S_].indexOf(n)>-1,`The dependency '${n}' of plugin '${t.name}' is not registered`)}))}function fj(e){let t=Wu(e);if(!t)return;let{decorators:r,name:n}=t;r&&(r.fastify&&E_(this,"Fastify",r.fastify,n),r.reply&&E_(this,"Reply",r.reply,n),r.request&&E_(this,"Request",r.request,n))}var Aae={Fastify:Eae,Request:Sae,Reply:xae};function E_(e,t,r,n){x_(Array.isArray(r),"The decorators should be an array of strings"),r.forEach(i=>{let s=typeof n=="string"?` required by '${n}'`:"";if(!Aae[t].call(e,i))throw new Error(`The decorator '${i}'${s} is not present in ${t}`)})}function kae(e){let t=Wu(e);if(!t)return;let r=t.fastify,n=/-rc.+$/.test(this.version);if(!(n===!0&&__.gt(this.version,__.coerce(r))===!0)&&r&&__.satisfies(this.version,r,{includePrerelease:n})===!1)throw new Rae(t.name,r,this.version)}function Oae(e){let t=Wu(e);if(!t)return;let r=t.name;r&&this[S_].push(r)}function Cae(e){return Oae.call(this,e),kae.call(this,e),fj.call(this,e),uj.call(this,e),cj(e)}R_.exports={getPluginName:Tae,getFuncPreview:Pae,registeredPlugins:S_,getDisplayName:lj,registerPlugin:Cae};R_.exports[_ae]={shouldSkipOverride:cj,getMeta:Wu,checkDecorators:fj,checkDependencies:uj}});var hj=w((BAe,dj)=>{"use strict";dj.exports=function(e,t){let n=0;function i(o){return n=n+1&2147483647,`req-${n.toString(36)}`}let s=t||i;return e?function(o){return o.headers[e]||s(o)}:s}});var A_=w((zAe,gj)=>{"use strict";var pj=12,Iae=0,P_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function $ae(e){var t=e.indexOf("%");if(t===-1)return e;for(var r=e.length,n="",i=0,s=0,o=t,a=pj;t>-1&&t<r;){var l=mj(e[t+1],4),c=mj(e[t+2],0),u=l|c,d=P_[u];if(a=P_[256+a+d],s=s<<6|u&P_[364+d],a===pj)n+=e.slice(i,o),n+=s<=65535?String.fromCharCode(s):String.fromCharCode(55232+(s>>10),56320+(s&1023)),s=0,i=t+3,t=o=e.indexOf("%",i);else{if(a===Iae)return null;if(t+=3,t<r&&e.charCodeAt(t)===37)continue;return null}}return n+e.slice(i)}var Nae={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function mj(e,t){var r=Nae[e];return r===void 0?255:r<<t}gj.exports=$ae});var _j=w((HAe,wj)=>{"use strict";var yj=A_(),bj=/\+/g,vj=function(){};vj.prototype=Object.create(null);function jae(e){let t=new vj;if(typeof e!="string")return t;let r=e.length,n="",i="",s=-1,o=-1,a=!1,l=!1,c=!1,u=!1,d=!1,h=0;for(let f=0;f<r+1;f++)if(h=f!==r?e.charCodeAt(f):38,h===38){if(d=o>s,d||(o=f),n=e.slice(s+1,o),d||n.length>0){c&&(n=n.replace(bj," ")),a&&(n=yj(n)||n),d&&(i=e.slice(o+1,f),u&&(i=i.replace(bj," ")),l&&(i=yj(i)||i));let p=t[n];p===void 0?t[n]=i:p.pop?p.push(i):t[n]=[p,i]}i="",s=f,o=f,a=!1,l=!1,c=!1,u=!1}else h===61?o<=s?o=f:l=!0:h===43?o>s?u=!0:c=!0:h===37&&(o>s?l=!0:a=!0);return t}wj.exports=jae});var xj=w((UAe,Ej)=>{var Ri=Array.from({length:256},(e,t)=>"%"+((t<16?"0":"")+t.toString(16)).toUpperCase()),qae=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function Dae(e){let t=e.length;if(t===0)return"";let r="",n=0,i=0;e:for(;i<t;i++){let s=e.charCodeAt(i);for(;s<128;){if(qae[s]!==1&&(n<i&&(r+=e.slice(n,i)),n=i+1,r+=Ri[s]),++i===t)break e;s=e.charCodeAt(i)}if(n<i&&(r+=e.slice(n,i)),s<2048){n=i+1,r+=Ri[192|s>>6]+Ri[128|s&63];continue}if(s<55296||s>=57344){n=i+1,r+=Ri[224|s>>12]+Ri[128|s>>6&63]+Ri[128|s&63];continue}if(++i,i>=t)throw new Error("URI malformed");let o=e.charCodeAt(i)&1023;n=i+1,s=65536+((s&1023)<<10|o),r+=Ri[240|s>>18]+Ri[128|s>>12&63]+Ri[128|s>>6&63]+Ri[128|s&63]}return n===0?e:n<t?r+e.slice(n):r}Ej.exports={encodeString:Dae}});var Tj=w((VAe,Rj)=>{"use strict";var{encodeString:k_}=xj();function Sj(e){let t=typeof e;return t==="string"?k_(e):t==="bigint"?e.toString():t==="boolean"?e?"true":"false":t==="number"&&Number.isFinite(e)?e<1e21?""+e:k_(""+e):""}function Lae(e){let t="";if(e===null||typeof e!="object")return t;let r="&",n=Object.keys(e),i=n.length,s=0;for(let o=0;o<i;o++){let a=n[o],l=e[a],c=k_(a)+"=";if(o&&(t+=r),Array.isArray(l)){s=l.length;for(let u=0;u<s;u++)u&&(t+=r),t+=c,t+=Sj(l[u])}else t+=c,t+=Sj(l)}return t}Rj.exports=Lae});var Oj=w((GAe,Ku)=>{"use strict";var Pj=_j(),Aj=Tj(),kj={parse:Pj,stringify:Aj};Ku.exports=kj;Ku.exports.default=kj;Ku.exports.parse=Pj;Ku.exports.stringify=Aj});var Ju=w((WAe,Cj)=>{Cj.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}});var C_=w(Ks=>{var Je=Ju(),O_=()=>[{type:Je.RANGE,from:48,to:57}],Ij=()=>[{type:Je.CHAR,value:95},{type:Je.RANGE,from:97,to:122},{type:Je.RANGE,from:65,to:90}].concat(O_()),$j=()=>[{type:Je.CHAR,value:9},{type:Je.CHAR,value:10},{type:Je.CHAR,value:11},{type:Je.CHAR,value:12},{type:Je.CHAR,value:13},{type:Je.CHAR,value:32},{type:Je.CHAR,value:160},{type:Je.CHAR,value:5760},{type:Je.RANGE,from:8192,to:8202},{type:Je.CHAR,value:8232},{type:Je.CHAR,value:8233},{type:Je.CHAR,value:8239},{type:Je.CHAR,value:8287},{type:Je.CHAR,value:12288},{type:Je.CHAR,value:65279}],Fae=()=>[{type:Je.CHAR,value:10},{type:Je.CHAR,value:13},{type:Je.CHAR,value:8232},{type:Je.CHAR,value:8233}];Ks.words=()=>({type:Je.SET,set:Ij(),not:!1});Ks.notWords=()=>({type:Je.SET,set:Ij(),not:!0});Ks.ints=()=>({type:Je.SET,set:O_(),not:!1});Ks.notInts=()=>({type:Je.SET,set:O_(),not:!0});Ks.whitespace=()=>({type:Je.SET,set:$j(),not:!1});Ks.notWhitespace=()=>({type:Je.SET,set:$j(),not:!0});Ks.anyChar=()=>({type:Je.SET,set:Fae(),not:!0})});var jj=w(Yu=>{var Nj=Ju(),ql=C_(),Mae="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",Bae={0:0,t:9,n:10,v:11,f:12,r:13};Yu.strToChars=function(e){var t=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return e=e.replace(t,function(r,n,i,s,o,a,l,c){if(i)return r;var u=n?8:s?parseInt(s,16):o?parseInt(o,16):a?parseInt(a,8):l?Mae.indexOf(l):Bae[c],d=String.fromCharCode(u);return/[[\]{}^$.|?*+()]/.test(d)&&(d="\\"+d),d}),e};Yu.tokenizeClass=(e,t)=>{for(var r=[],n=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,i,s;(i=n.exec(e))!=null;)if(i[1])r.push(ql.words());else if(i[2])r.push(ql.ints());else if(i[3])r.push(ql.whitespace());else if(i[4])r.push(ql.notWords());else if(i[5])r.push(ql.notInts());else if(i[6])r.push(ql.notWhitespace());else if(i[7])r.push({type:Nj.RANGE,from:(i[8]||i[9]).charCodeAt(0),to:i[10].charCodeAt(0)});else if(s=i[12])r.push({type:Nj.CHAR,value:s.charCodeAt(0)});else return[r,n.lastIndex];Yu.error(t,"Unterminated character class")};Yu.error=(e,t)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}});var qj=w(Xu=>{var Pp=Ju();Xu.wordBoundary=()=>({type:Pp.POSITION,value:"b"});Xu.nonWordBoundary=()=>({type:Pp.POSITION,value:"B"});Xu.begin=()=>({type:Pp.POSITION,value:"^"});Xu.end=()=>({type:Pp.POSITION,value:"$"})});var Dj=w((XAe,I_)=>{var Dl=jj(),qn=Ju(),ta=C_(),Ap=qj();I_.exports=e=>{var t=0,r,n,i={type:qn.ROOT,stack:[]},s=i,o=i.stack,a=[],l=y=>{Dl.error(e,`Nothing to repeat at column ${y-1}`)},c=Dl.strToChars(e);for(r=c.length;t<r;)switch(n=c[t++],n){case"\\":switch(n=c[t++],n){case"b":o.push(Ap.wordBoundary());break;case"B":o.push(Ap.nonWordBoundary());break;case"w":o.push(ta.words());break;case"W":o.push(ta.notWords());break;case"d":o.push(ta.ints());break;case"D":o.push(ta.notInts());break;case"s":o.push(ta.whitespace());break;case"S":o.push(ta.notWhitespace());break;default:/\d/.test(n)?o.push({type:qn.REFERENCE,value:parseInt(n,10)}):o.push({type:qn.CHAR,value:n.charCodeAt(0)})}break;case"^":o.push(Ap.begin());break;case"$":o.push(Ap.end());break;case"[":var u;c[t]==="^"?(u=!0,t++):u=!1;var d=Dl.tokenizeClass(c.slice(t),e);t+=d[1],o.push({type:qn.SET,set:d[0],not:u});break;case".":o.push(ta.anyChar());break;case"(":var h={type:qn.GROUP,stack:[],remember:!0};n=c[t],n==="?"&&(n=c[t+1],t+=2,n==="="?h.followedBy=!0:n==="!"?h.notFollowedBy=!0:n!==":"&&Dl.error(e,`Invalid group, character '${n}' after '?' at column ${t-1}`),h.remember=!1),o.push(h),a.push(s),s=h,o=h.stack;break;case")":a.length===0&&Dl.error(e,`Unmatched ) at column ${t-1}`),s=a.pop(),o=s.options?s.options[s.options.length-1]:s.stack;break;case"|":s.options||(s.options=[s.stack],delete s.stack);var f=[];s.options.push(f),o=f;break;case"{":var p=/^(\d+)(,(\d+)?)?\}/.exec(c.slice(t)),m,v;p!==null?(o.length===0&&l(t),m=parseInt(p[1],10),v=p[2]?p[3]?parseInt(p[3],10):1/0:m,t+=p[0].length,o.push({type:qn.REPETITION,min:m,max:v,value:o.pop()})):o.push({type:qn.CHAR,value:123});break;case"?":o.length===0&&l(t),o.push({type:qn.REPETITION,min:0,max:1,value:o.pop()});break;case"+":o.length===0&&l(t),o.push({type:qn.REPETITION,min:1,max:1/0,value:o.pop()});break;case"*":o.length===0&&l(t),o.push({type:qn.REPETITION,min:0,max:1/0,value:o.pop()});break;default:o.push({type:qn.CHAR,value:n.charCodeAt(0)})}return a.length!==0&&Dl.error(e,"Unterminated group"),i};I_.exports.types=qn});var Mj=w((QAe,Fj)=>{"use strict";var Lj=Dj(),zae=Lj.types;Fj.exports=function(e,t){t||(t={});var r=t.limit===void 0?25:t.limit;Hae(e)?e=e.source:typeof e!="string"&&(e=String(e));try{e=Lj(e)}catch{return!1}var n=0;return function i(s,o){var a,l,c;if(s.type===zae.REPETITION&&(o++,n++,o>1||n>r))return!1;if(s.options){for(a=0,c=s.options.length;a<c;a++)if(l=i({stack:s.options[a]},o),!l)return!1}var u=s.stack||s.value&&s.value.stack;if(!u)return!0;for(a=0;a<u.length;a++)if(l=i(u[a],o),!l)return!1;return!0}(e,0)};function Hae(e){return{}.toString.call(e)==="[object RegExp]"}});var Jj=w((ZAe,Kj)=>{"use strict";var Ll="    ",Fl="\u2502   ",Bj="\u251C\u2500\u2500 ",zj="\u2514\u2500\u2500 ",Hj="*",Op="/",Uj=/(?=\/)/;function Uae(e){let t=e.name||"";return t=t.replace("bound","").trim(),t=(t||"anonymous")+"()",t}function Vj(e){return Array.isArray(e)?e.map(t=>Vj(t)):typeof e=="symbol"?e.toString():typeof e=="function"?Uae(e):e}function $_(e,t){let r={},n=this.buildPrettyMeta(e);return Array.isArray(t)||(t=n?Reflect.ownKeys(n):[]),t.forEach(i=>{let s=typeof i=="symbol"?i.toString():i;n&&n[i]&&(r[s]=Vj(n[i]))}),r}function Vae(e,t={}){if(!this.buildPrettyMeta)throw new Error("buildPrettyMeta not defined");t.includeMeta=t.includeMeta||null;let r=[],n="";e.sort((s,o)=>!s.path||!o.path?0:s.path.localeCompare(o.path));for(let s=0;s<e.length;s++){let o=e[s],a=r.find(c=>o.path===c.path);if(a){a.handlers.push({method:o.method,opts:o.opts.constraints||void 0,meta:t.includeMeta?$_.call(this,o,t.includeMeta):null});continue}let l={method:o.method,opts:o.opts.constraints||void 0,meta:t.includeMeta?$_.call(this,o,t.includeMeta):null};r.push({path:o.path,methods:[o.method],opts:[o.opts],handlers:[l]})}if(!r.filter(s=>s.path===Op).length){let s={path:Op,truncatedPath:"",methods:[],opts:[],handlers:[{}]};r.filter(o=>o.path===Hj).length?r.splice(1,0,s):r.unshift(s)}let i=Gae(r);return i.forEach((s,o)=>{n+=Gj(s,null,o===i.length-1,!1,!0),n+=`
`}),n}function Gae(e){let t=[],r={result:t};return e.forEach((n,i)=>{let s=n.path.split(Uj);s[0]!==Op&&s[0]!==Hj&&(s=[Op,s[0].slice(1),...s.slice(1)]),s.reduce((o,a,l)=>{if(!o[a]){o[a]={result:[]};let c={path:a,children:o[a].result};l===s.length-1&&(c.handlers=n.handlers),o.result.push(c)}return o[a]},r)}),t}function Gj(e,t,r,n,i){let s="";if(!n&&!i&&(s+=`
`),n||(s+=`${t||""}${r?zj:Bj}`),s+=`${e.path}`,e.handlers){let o=e.handlers.reduce((a,l)=>{let c=a.findIndex(u=>JSON.stringify(u.opts)===JSON.stringify(l.opts));return c!==-1?a[c].method=[a[c].method,l.method].join(", "):a.push(l),a},[]);o.forEach((a,l)=>{l>0&&(s+=`${n?"":t||""}${r?Ll:Fl}${e.path}`),s+=` (${a.method||"-"})`,a.opts&&JSON.stringify(a.opts)!=="{}"&&(s+=` ${JSON.stringify(a.opts)}`),a.meta&&Reflect.ownKeys(a.meta).forEach((c,u)=>{s+=`
${n?"":t||""}${r?Ll:Fl}`,s+=`\u2022 (${c}) ${JSON.stringify(a.meta[c])}`}),o.length>1&&l!==o.length-1&&(s+=`
`)})}else e.children.length>1&&(s+=" (-)");return n||(t=`${t||""}${r?Ll:Fl}`),e.children.forEach((o,a)=>{let l=a===e.children.length-1,c=!e.handlers&&e.children.length===1;s+=Gj(o,t,l,c)}),s}function Wj(e,t,r,n){if(!this.buildPrettyMeta)throw new Error("buildPrettyMeta not defined");n.includeMeta=n.includeMeta||null;let i="",s=[];for(let{node:l,method:c}of e.nodes)for(let u of l.handlerStorage.handlers)s.push({method:c,...u});s.length?s.forEach((l,c)=>{let u=`(${l.method||"-"})`;Object.keys(l.constraints).length>0&&(u+=" "+JSON.stringify(l.constraints));let d="",h=e.prefix.split("").map((f,p)=>f===":"?p:null).filter(f=>f!==null);if(h.length){let f=0;h.forEach((p,m)=>{d+=e.prefix.slice(f,p+1),d+=l.params[l.params.length-h.length+m],m===h.length-1&&(d+=e.prefix.slice(p+1)),f=p+1})}else d=e.prefix;if(c===0?i+=`${d} ${u}`:i+=`
${t}${r?Ll:Fl}${d} ${u}`,n.includeMeta){let f=$_.call(this,l,n.includeMeta);Object.keys(f).forEach((p,m)=>{i+=`
${t||""}${r?Ll:Fl}`,i+=`\u2022 (${p}) ${JSON.stringify(f[p])}`})}}):i=e.prefix;let o=`${t}${r?zj:Bj}${i}
`;t=`${t}${r?Ll:Fl}`;let a=Object.keys(e.children);for(let l=0;l<a.length;l++){let c=e.children[a[l]];o+=Wj.call(this,c,t,l===a.length-1,n)}return o}function kp(e,t,r){if(t.handlerStorage.handlers.length!==0&&e.nodes.push({method:r,node:t}),t.parametricChildren&&t.parametricChildren[0]&&(e.children[":"]||(e.children[":"]={prefix:":",nodes:[],children:{}}),kp(e.children[":"],t.parametricChildren[0],r)),t.wildcardChild&&(e.children["*"]||(e.children["*"]={prefix:"*",nodes:[],children:{}}),kp(e.children["*"],t.wildcardChild,r)),t.staticChildren)for(let n of Object.values(t.staticChildren)){let i=n.prefix.split(Uj),s=e,o;for(let a of i)o=s,s=s.children[a],s||(s={prefix:a,nodes:[],children:{}},o.children[a]=s);kp(s,n,r)}}function N_(e){let t=Object.keys(e.children);if(e.nodes.length===0&&t.length===1){let r=e.children[t[0]];if(r.nodes.length<=1)return N_(r),e.nodes=r.nodes,e.prefix+=r.prefix,e.children=r.children,e}for(let r of Object.keys(e.children))N_(e.children[r]);return e}Kj.exports={flattenNode:kp,compressFlattenedNode:N_,prettyPrintFlattenedNode:Wj,prettyPrintRoutesArray:Vae}});var Xj=w((eke,Yj)=>{"use strict";var j_=class{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(t){return t===void 0?this.unconstrainedHandler:this._getHandlerMatchingConstraints(t)}addHandler(t,r,n,i,s){let o={handler:t,params:r,constraints:s,store:n||null,_createParamsObject:this._compileCreateParamsObject(r)};Object.keys(s).length===0&&(this.unconstrainedHandler=o);for(let a of Object.keys(s))this.constraints.includes(a)||(a==="version"?this.constraints.unshift(a):this.constraints.push(a));if(this.handlers.length>=32)throw new Error("find-my-way supports a maximum of 32 route handlers per node when there are constraints, limit reached");this.handlers.push(o),this.handlers.sort((a,l)=>Object.keys(a.constraints).length-Object.keys(l.constraints).length),this._compileGetHandlerMatchingConstraints(i,s)}_compileCreateParamsObject(t){let r=[];for(let n=0;n<t.length;n++)r.push(`'${t[n]}': paramsArray[${n}]`);return new Function("paramsArray",`return {${r.join(",")}}`)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(t,r){for(let n=0;n<this.handlers.length;n++){let s=this.handlers[n].constraints[r];if(s!==void 0){let o=t.get(s)||0;o|=1<<n,t.set(s,o)}}}_constrainedIndexBitmask(t){let r=0;for(let n=0;n<this.handlers.length;n++)this.handlers[n].constraints[t]!==void 0&&(r|=1<<n);return~r}_compileGetHandlerMatchingConstraints(t){this.constrainedHandlerStores={};for(let n of this.constraints){let i=t.newStoreForConstraint(n);this.constrainedHandlerStores[n]=i,this._buildConstraintStore(i,n)}let r=[];r.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let n of this.constraints){r.push(`
      mask = ${this._constrainedIndexBitmask(n)}
      value = derivedConstraints.${n}
      `);let s=t.strategies[n].mustMatchWhenDerived?"matches":"(matches | mask)";r.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${n}.get(value) || 0
        candidates &= ${s}
      }
      if (candidates === 0) return null;
      `)}for(let n in t.strategies)t.strategies[n].mustMatchWhenDerived&&!this.constraints.includes(n)&&r.push(`if (derivedConstraints.${n} !== undefined) return null`);r.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",r.join(`
`))}};Yj.exports=j_});var Zj=w((tke,Qj)=>{"use strict";var Wae=Xj(),jp={STATIC:0,PARAMETRIC:1,WILDCARD:2},Cp=class{constructor(){this.handlerStorage=new Wae}},Ip=class extends Cp{constructor(){super(),this.staticChildren={}}findStaticMatchingChild(t,r){let n=this.staticChildren[t.charAt(r)];return n===void 0||!n.matchPrefix(t,r)?null:n}createStaticChild(t){if(t.length===0)return this;let r=this.staticChildren[t.charAt(0)];if(r){let i=1;for(;i<r.prefix.length;i++)if(t.charCodeAt(i)!==r.prefix.charCodeAt(i)){r=r.split(this,i);break}return r.createStaticChild(t.slice(i))}let n=t.charAt(0);return this.staticChildren[n]=new Ml(t),this.staticChildren[n]}},Ml=class extends Ip{constructor(t){super(),this.prefix=t,this.wildcardChild=null,this.parametricChildren=[],this.kind=jp.STATIC,this._compilePrefixMatch()}createParametricChild(t){let r=t&&t.source,n=this.parametricChildren.find(i=>(i.regex&&i.regex.source)===r);return n||(n=new $p(t),t?this.parametricChildren.unshift(n):this.parametricChildren.push(n),n)}createWildcardChild(){return this.wildcardChild?this.wildcardChild:(this.wildcardChild=new Np,this.wildcardChild)}split(t,r){let n=this.prefix.slice(0,r),i=this.prefix.slice(r);this.prefix=i,this._compilePrefixMatch();let s=new Ml(n);return s.staticChildren[i.charAt(0)]=this,t.staticChildren[n.charAt(0)]=s,s}getNextNode(t,r,n,i){let s=this.findStaticMatchingChild(t,r),o=0;if(s===null){if(this.parametricChildren.length===0)return this.wildcardChild;s=this.parametricChildren[0],o=1}this.wildcardChild!==null&&n.push({paramsCount:i,brotherPathIndex:r,brotherNode:this.wildcardChild});for(let a=this.parametricChildren.length-1;a>=o;a--)n.push({paramsCount:i,brotherPathIndex:r,brotherNode:this.parametricChildren[a]});return s}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let t=[];for(let r=1;r<this.prefix.length;r++){let n=this.prefix.charCodeAt(r);t.push(`path.charCodeAt(i + ${r}) === ${n}`)}this.matchPrefix=new Function("path","i",`return ${t.join(" && ")}`)}},$p=class extends Ip{constructor(t){super(),this.regex=t||null,this.isRegex=!!t,this.kind=jp.PARAMETRIC}getNextNode(t,r){return this.findStaticMatchingChild(t,r)}},Np=class extends Cp{constructor(){super(),this.kind=jp.WILDCARD}getNextNode(){return null}};Qj.exports={StaticNode:Ml,ParametricNode:$p,WildcardNode:Np,NODE_TYPES:jp}});var tq=w((rke,eq)=>{"use strict";var Kae=L("assert");function Qu(){if(!(this instanceof Qu))return new Qu;this.store={},this.maxMajor=0,this.maxMinors={},this.maxPatches={}}Qu.prototype.set=function(e,t){if(typeof e!="string")throw new TypeError("Version should be a string");let[r,n,i]=e.split(".");return r=Number(r)||0,n=Number(n)||0,i=Number(i)||0,r>=this.maxMajor&&(this.maxMajor=r,this.store.x=t,this.store["*"]=t,this.store["x.x"]=t,this.store["x.x.x"]=t),n>=(this.maxMinors[r]||0)&&(this.maxMinors[r]=n,this.store[`${r}.x`]=t,this.store[`${r}.x.x`]=t),i>=(this.store[`${r}.${n}`]||0)&&(this.maxPatches[`${r}.${n}`]=i,this.store[`${r}.${n}.x`]=t),this.store[`${r}.${n}.${i}`]=t,this};Qu.prototype.get=function(e){return this.store[e]};eq.exports={name:"version",mustMatchWhenDerived:!0,storage:Qu,validate(e){Kae(typeof e=="string","Version should be a string")}}});var nq=w((nke,rq)=>{"use strict";var Jae=L("assert");function Yae(){let e={},t=[];return{get:r=>{let n=e[r];if(n)return n;for(let i of t)if(i.host.test(r))return i.value},set:(r,n)=>{r instanceof RegExp?t.push({host:r,value:n}):e[r]=n}}}rq.exports={name:"host",mustMatchWhenDerived:!1,storage:Yae,validate(e){Jae(typeof e=="string"||Object.prototype.toString.call(e)==="[object RegExp]","Host should be a string or a RegExp")}}});var sq=w((ike,iq)=>{"use strict";var Xae=tq(),Qae=nq(),q_=L("assert"),D_=class{constructor(t){if(this.strategies={version:Xae,host:Qae},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,t)for(let r of Object.values(t))this.addConstraintStrategy(r)}isStrategyUsed(t){return this.strategiesInUse.has(t)||this.asyncStrategiesInUse.has(t)}hasConstraintStrategy(t){let r=this.strategies[t];return r!==void 0?r.isCustom||this.isStrategyUsed(t):!1}addConstraintStrategy(t){if(q_(typeof t.name=="string"&&t.name!=="","strategy.name is required."),q_(t.storage&&typeof t.storage=="function","strategy.storage function is required."),q_(t.deriveConstraint&&typeof t.deriveConstraint=="function","strategy.deriveConstraint function is required."),this.strategies[t.name]&&this.strategies[t.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${t.name}.`);if(this.isStrategyUsed(t.name))throw new Error(`There already exists a route with ${t.name} constraint.`);t.isCustom=!0,t.isAsync=t.deriveConstraint.length===3,this.strategies[t.name]=t,t.mustMatchWhenDerived&&this.noteUsage({[t.name]:t})}deriveConstraints(t,r,n){let i=this.deriveSyncConstraints(t,r);if(n===void 0)return i;this.deriveAsyncConstraints(i,t,r,n)}deriveSyncConstraints(t,r){}noteUsage(t){if(t){let r=this.strategiesInUse.size;for(let n in t)this.strategies[n].isAsync?this.asyncStrategiesInUse.add(n):this.strategiesInUse.add(n);r!==this.strategiesInUse.size&&this._buildDeriveConstraints()}}newStoreForConstraint(t){if(!this.strategies[t])throw new Error(`No strategy registered for constraint key ${t}`);return this.strategies[t].storage()}validateConstraints(t){for(let r in t){let n=t[r];if(typeof n>"u")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let i=this.strategies[r];if(!i)throw new Error(`No strategy registered for constraint key ${r}`);i.validate&&i.validate(n)}}deriveAsyncConstraints(t,r,n,i){let s=this.asyncStrategiesInUse.size;if(s===0){i(null,t);return}t=t||{};for(let o of this.asyncStrategiesInUse)this.strategies[o].deriveConstraint(r,n,(l,c)=>{if(l!==null){i(l);return}t[o]=c,--s===0&&i(null,t)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let t=["return {"];for(let r of this.strategiesInUse){let n=this.strategies[r];if(n.isCustom)t.push(`  ${n.name}: this.strategies.${r}.deriveConstraint(req, ctx),`);else if(r==="version")t.push("   version: req.headers['accept-version'],");else if(r==="host")t.push("   host: req.headers.host || req.headers[':authority'],");else throw new Error("unknown non-custom strategy for compiling constraint derivation function")}t.push("}"),this.deriveSyncConstraints=new Function("req","ctx",t.join(`
`)).bind(this)}};iq.exports=D_});var aq=w((ske,oq)=>{"use strict";var Zae=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];oq.exports=Zae});var uq=w((oke,cq)=>{"use strict";function lq(e,t){return e===50?t===53?"%":t===51?"#":t===52?"$":t===54?"&":t===66||t===98?"+":t===67||t===99?",":t===70||t===102?"/":null:e===51?t===65||t===97?":":t===66||t===98?";":t===68||t===100?"=":t===70||t===102?"?":null:e===52&&t===48?"@":null}function ele(e){let t=!1,r=!1,n="";for(let s=1;s<e.length;s++){let o=e.charCodeAt(s);if(o===37){let a=e.charCodeAt(s+1),l=e.charCodeAt(s+2);lq(a,l)===null?t=!0:(r=!0,a===50&&l===53&&(t=!0,e=e.slice(0,s+1)+"25"+e.slice(s+1),s+=2),s+=2)}else if(o===63||o===59||o===35){n=e.slice(s+1),e=e.slice(0,s);break}}return{path:t?decodeURI(e):e,querystring:n,shouldDecodeParam:r}}function tle(e){let t=e.indexOf("%");if(t===-1)return e;let r="",n=t;for(let i=t;i<e.length;i++)if(e.charCodeAt(i)===37){let s=e.charCodeAt(i+1),o=e.charCodeAt(i+2),a=lq(s,o);r+=e.slice(n,i)+a,n=i+3}return e.slice(0,t)+r+e.slice(n)}cq.exports={safeDecodeURI:ele,safeDecodeURIComponent:tle}});var H_=w((ake,mq)=>{"use strict";var zt=L("assert"),rle=Oj(),M_=Mj(),hq=nu(),{flattenNode:nle,compressFlattenedNode:ile,prettyPrintFlattenedNode:sle,prettyPrintRoutesArray:ole}=Jj(),{StaticNode:fq,NODE_TYPES:L_}=Zj(),ale=sq(),Bl=aq(),{safeDecodeURI:lle,safeDecodeURIComponent:dq}=uq(),pq=/^https?:\/\/.*?\//,ra=/(\/:[^/()]*?)\?(\/?)/;if(!M_(pq))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!M_(ra))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");function Ht(e){if(!(this instanceof Ht))return new Ht(e);e=e||{},e.defaultRoute?(zt(typeof e.defaultRoute=="function","The default route must be a function"),this.defaultRoute=e.defaultRoute):this.defaultRoute=null,e.onBadUrl?(zt(typeof e.onBadUrl=="function","The bad url handler must be a function"),this.onBadUrl=e.onBadUrl):this.onBadUrl=null,e.buildPrettyMeta?(zt(typeof e.buildPrettyMeta=="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=e.buildPrettyMeta):this.buildPrettyMeta=dle,e.querystringParser?(zt(typeof e.querystringParser=="function","querystringParser must be a function"),this.querystringParser=e.querystringParser):this.querystringParser=t=>t===""?{}:rle.parse(t),this.caseSensitive=e.caseSensitive===void 0?!0:e.caseSensitive,this.ignoreTrailingSlash=e.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=e.ignoreDuplicateSlashes||!1,this.maxParamLength=e.maxParamLength||100,this.allowUnsafeRegex=e.allowUnsafeRegex||!1,this.routes=[],this.trees={},this.constrainer=new ale(e.constraints),this._routesPatterns=[]}Ht.prototype.on=function(t,r,n,i,s){typeof n=="function"&&(i!==void 0&&(s=i),i=n,n={}),zt(typeof r=="string","Path should be a string"),zt(r.length>0,"The path could not be empty"),zt(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),zt(typeof i=="function","Handler should be a function");let o=r.match(ra);if(o){zt(r.length===o.index+o[0].length,"Optional Parameter needs to be the last parameter of the path");let c=r.replace(ra,"$1$2"),u=r.replace(ra,"$2");this.on(t,c,n,i,s),this.on(t,u,n,i,s);return}let a=r;this.ignoreDuplicateSlashes&&(r=B_(r)),this.ignoreTrailingSlash&&(r=z_(r));let l=Array.isArray(t)?t:[t];for(let c of l)this._on(c,r,n,i,s,a),this.routes.push({method:c,path:r,opts:n,handler:i,store:s})};Ht.prototype._on=function(t,r,n,i,s){zt(typeof t=="string","Method should be a string"),zt(Bl.includes(t),`Method '${t}' is not an http method.`);let o={};if(n.constraints!==void 0&&(zt(typeof n.constraints=="object"&&n.constraints!==null,"Constraints should be an object"),Object.keys(n.constraints).length!==0&&(o=n.constraints)),this.constrainer.validateConstraints(o),this.constrainer.noteUsage(o),this.trees[t]===void 0&&(this.trees[t]=new fq("/")),r==="*"&&this.trees[t].prefix.length!==0){let d=this.trees[t];this.trees[t]=new fq(""),this.trees[t].staticChildren["/"]=d}let a=this.trees[t],l=a.prefix.length,c=[];for(let d=0;d<=r.length;d++){if(r.charCodeAt(d)===58&&r.charCodeAt(d+1)===58){d++;continue}let h=r.charCodeAt(d)===58&&r.charCodeAt(d+1)!==58,f=r.charCodeAt(d)===42;if(h||f||d===r.length&&d!==l){let p=r.slice(l,d);this.caseSensitive||(p=p.toLowerCase()),p=p.split("::").join(":"),p=p.split("%").join("%25"),a=a.createStaticChild(p)}if(h){let p=!1,m=[],v=0,y=d+1;for(let b=y;;b++){let g=r.charCodeAt(b);if(g===40||g===45||g===46){p=!0;let P=r.slice(y,b);if(c.push(P),g===40){let C=fle(r,b),q=r.slice(b,C+1);this.allowUnsafeRegex||zt(M_(new RegExp(q)),`The regex '${q}' is not safe!`),m.push(ule(q)),b=C+1}else m.push("(.*?)");let O=b;for(;O<r.length;O++){let C=r.charCodeAt(O),q=r.charCodeAt(O+1);if(C===58&&q===58){O++;continue}if(C===58||C===47)break}let R=r.slice(b,O);R&&(R=R.split("::").join(":"),R=R.split("%").join("%25"),m.push(cle(R))),y=O+1,b=O,(r.charCodeAt(b)===47||b===r.length)&&(v=R.length)}else if(g===47||b===r.length){let P=r.slice(y,b);c.push(P),m.length!==0&&m.push("(.*?)")}if(r.charCodeAt(b)===47||b===r.length){r=r.slice(0,d+1)+r.slice(b-v),d+=v;break}}let E=null;p&&(E=new RegExp("^"+m.join("")+"$")),a=a.createParametricChild(E),l=d+1}else if(f&&(c.push("*"),a=a.createWildcardChild(),l=d+1,d!==r.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(r=r.toLowerCase());let u=r==="*"||r==="/*";for(let d of this._routesPatterns){let h=!1;if((d.path===r||u&&(d.path==="/*"||d.path==="*"))&&(h=!0),h&&d.method===t&&hq(d.constraints,o))throw new Error(`Method '${t}' already declared for route '${r}' with constraints '${JSON.stringify(o)}'`)}this._routesPatterns.push({method:t,path:r,constraints:o}),a.handlerStorage.addHandler(i,c,s,this.constrainer,o)};Ht.prototype.hasConstraintStrategy=function(e){return this.constrainer.hasConstraintStrategy(e)};Ht.prototype.addConstraintStrategy=function(e){this.constrainer.addConstraintStrategy(e),this._rebuild(this.routes)};Ht.prototype.reset=function(){this.trees={},this.routes=[],this._routesPatterns=[]};Ht.prototype.off=function(t,r,n){zt(typeof r=="string","Path should be a string"),zt(r.length>0,"The path could not be empty"),zt(r[0]==="/"||r[0]==="*","The first character of a path should be `/` or `*`"),zt(typeof n>"u"||typeof n=="object"&&!Array.isArray(n)&&n!==null,"Constraints should be an object or undefined.");let i=r.match(ra);if(i){zt(r.length===i.index+i[0].length,"Optional Parameter needs to be the last parameter of the path");let o=r.replace(ra,"$1$2"),a=r.replace(ra,"$2");this.off(t,o,n),this.off(t,a,n);return}this.ignoreDuplicateSlashes&&(r=B_(r)),this.ignoreTrailingSlash&&(r=z_(r));let s=Array.isArray(t)?t:[t];for(let o of s)this._off(o,r,n)};Ht.prototype._off=function(t,r,n){zt(typeof t=="string","Method should be a string"),zt(Bl.includes(t),`Method '${t}' is not an http method.`);function i(l){return t!==l.method||r!==l.path}function s(l){return i(l)||!hq(n,l.opts.constraints||{})}let o=n?s:i,a=this.routes.filter(o);this._rebuild(a)};Ht.prototype.lookup=function(t,r,n,i){if(typeof n=="function"&&(i=n,n=void 0),i===void 0){let s=this.constrainer.deriveConstraints(t,n),o=this.find(t.method,t.url,s);return this.callHandler(o,t,r,n)}this.constrainer.deriveConstraints(t,n,(s,o)=>{if(s!==null){i(s);return}try{let a=this.find(t.method,t.url,o),l=this.callHandler(a,t,r,n);i(null,l)}catch(a){i(a)}})};Ht.prototype.callHandler=function(t,r,n,i){return t===null?this._defaultRoute(r,n,i):i===void 0?t.handler(r,n,t.params,t.store,t.searchParams):t.handler.call(i,r,n,t.params,t.store,t.searchParams)};Ht.prototype.find=function(t,r,n){let i=this.trees[t];if(i===void 0)return null;r.charCodeAt(0)!==47&&(r=r.replace(pq,"/")),this.ignoreDuplicateSlashes&&(r=B_(r));let s,o,a;try{s=lle(r),r=s.path,o=s.querystring,a=s.shouldDecodeParam}catch{return this._onBadUrl(r)}this.ignoreTrailingSlash&&(r=z_(r));let l=r;this.caseSensitive===!1&&(r=r.toLowerCase());let c=this.maxParamLength,u=i.prefix.length,d=[],h=r.length,f=[];for(;;){if(u===h){let m=i.handlerStorage.getMatchingHandler(n);if(m!==null)return{handler:m.handler,store:m.store,params:m._createParamsObject(d),searchParams:this.querystringParser(o)}}let p=i.getNextNode(r,u,f,d.length);if(p===null){if(f.length===0)return null;let m=f.pop();u=m.brotherPathIndex,d.splice(m.paramsCount),p=m.brotherNode}if(i=p,i.kind===L_.STATIC){u+=i.prefix.length;continue}if(i.kind===L_.WILDCARD){let m=l.slice(u);a&&(m=dq(m)),d.push(m),u=h;continue}if(i.kind===L_.PARAMETRIC){let m=l.indexOf("/",u);m===-1&&(m=h);let v=l.slice(u,m);if(a&&(v=dq(v)),i.isRegex){let y=i.regex.exec(v);if(y===null)continue;for(let E=1;E<y.length;E++){let b=y[E];if(b.length>c)return null;d.push(b)}}else{if(v.length>c)return null;d.push(v)}u=m}}};Ht.prototype._rebuild=function(e){this.reset();for(let t of e){let{method:r,path:n,opts:i,handler:s,store:o}=t;this._on(r,n,i,s,o),this.routes.push({method:r,path:n,opts:i,handler:s,store:o})}};Ht.prototype._defaultRoute=function(e,t,r){if(this.defaultRoute!==null)return r===void 0?this.defaultRoute(e,t):this.defaultRoute.call(r,e,t);t.statusCode=404,t.end()};Ht.prototype._onBadUrl=function(e){if(this.onBadUrl===null)return null;let t=this.onBadUrl;return{handler:(r,n,i)=>t(e,r,n),params:{},store:null}};Ht.prototype.prettyPrint=function(e={}){if(e.commonPrefix=e.commonPrefix===void 0?!0:e.commonPrefix,!e.commonPrefix)return ole.call(this,this.routes,e);let t={prefix:"/",nodes:[],children:{}};for(let r in this.trees){let n=this.trees[r];n&&nle(t,n,r)}return ile(t),sle.call(this,t,"",!0,e)};for(F_ in Bl){if(!Bl.hasOwnProperty(F_))continue;let e=Bl[F_],t=e.toLowerCase();if(Ht.prototype[t])throw new Error("Method already exists: "+t);Ht.prototype[t]=function(r,n,i){return this.on(e,r,n,i)}}var F_;Ht.prototype.all=function(e,t,r){this.on(Bl,e,t,r)};mq.exports=Ht;function cle(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B_(e){return e.replace(/\/\/+/g,"/")}function z_(e){return e.length>1&&e.charCodeAt(e.length-1)===47?e.slice(0,-1):e}function ule(e){return e.charCodeAt(1)===94&&(e=e.slice(0,1)+e.slice(2)),e.charCodeAt(e.length-2)===36&&(e=e.slice(0,e.length-2)+e.slice(e.length-1)),e}function fle(e,t){for(var r=1;t<e.length;){if(t++,e[t]==="\\"){t++;continue}if(e[t]===")"?r--:e[t]==="("&&r++,!r)return t}throw new TypeError('Invalid regexp expression in "'+e+'"')}function dle(e){return e?e.store?Object.assign({},e.store):{}:{}}});var U_=w((lke,gq)=>{"use strict";var{kFourOhFourContext:hle,kReplySerializerDefault:ple,kSchemaErrorFormatter:mle,kErrorHandler:gle,kReply:yle,kRequest:ble,kBodyLimit:vle,kLogLevel:wle,kContentTypeParser:_le,kRouteByFastify:Ele,kRequestValidateWeakMap:xle,kReplySerializeWeakMap:Sle,kPublicRouteContext:Rle}=ar();function Tle({schema:e,handler:t,config:r,errorHandler:n,bodyLimit:i,logLevel:s,logSerializers:o,attachValidation:a,validatorCompiler:l,serializerCompiler:c,replySerializer:u,schemaErrorFormatter:d,exposeHeadRoute:h,prefixTrailingSlash:f,server:p,isFastify:m}){this.schema=e,this.handler=t,this.Reply=p[yle],this.Request=p[ble],this.contentTypeParser=p[_le],this.onRequest=null,this.onSend=null,this.onError=null,this.onTimeout=null,this.preHandler=null,this.onResponse=null,this.preSerialization=null,this.config=r,this.errorHandler=n||p[gle],this._middie=null,this._parserOptions={limit:i||p[vle]},this.exposeHeadRoute=h,this.prefixTrailingSlash=f,this.logLevel=s||p[wle],this.logSerializers=o,this[hle]=null,this.attachValidation=a,this[ple]=u,this.schemaErrorFormatter=d||p[mle]||Ale,this[Ele]=m,this[xle]=null,this[Sle]=null,this.validatorCompiler=l||null,this.serializerCompiler=c||null,this[Rle]=Ple(this),this.server=p}function Ple(e){return Object.create(null,{schema:{enumerable:!0,get(){return e.schema}},config:{enumerable:!0,get(){return e.config}}})}function Ale(e,t){let r="",n=", ";for(var i=0;i!==e.length;++i){let s=e[i];r+=t+(s.instancePath||"")+" "+s.message+n}return new Error(r.slice(0,-n.length))}gq.exports=Tle});var bq=w((cke,yq)=>{"use strict";function V_(e,t,r,n){if(r===void 0)return t.header("content-length","0"),n(null,null);if(typeof r.resume=="function")return r.on("error",s=>{t.log.error({err:s},"Error on Stream found for HEAD route")}),r.resume(),n(null,null);let i=""+Buffer.byteLength(r);t.header("content-length",i),n(null,null)}function kle(e){return e==null?V_:Array.isArray(e)?[...e,V_]:[e,V_]}yq.exports={parseHeadOnSendHandlers:kle}});var Nq=w((uke,$q)=>{"use strict";var Ole=H_(),Cle=U_(),vq=Qy(),{hookRunner:Oq,hookIterator:Cq,lifecycleHooks:wq}=Oo(),{supportedMethods:Ile}=Tb(),{normalizeSchema:$le}=qc(),{parseHeadOnSendHandlers:Nle}=bq(),qp=ko(),{compileSchemasForValidation:jle,compileSchemasForSerialization:qle}=Wy(),{FST_ERR_SCH_VALIDATION_BUILD:Dle,FST_ERR_SCH_SERIALIZATION_BUILD:Lle,FST_ERR_DEFAULT_ROUTE_INVALID_TYPE:Fle,FST_ERR_DUPLICATED_ROUTE:Mle,FST_ERR_INVALID_URL:Ble,FST_ERR_SEND_UNDEFINED_ERR:zle,FST_ERR_HOOK_INVALID_HANDLER:_q}=Kr(),{kRoutePrefix:Hle,kLogLevel:Ule,kLogSerializers:Eq,kHooks:xq,kSchemaController:Vle,kOptions:Sq,kReplySerializerDefault:G_,kReplyIsError:Gle,kRequestPayloadStream:Dp,kDisableRequestLogging:Wle,kSchemaErrorFormatter:Kle,kErrorHandler:Rq,kHasBeenDecorated:Tq,kRequestAcceptVersion:W_,kRouteByFastify:K_,kRouteContext:Pq}=ar(),{buildErrorHandler:Jle}=Lc();function Yle(e){let t=Ole(e.config),r,n,i,s,o,a,l,c,u,d,h,f,p,m,v,y=!1;return{setup(q,F){r=F.avvio,n=F.fourOhFour,s=F.logger,o=F.hasLogger,a=F.setupResponseListeners,l=F.throwIfAlreadyStarted,m=F.validateHTTPVersion,p=q.exposeHeadRoutes,i=q.requestIdLogLabel,c=q.genReqId,u=q.disableRequestLogging,d=q.ignoreTrailingSlash,h=q.ignoreDuplicateSlashes,f=Object.prototype.hasOwnProperty.call(q,"return503OnClosing")?q.return503OnClosing:!0,v=F.keepAliveConnections},routing:t.lookup.bind(t),route:R,hasRoute:O,prepareRoute:P,getDefaultRoute:function(){return qp.emit("FSTDEP014"),t.defaultRoute},setDefaultRoute:function(q){if(qp.emit("FSTDEP014"),typeof q!="function")throw new Fle;t.defaultRoute=q},routeHandler:C,closeRoutes:()=>{y=!0},printRoutes:t.prettyPrint.bind(t),addConstraintStrategy:E,hasConstraintStrategy:b,isAsyncConstraint:g};function E(q){return l("Cannot add constraint strategy when fastify instance is already started!"),t.addConstraintStrategy(q)}function b(q){return t.hasConstraintStrategy(q)}function g(){return t.constrainer.asyncStrategiesInUse.size>0}function P({method:q,url:F,options:D,handler:H,isFastify:G}){if(typeof F!="string")throw new Ble(typeof F);if(!H&&typeof D=="function")H=D,D={};else if(H&&typeof H=="function"){if(Object.prototype.toString.call(D)!=="[object Object]")throw new Error(`Options for ${q}:${F} route must be an object`);if(D.handler)throw typeof D.handler=="function"?new Error(`Duplicate handler for ${q}:${F} route is not allowed!`):new Error(`Handler for ${q}:${F} route must be a function`)}return D=Object.assign({},D,{method:q,url:F,path:F,handler:H||D&&D.handler}),R.call(this,{options:D,isFastify:G})}function O({options:q}){return t.find(q.method,q.url||"",q.constraints)!==null}function R({options:q,isFastify:F}){let D={...q},{exposeHeadRoute:H}=D,he=H!=null?H:p,we=he&&q.method==="GET"?{...q}:null;l("Cannot add route when fastify instance is already started!");let Z=D.url||D.path||"";if(Array.isArray(D.method))for(var ye=0;ye<D.method.length;++ye)Aq(D.method[ye],Z,D.schema);else Aq(D.method,Z,D.schema);if(!D.handler)throw new Error(`Missing handler function for ${D.method}:${Z} route.`);if(D.errorHandler!==void 0&&typeof D.errorHandler!="function")throw new Error(`Error Handler for ${D.method}:${Z} route, if defined, must be a function`);Iq(D.bodyLimit);let Ge=this[Hle];if(Z==="/"&&Ge.length>0&&D.method!=="HEAD")switch(D.prefixTrailingSlash){case"slash":re.call(this,{path:Z,isFastify:F});break;case"no-slash":re.call(this,{path:"",isFastify:F});break;case"both":default:re.call(this,{path:"",isFastify:F}),d!==!0&&(h!==!0||!Ge.endsWith("/"))&&re.call(this,{path:Z,prefixing:!0,isFastify:F})}else Z[0]==="/"&&Ge.endsWith("/")?re.call(this,{path:Z.slice(1),isFastify:F}):re.call(this,{path:Z,isFastify:F});return this;function re({path:Be,prefixing:Mt=!1,isFastify:Oe=!1}){let Tr=Ge+Be;if(D.url=Tr,D.path=Tr,D.routePath=Be,D.prefix=Ge,D.logLevel=D.logLevel||this[Ule],(this[Eq]||D.logSerializers)&&(D.logSerializers=Object.assign(Object.create(this[Eq]),D.logSerializers)),D.attachValidation==null&&(D.attachValidation=!1),Mt===!1)for(let U of this[xq].onRoute)U.call(this,D);for(let U of wq)if(D&&U in D){if(Array.isArray(D[U])){for(let X of D[U])if(typeof X!="function")throw new _q(U,Object.prototype.toString.call(X))}else if(D[U]!==void 0&&typeof D[U]!="function")throw new _q(U,Object.prototype.toString.call(D[U]))}let Jt=D.constraints||{},De={...D.config,url:Tr,method:D.method},be=new Cle({schema:D.schema,handler:D.handler.bind(this),config:De,errorHandler:D.errorHandler,bodyLimit:D.bodyLimit,logLevel:D.logLevel,logSerializers:D.logSerializers,attachValidation:D.attachValidation,schemaErrorFormatter:D.schemaErrorFormatter,replySerializer:this[G_],validatorCompiler:D.validatorCompiler,serializerCompiler:D.serializerCompiler,exposeHeadRoute:he,prefixTrailingSlash:D.prefixTrailingSlash||"both",server:this,isFastify:Oe});D.version&&(qp.emit("FSTDEP008"),Jt.version=D.version);let rt=t.find("HEAD",D.url,Jt),Fe=rt!=null;Fe&&!be[K_]&&rt.store[K_]&&t.off(D.method,D.url,{constraints:Jt});try{t.on(D.method,D.url,{constraints:Jt},C,be)}catch(U){if(!be[K_])throw U.message.includes(`Method '${D.method}' already declared for route '${D.url}'`)?new Mle(D.method,D.url):U}if(this.after((U,X)=>{be.errorHandler=D.errorHandler?Jle(this[Rq],D.errorHandler):this[Rq],be._parserOptions.limit=D.bodyLimit||null,be.logLevel=D.logLevel,be.logSerializers=D.logSerializers,be.attachValidation=D.attachValidation,be[G_]=this[G_],be.schemaErrorFormatter=D.schemaErrorFormatter||this[Kle]||be.schemaErrorFormatter,r.once("preReady",()=>{for(let ee of wq){let ne=this[xq][ee].concat(D[ee]||[]).map(nt=>nt.bind(this));be[ee]=ne.length?ne:null}for(;!be.Request[Tq]&&be.Request.parent;)be.Request=be.Request.parent;for(;!be.Reply[Tq]&&be.Reply.parent;)be.Reply=be.Reply.parent;if(n.setContext(this,be),D.schema){be.schema=$le(be.schema,this.initialConfig);let ee=this[Vle];!D.validatorCompiler&&(D.schema.body||D.schema.headers||D.schema.querystring||D.schema.params)&&ee.setupValidator(this[Sq]);try{let ne=typeof D?.validatorCompiler=="function"||ee.isCustomValidatorCompiler;jle(be,D.validatorCompiler||ee.validatorCompiler,ne)}catch(ne){throw new Dle(D.method,Tr,ne.message)}D.schema.response&&!D.serializerCompiler&&ee.setupSerializer(this[Sq]);try{qle(be,D.serializerCompiler||ee.serializerCompiler)}catch(ne){throw new Lle(D.method,Tr,ne.message)}}}),X(U)}),he&&q.method==="GET"&&!Fe){let U=Nle(we.onSend);P.call(this,{method:"HEAD",url:Be,options:{...we,onSend:U},isFastify:!0})}else Fe&&H&&qp.emit("FSTDEP007")}}function C(q,F,D,H,G){if(!m(q.httpVersion)){let Mt='{"error":"HTTP Version Not Supported","message":"HTTP Version Not Supported","statusCode":505}',Oe={"Content-Type":"application/json","Content-Length":Mt.length};F.writeHead(505,Oe),F.end(Mt);return}if(y===!0&&(q.httpVersionMajor!==2&&F.setHeader("Connection","close"),f)){let Mt={"Content-Type":"application/json","Content-Length":"80"};F.writeHead(503,Mt),F.end('{"error":"Service Unavailable","message":"Service Unavailable","statusCode":503}');return}String.prototype.toLowerCase.call(q.headers.connection||"")==="keep-alive"&&v.has(q.socket)===!1&&(v.add(q.socket),q.socket.on("close",Zle.bind({keepAliveConnections:v,socket:q.socket}))),q.headers[W_]!==void 0&&(q.headers["accept-version"]=q.headers[W_],q.headers[W_]=void 0);let we=c(q),Z={[i]:we},ye={level:H.logLevel};H.logSerializers&&(ye.serializers=H.logSerializers);let Ge=s.child(Z,ye);Ge[Wle]=u;let re=new H.Request(we,D,q,G,Ge,H),Be=new H.Reply(F,re,Ge);u===!1&&Ge.info({req:re},"incoming request"),(o===!0||H.onResponse!==null)&&a(Be),H.onRequest!==null?Oq(H.onRequest,Cq,re,Be,kq):kq(null,re,Be),H.onTimeout!==null&&(re.raw.socket._meta||re.raw.socket.on("timeout",Xle),re.raw.socket._meta={context:H,request:re,reply:Be})}}function Xle(){let{context:e,request:t,reply:r}=this._meta;Oq(e.onTimeout,Cq,t,r,ece)}function Aq(e,t,r){if(Ile.indexOf(e)===-1)throw new Error(`${e} method is not supported!`);if((e==="GET"||e==="HEAD")&&r&&r.body)throw new Error(`Body validation schema for ${e}:${t} route is not supported!`)}function Iq(e){if(e!==void 0&&(!Number.isInteger(e)||e<=0))throw new TypeError(`'bodyLimit' option must be an integer > 0. Got '${e}'`)}function kq(e,t,r){if(r.sent!==!0){if(e!=null){r[Gle]=!0,r.send(e);return}t[Dp]=t.raw,t[Pq].preParsing!==null?Qle(t[Pq].preParsing,t,r,vq):vq(null,t,r)}}function Qle(e,t,r,n){let i=0;function s(l,c){if(r.sent)return;if(typeof c<"u"&&(t[Dp]=c),l||i===e.length){n(l,t,r);return}let u=e[i++],d;try{d=u(t,r,t[Dp],s)}catch(h){s(h);return}d&&typeof d.then=="function"&&d.then(o,a)}function o(l){s(null,l)}function a(l){l||(l=new zle),s(l)}s(null,t[Dp])}function Zle(){this.keepAliveConnections.delete(this.socket)}function ece(){}$q.exports={buildRouting:Yle,validateBodyLimitOption:Iq}});var Mq=w((fke,Fq)=>{"use strict";var tce=H_(),jq=hh(),qq=kh(),rce=U_(),{kRoutePrefix:nce,kCanSetNotFoundHandler:Zu,kFourOhFourLevelInstance:Lp,kFourOhFourContext:cs,kHooks:ice,kErrorHandler:Dq}=ar(),{lifecycleHooks:sce}=Oo(),{buildErrorHandler:Lq}=Lc(),oce={config:{},onSend:[],onError:[],errorHandler:Lq()};function ace(e){let{logger:t,genReqId:r}=e,n=tce({onBadUrl:a(),defaultRoute:d}),i=null;return{router:n,setNotFoundHandler:c,setContext:l,arrange404:s};function s(h){h[Lp]=h,h[Zu]=!0,n.onBadUrl=n.onBadUrl.bind(h)}function o(h,f){let{url:p,method:m}=h.raw,v=`Route ${m}:${p} not found`;h.log.info(v),f.code(404).send({message:v,error:"Not Found",statusCode:404})}function a(){return function(f,p,m){let v=r(p),y=t.child({reqId:v}),E=this[Lp][cs],b=new qq(v,null,p,null,y,E),g=new jq(m,b,y);i(b,g)}}function l(h,f){let p=Object.assign({},h[cs]);p.onSend=f.onSend,f[cs]=p}function c(h,f,p,m){this[Zu]===void 0&&(this[Zu]=!0),this[cs]===void 0&&(this[cs]=null);let v=this,y=this[nce]||"/";if(this[Zu]===!1)throw new Error(`Not found handler already set for Fastify instance with prefix: '${y}'`);typeof h=="object"&&(h.preHandler&&(Array.isArray(h.preHandler)?h.preHandler=h.preHandler.map(E=>E.bind(v)):h.preHandler=h.preHandler.bind(v)),h.preValidation&&(Array.isArray(h.preValidation)?h.preValidation=h.preValidation.map(E=>E.bind(v)):h.preValidation=h.preValidation.bind(v))),typeof h=="function"&&(f=h,h=void 0),h=h||{},f?(this[Lp][Zu]=!1,f=f.bind(this),i=f):(f=o,i=o),this.after((E,b)=>{u.call(this,y,h,f,p,m),b(E)})}function u(h,f,p,m,v){let y=new rce({schema:f.schema,handler:p,config:f.config||{},server:this});if(m.once("preReady",()=>{let E=this[cs];for(let b of sce){let g=this[ice][b].concat(f[b]||[]).map(P=>P.bind(this));E[b]=g.length?g:null}E.errorHandler=f.errorHandler?Lq(this[Dq],f.errorHandler):this[Dq]}),this[cs]!==null&&h==="/"){Object.assign(this[cs],y);return}this[Lp][cs]=y,n.all(h+(h.endsWith("/")?"*":"/*"),v,y),n.all(h,v,y)}function d(h,f){let p=r(h),m=t.child({reqId:p});m.info({req:h},"incoming request");let v=new qq(p,null,h,null,m,oce),y=new jq(f,v,m);v.log.warn("the default handler for 404 did not catch this, this is likely a fastify bug, please report it"),v.log.warn(n.prettyPrint()),y.code(404).send(new Error("Not Found"))}}Fq.exports=ace});var zq=w((dke,Fp)=>{"use strict";Fp.exports=Ve;Fp.exports.default=Ve;var Bq={type:"object",additionalProperties:!1,properties:{connectionTimeout:{type:"integer",default:0},keepAliveTimeout:{type:"integer",default:72e3},forceCloseConnections:{oneOf:[{type:"string",pattern:"idle"},{type:"boolean"}]},maxRequestsPerSocket:{type:"integer",default:0,nullable:!0},requestTimeout:{type:"integer",default:0},bodyLimit:{type:"integer",default:1048576},caseSensitive:{type:"boolean",default:!0},allowUnsafeRegex:{type:"boolean",default:!1},http2:{type:"boolean"},https:{if:{not:{oneOf:[{type:"boolean"},{type:"null"},{type:"object",additionalProperties:!1,required:["allowHTTP1"],properties:{allowHTTP1:{type:"boolean"}}}]}},then:{setDefaultValue:!0}},ignoreTrailingSlash:{type:"boolean",default:!1},ignoreDuplicateSlashes:{type:"boolean",default:!1},disableRequestLogging:{type:"boolean",default:!1},jsonShorthand:{type:"boolean",default:!0},maxParamLength:{type:"integer",default:100},onProtoPoisoning:{type:"string",default:"error"},onConstructorPoisoning:{type:"string",default:"error"},pluginTimeout:{type:"integer",default:1e4},requestIdHeader:{anyOf:[{enum:[!1]},{type:"string"}],default:"request-id"},requestIdLogLabel:{type:"string",default:"reqId"},http2SessionTimeout:{type:"integer",default:72e3},exposeHeadRoutes:{type:"boolean",default:!0},versioning:{type:"object",additionalProperties:!0,required:["storage","deriveVersion"],properties:{storage:{},deriveVersion:{}}},constraints:{type:"object",additionalProperties:{type:"object",required:["name","storage","validate","deriveConstraint"],additionalProperties:!0,properties:{name:{type:"string"},storage:{},validate:{},deriveConstraint:{}}}}}},lce=Object.prototype.hasOwnProperty,cce=new RegExp("idle","u");function Ve(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0;if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){e.connectionTimeout===void 0&&(e.connectionTimeout=0),e.keepAliveTimeout===void 0&&(e.keepAliveTimeout=72e3),e.maxRequestsPerSocket===void 0&&(e.maxRequestsPerSocket=0),e.requestTimeout===void 0&&(e.requestTimeout=0),e.bodyLimit===void 0&&(e.bodyLimit=1048576),e.caseSensitive===void 0&&(e.caseSensitive=!0),e.allowUnsafeRegex===void 0&&(e.allowUnsafeRegex=!1),e.ignoreTrailingSlash===void 0&&(e.ignoreTrailingSlash=!1),e.ignoreDuplicateSlashes===void 0&&(e.ignoreDuplicateSlashes=!1),e.disableRequestLogging===void 0&&(e.disableRequestLogging=!1),e.jsonShorthand===void 0&&(e.jsonShorthand=!0),e.maxParamLength===void 0&&(e.maxParamLength=100),e.onProtoPoisoning===void 0&&(e.onProtoPoisoning="error"),e.onConstructorPoisoning===void 0&&(e.onConstructorPoisoning="error"),e.pluginTimeout===void 0&&(e.pluginTimeout=1e4),e.requestIdHeader===void 0&&(e.requestIdHeader="request-id"),e.requestIdLogLabel===void 0&&(e.requestIdLogLabel="reqId"),e.http2SessionTimeout===void 0&&(e.http2SessionTimeout=72e3),e.exposeHeadRoutes===void 0&&(e.exposeHeadRoutes=!0);let p=o;for(let m in e)lce.call(Bq.properties,m)||delete e[m];if(p===o){let m=e.connectionTimeout,v=o;if(!(typeof m=="number"&&!(m%1)&&!isNaN(m)&&isFinite(m))){let y=typeof m,E;if(E===void 0)if(y==="boolean"||m===null||y==="string"&&m&&m==+m&&!(m%1))E=+m;else return Ve.errors=[{instancePath:t+"/connectionTimeout",schemaPath:"#/properties/connectionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;E!==void 0&&(m=E,e!==void 0&&(e.connectionTimeout=E))}var a=v===o;if(a){let y=e.keepAliveTimeout,E=o;if(!(typeof y=="number"&&!(y%1)&&!isNaN(y)&&isFinite(y))){let g=typeof y,P;if(P===void 0)if(g==="boolean"||y===null||g==="string"&&y&&y==+y&&!(y%1))P=+y;else return Ve.errors=[{instancePath:t+"/keepAliveTimeout",schemaPath:"#/properties/keepAliveTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;P!==void 0&&(y=P,e!==void 0&&(e.keepAliveTimeout=P))}var a=E===o;if(a){if(e.forceCloseConnections!==void 0){let g=e.forceCloseConnections,P=o,O=o,R=!1,C=null,q=o;if(typeof g!="string"){let H=typeof g,G;if(G===void 0)if(H=="number"||H=="boolean")G=""+g;else if(g===null)G="";else{let he={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[he]:s.push(he),o++}G!==void 0&&(g=G,e!==void 0&&(e.forceCloseConnections=G))}if(o===q&&typeof g=="string"&&!cce.test(g)){let H={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/pattern",keyword:"pattern",params:{pattern:"idle"},message:'must match pattern "idle"'};s===null?s=[H]:s.push(H),o++}var l=q===o;l&&(R=!0,C=0);let F=o;if(typeof g!="boolean"){let H;if(H===void 0)if(g==="false"||g===0||g===null)H=!1;else if(g==="true"||g===1)H=!0;else{let G={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/1/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};s===null?s=[G]:s.push(G),o++}H!==void 0&&(g=H,e!==void 0&&(e.forceCloseConnections=H))}var l=F===o;if(l&&R?(R=!1,C=[C,1]):l&&(R=!0,C=1),R)o=O,s!==null&&(O?s.length=O:s=null);else{let H={instancePath:t+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf",keyword:"oneOf",params:{passingSchemas:C},message:"must match exactly one schema in oneOf"};return s===null?s=[H]:s.push(H),o++,Ve.errors=s,!1}var a=P===o}else var a=!0;if(a){let g=e.maxRequestsPerSocket,P=o;if(!(typeof g=="number"&&!(g%1)&&!isNaN(g)&&isFinite(g))&&g!==null){let R=typeof g,C;if(C===void 0)if(R==="boolean"||g===null||R==="string"&&g&&g==+g&&!(g%1))C=+g;else if(g===""||g===0||g===!1)C=null;else return Ve.errors=[{instancePath:t+"/maxRequestsPerSocket",schemaPath:"#/properties/maxRequestsPerSocket/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;C!==void 0&&(g=C,e!==void 0&&(e.maxRequestsPerSocket=C))}var a=P===o;if(a){let R=e.requestTimeout,C=o;if(!(typeof R=="number"&&!(R%1)&&!isNaN(R)&&isFinite(R))){let F=typeof R,D;if(D===void 0)if(F==="boolean"||R===null||F==="string"&&R&&R==+R&&!(R%1))D=+R;else return Ve.errors=[{instancePath:t+"/requestTimeout",schemaPath:"#/properties/requestTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;D!==void 0&&(R=D,e!==void 0&&(e.requestTimeout=D))}var a=C===o;if(a){let F=e.bodyLimit,D=o;if(!(typeof F=="number"&&!(F%1)&&!isNaN(F)&&isFinite(F))){let G=typeof F,he;if(he===void 0)if(G==="boolean"||F===null||G==="string"&&F&&F==+F&&!(F%1))he=+F;else return Ve.errors=[{instancePath:t+"/bodyLimit",schemaPath:"#/properties/bodyLimit/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;he!==void 0&&(F=he,e!==void 0&&(e.bodyLimit=he))}var a=D===o;if(a){let G=e.caseSensitive,he=o;if(typeof G!="boolean"){let Z;if(Z===void 0)if(G==="false"||G===0||G===null)Z=!1;else if(G==="true"||G===1)Z=!0;else return Ve.errors=[{instancePath:t+"/caseSensitive",schemaPath:"#/properties/caseSensitive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Z!==void 0&&(G=Z,e!==void 0&&(e.caseSensitive=Z))}var a=he===o;if(a){let Z=e.allowUnsafeRegex,ye=o;if(typeof Z!="boolean"){let re;if(re===void 0)if(Z==="false"||Z===0||Z===null)re=!1;else if(Z==="true"||Z===1)re=!0;else return Ve.errors=[{instancePath:t+"/allowUnsafeRegex",schemaPath:"#/properties/allowUnsafeRegex/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;re!==void 0&&(Z=re,e!==void 0&&(e.allowUnsafeRegex=re))}var a=ye===o;if(a){if(e.http2!==void 0){let re=e.http2,Be=o;if(typeof re!="boolean"){let Oe;if(Oe===void 0)if(re==="false"||re===0||re===null)Oe=!1;else if(re==="true"||re===1)Oe=!0;else return Ve.errors=[{instancePath:t+"/http2",schemaPath:"#/properties/http2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Oe!==void 0&&(re=Oe,e!==void 0&&(e.http2=Oe))}var a=Be===o}else var a=!0;if(a){if(e.https!==void 0){let re=e.https,Be=o,Mt=o,Oe=!0,Tr=o,Jt=o,De=o,be=o,rt=!1,Fe=null,U=o;if(typeof re!="boolean"){let ne;if(ne===void 0)if(re==="false"||re===0||re===null)ne=!1;else if(re==="true"||re===1)ne=!0;else{let nt={};s===null?s=[nt]:s.push(nt),o++}ne!==void 0&&(re=ne,e!==void 0&&(e.https=ne))}var c=U===o;c&&(rt=!0,Fe=0);let X=o;if(re!==null){let ne;if(ne===void 0)if(re===""||re===0||re===!1)ne=null;else{let nt={};s===null?s=[nt]:s.push(nt),o++}ne!==void 0&&(re=ne,e!==void 0&&(e.https=ne))}var c=X===o;if(c&&rt)rt=!1,Fe=[Fe,1];else{c&&(rt=!0,Fe=1);let ne=o;if(o===ne)if(re&&typeof re=="object"&&!Array.isArray(re)){let ue;if(re.allowHTTP1===void 0&&(ue="allowHTTP1")){let Qe={};s===null?s=[Qe]:s.push(Qe),o++}else{let Qe=o;for(let wt in re)wt!=="allowHTTP1"&&delete re[wt];if(Qe===o&&re.allowHTTP1!==void 0){let wt=re.allowHTTP1;if(typeof wt!="boolean"){let Ze;if(Ze===void 0)if(wt==="false"||wt===0||wt===null)Ze=!1;else if(wt==="true"||wt===1)Ze=!0;else{let rr={};s===null?s=[rr]:s.push(rr),o++}Ze!==void 0&&(wt=Ze,re!==void 0&&(re.allowHTTP1=Ze))}}}}else{let ue={};s===null?s=[ue]:s.push(ue),o++}var c=ne===o;c&&rt?(rt=!1,Fe=[Fe,2]):c&&(rt=!0,Fe=2)}if(rt)o=be,s!==null&&(be?s.length=be:s=null);else{let ne={};s===null?s=[ne]:s.push(ne),o++}var u=De===o;if(u){let ne={};s===null?s=[ne]:s.push(ne),o++}else o=Jt,s!==null&&(Jt?s.length=Jt:s=null);var d=Tr===o;if(o=Mt,s!==null&&(Mt?s.length=Mt:s=null),d){let ne=o;e.https=!0;var d=ne===o;Oe=d}if(!Oe){let ne={instancePath:t+"/https",schemaPath:"#/properties/https/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return s===null?s=[ne]:s.push(ne),o++,Ve.errors=s,!1}var a=Be===o}else var a=!0;if(a){let re=e.ignoreTrailingSlash,Be=o;if(typeof re!="boolean"){let Oe;if(Oe===void 0)if(re==="false"||re===0||re===null)Oe=!1;else if(re==="true"||re===1)Oe=!0;else return Ve.errors=[{instancePath:t+"/ignoreTrailingSlash",schemaPath:"#/properties/ignoreTrailingSlash/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Oe!==void 0&&(re=Oe,e!==void 0&&(e.ignoreTrailingSlash=Oe))}var a=Be===o;if(a){let Oe=e.ignoreDuplicateSlashes,Tr=o;if(typeof Oe!="boolean"){let De;if(De===void 0)if(Oe==="false"||Oe===0||Oe===null)De=!1;else if(Oe==="true"||Oe===1)De=!0;else return Ve.errors=[{instancePath:t+"/ignoreDuplicateSlashes",schemaPath:"#/properties/ignoreDuplicateSlashes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;De!==void 0&&(Oe=De,e!==void 0&&(e.ignoreDuplicateSlashes=De))}var a=Tr===o;if(a){let De=e.disableRequestLogging,be=o;if(typeof De!="boolean"){let Fe;if(Fe===void 0)if(De==="false"||De===0||De===null)Fe=!1;else if(De==="true"||De===1)Fe=!0;else return Ve.errors=[{instancePath:t+"/disableRequestLogging",schemaPath:"#/properties/disableRequestLogging/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Fe!==void 0&&(De=Fe,e!==void 0&&(e.disableRequestLogging=Fe))}var a=be===o;if(a){let Fe=e.jsonShorthand,U=o;if(typeof Fe!="boolean"){let ee;if(ee===void 0)if(Fe==="false"||Fe===0||Fe===null)ee=!1;else if(Fe==="true"||Fe===1)ee=!0;else return Ve.errors=[{instancePath:t+"/jsonShorthand",schemaPath:"#/properties/jsonShorthand/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;ee!==void 0&&(Fe=ee,e!==void 0&&(e.jsonShorthand=ee))}var a=U===o;if(a){let ee=e.maxParamLength,ne=o;if(!(typeof ee=="number"&&!(ee%1)&&!isNaN(ee)&&isFinite(ee))){let ue=typeof ee,Qe;if(Qe===void 0)if(ue==="boolean"||ee===null||ue==="string"&&ee&&ee==+ee&&!(ee%1))Qe=+ee;else return Ve.errors=[{instancePath:t+"/maxParamLength",schemaPath:"#/properties/maxParamLength/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;Qe!==void 0&&(ee=Qe,e!==void 0&&(e.maxParamLength=Qe))}var a=ne===o;if(a){let ue=e.onProtoPoisoning,Qe=o;if(typeof ue!="string"){let Ze=typeof ue,rr;if(rr===void 0)if(Ze=="number"||Ze=="boolean")rr=""+ue;else if(ue===null)rr="";else return Ve.errors=[{instancePath:t+"/onProtoPoisoning",schemaPath:"#/properties/onProtoPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;rr!==void 0&&(ue=rr,e!==void 0&&(e.onProtoPoisoning=rr))}var a=Qe===o;if(a){let Ze=e.onConstructorPoisoning,rr=o;if(typeof Ze!="string"){let _t=typeof Ze,Nt;if(Nt===void 0)if(_t=="number"||_t=="boolean")Nt=""+Ze;else if(Ze===null)Nt="";else return Ve.errors=[{instancePath:t+"/onConstructorPoisoning",schemaPath:"#/properties/onConstructorPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt!==void 0&&(Ze=Nt,e!==void 0&&(e.onConstructorPoisoning=Nt))}var a=rr===o;if(a){let _t=e.pluginTimeout,Nt=o;if(!(typeof _t=="number"&&!(_t%1)&&!isNaN(_t)&&isFinite(_t))){let an=typeof _t,Mn;if(Mn===void 0)if(an==="boolean"||_t===null||an==="string"&&_t&&_t==+_t&&!(_t%1))Mn=+_t;else return Ve.errors=[{instancePath:t+"/pluginTimeout",schemaPath:"#/properties/pluginTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;Mn!==void 0&&(_t=Mn,e!==void 0&&(e.pluginTimeout=Mn))}var a=Nt===o;if(a){let an=e.requestIdHeader,Mn=o,xo=o,di=!1,ln=o;if(an!==!1){let nr={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/0/enum",keyword:"enum",params:{allowedValues:Bq.properties.requestIdHeader.anyOf[0].enum},message:"must be equal to one of the allowed values"};s===null?s=[nr]:s.push(nr),o++}var h=ln===o;if(di=di||h,!di){let nr=o;if(typeof an!="string"){let hi=typeof an,et;if(et===void 0)if(hi=="number"||hi=="boolean")et=""+an;else if(an===null)et="";else{let Pr={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Pr]:s.push(Pr),o++}et!==void 0&&(an=et,e!==void 0&&(e.requestIdHeader=et))}var h=nr===o;di=di||h}if(di)o=xo,s!==null&&(xo?s.length=xo:s=null);else{let nr={instancePath:t+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[nr]:s.push(nr),o++,Ve.errors=s,!1}var a=Mn===o;if(a){let nr=e.requestIdLogLabel,Fa=o;if(typeof nr!="string"){let et=typeof nr,Pr;if(Pr===void 0)if(et=="number"||et=="boolean")Pr=""+nr;else if(nr===null)Pr="";else return Ve.errors=[{instancePath:t+"/requestIdLogLabel",schemaPath:"#/properties/requestIdLogLabel/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pr!==void 0&&(nr=Pr,e!==void 0&&(e.requestIdLogLabel=Pr))}var a=Fa===o;if(a){let et=e.http2SessionTimeout,Pr=o;if(!(typeof et=="number"&&!(et%1)&&!isNaN(et)&&isFinite(et))){let Ar=typeof et,jt;if(jt===void 0)if(Ar==="boolean"||et===null||Ar==="string"&&et&&et==+et&&!(et%1))jt=+et;else return Ve.errors=[{instancePath:t+"/http2SessionTimeout",schemaPath:"#/properties/http2SessionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;jt!==void 0&&(et=jt,e!==void 0&&(e.http2SessionTimeout=jt))}var a=Pr===o;if(a){let Ar=e.exposeHeadRoutes,jt=o;if(typeof Ar!="boolean"){let kt;if(kt===void 0)if(Ar==="false"||Ar===0||Ar===null)kt=!1;else if(Ar==="true"||Ar===1)kt=!0;else return Ve.errors=[{instancePath:t+"/exposeHeadRoutes",schemaPath:"#/properties/exposeHeadRoutes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;kt!==void 0&&(Ar=kt,e!==void 0&&(e.exposeHeadRoutes=kt))}var a=jt===o;if(a){if(e.versioning!==void 0){let kt=e.versioning,Bi=o;if(o===Bi)if(kt&&typeof kt=="object"&&!Array.isArray(kt)){let cn;if(kt.storage===void 0&&(cn="storage")||kt.deriveVersion===void 0&&(cn="deriveVersion"))return Ve.errors=[{instancePath:t+"/versioning",schemaPath:"#/properties/versioning/required",keyword:"required",params:{missingProperty:cn},message:"must have required property '"+cn+"'"}],!1}else return Ve.errors=[{instancePath:t+"/versioning",schemaPath:"#/properties/versioning/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=Bi===o}else var a=!0;if(a)if(e.constraints!==void 0){let kt=e.constraints,Bi=o;if(o===Bi)if(kt&&typeof kt=="object"&&!Array.isArray(kt))for(let cn in kt){let kr=kt[cn],Bn=o;if(o===Bn)if(kr&&typeof kr=="object"&&!Array.isArray(kr)){let pi;if(kr.name===void 0&&(pi="name")||kr.storage===void 0&&(pi="storage")||kr.validate===void 0&&(pi="validate")||kr.deriveConstraint===void 0&&(pi="deriveConstraint"))return Ve.errors=[{instancePath:t+"/constraints/"+cn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/required",keyword:"required",params:{missingProperty:pi},message:"must have required property '"+pi+"'"}],!1;if(kr.name!==void 0){let mi=kr.name;if(typeof mi!="string"){let Ma=typeof mi,En;if(En===void 0)if(Ma=="number"||Ma=="boolean")En=""+mi;else if(mi===null)En="";else return Ve.errors=[{instancePath:t+"/constraints/"+cn.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/constraints/additionalProperties/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;En!==void 0&&(mi=En,kr!==void 0&&(kr.name=En))}}}else return Ve.errors=[{instancePath:t+"/constraints/"+cn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=Bn===o;if(!f)break}else return Ve.errors=[{instancePath:t+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=Bi===o}else var a=!0}}}}}}}}}}}}}}}}}}}}}}}}else return Ve.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ve.errors=s,o===0}Fp.exports.defaultInitOptions={connectionTimeout:0,keepAliveTimeout:72e3,maxRequestsPerSocket:0,requestTimeout:0,bodyLimit:1048576,caseSensitive:!0,allowUnsafeRegex:!1,disableRequestLogging:!1,jsonShorthand:!0,ignoreTrailingSlash:!1,ignoreDuplicateSlashes:!1,maxParamLength:100,onProtoPoisoning:"error",onConstructorPoisoning:"error",pluginTimeout:1e4,requestIdHeader:"request-id",requestIdLogLabel:"reqId",http2SessionTimeout:72e3,exposeHeadRoutes:!0}});var Hq=w((hke,Bp)=>{"use strict";var Mp=zq(),uce=jc()({circles:!0,proto:!1}),{FST_ERR_INIT_OPTS_INVALID:fce}=Kr();function dce(e){let t=uce(e);if(!Mp(t)){let r=new fce(JSON.stringify(Mp.errors.map(n=>n.message)));throw r.errors=Mp.errors,r}return J_(t)}function J_(e){let t=Object.getOwnPropertyNames(e);for(let r of t){let n=e[r];ArrayBuffer.isView(n)&&!(n instanceof DataView)||(e[r]=n&&typeof n=="object"?J_(n):n)}return Object.freeze(e)}Bp.exports=dce;Bp.exports.defaultInitOptions=Mp.defaultInitOptions;Bp.exports.utils={deepFreezeObject:J_}});var Qq=w((pke,Xq)=>{"use strict";var{kAvvioBoot:hce,kChildren:Uq,kRoutePrefix:Vq,kLogLevel:Gq,kLogSerializers:Y_,kHooks:X_,kSchemaController:zl,kContentTypeParser:Wq,kReply:Kq,kRequest:Jq,kFourOhFour:pce,kPluginNameChain:Yq}=ar(),mce=hh(),gce=kh(),yce=w_(),bce=Lb(),{buildHooks:vce}=Oo(),Hl=T_();Xq.exports=function(t,r,n){if(Hl.registerPlugin.call(t,r))return t[Yq].push(Hl.getDisplayName(r)),t;let s=Object.create(t);t[Uq].push(s),s.ready=t[hce].bind(s),s[Uq]=[],s[Kq]=mce.buildReply(s[Kq]),s[Jq]=gce.buildRequest(s[Jq]),s[Wq]=bce.helpers.buildContentTypeParser(s[Wq]),s[X_]=vce(s[X_]),s[Vq]=wce(s[Vq],n.prefix),s[Gq]=n.logLevel||s[Gq],s[zl]=yce.buildSchemaController(t[zl]),s.getSchema=s[zl].getSchema.bind(s[zl]),s.getSchemas=s[zl].getSchemas.bind(s[zl]),s[Hl.registeredPlugins]=Object.create(s[Hl.registeredPlugins]),s[Yq]=[Hl.getPluginName(r)||Hl.getFuncPreview(r)],(s[Y_]||n.logSerializers)&&(s[Y_]=Object.assign(Object.create(s[Y_]),n.logSerializers)),n.prefix&&s[pce].arrange404(s);for(let o of s[X_].onRegister)o.call(this,s,n);return s};function wce(e,t){return t?(e.endsWith("/")&&t[0]==="/"?t=t.slice(1):t[0]!=="/"&&(t="/"+t),e+t):e}});var eD=w((mke,Zq)=>{"use strict";Zq.exports=function(){return{[Symbol.iterator]:function*(){},add(){},delete(){},has(){return!0}}}});var tD=w(Q_=>{"use strict";Q_.parse=Ece;Q_.serialize=xce;var _ce=Object.prototype.toString,zp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ece(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},i=n.decode||Sce,s=0;s<e.length;){var o=e.indexOf("=",s);if(o===-1)break;var a=e.indexOf(";",s);if(a===-1)a=e.length;else if(a<o){s=e.lastIndexOf(";",o-1)+1;continue}var l=e.slice(s,o).trim();if(r[l]===void 0){var c=e.slice(o+1,a).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1)),r[l]=Pce(c,i)}s=a+1}return r}function xce(e,t,r){var n=r||{},i=n.encode||Rce;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!zp.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!zp.test(s))throw new TypeError("argument val is invalid");var o=e+"="+s;if(n.maxAge!=null){var a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(n.domain){if(!zp.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain="+n.domain}if(n.path){if(!zp.test(n.path))throw new TypeError("option path is invalid");o+="; Path="+n.path}if(n.expires){var l=n.expires;if(!Tce(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+l.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.priority){var c=typeof n.priority=="string"?n.priority.toLowerCase():n.priority;switch(c){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){var u=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function Sce(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function Rce(e){return encodeURIComponent(e)}function Tce(e){return _ce.call(e)==="[object Date]"||e instanceof Date}function Pce(e,t){try{return t(e)}catch{return e}}});var iD=w((yke,nD)=>{"use strict";var{URL:rD}=L("url"),Z_="http://localhost";nD.exports=function(t,r){(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]")&&t.startsWith("//")&&(t=Z_+t);let n=typeof t=="object"?Object.assign(new rD(Z_),t):new rD(t,Z_);if(typeof r=="string"){r=new URLSearchParams(r);for(let i of r.keys()){n.searchParams.delete(i);for(let s of r.getAll(i))n.searchParams.append(i,s)}}else{let i=Object.assign({},t.query,r);for(let s in i){let o=i[s];if(Array.isArray(o)){n.searchParams.delete(s);for(let a of o)n.searchParams.append(s,a)}else n.searchParams.set(s,o)}}return n}});var lD=w((bke,Hp)=>{"use strict";var{Readable:sD,addAbortSignal:Ace}=L("stream"),tE=L("util"),kce=tD(),Oce=L("assert"),oD=Fy()(),Cce=iD(),{EventEmitter:Ice}=L("events");oD.create("FastifyDeprecationLightMyRequest","FST_LIGHTMYREQUEST_DEP01",'You are accessing "request.connection", use "request.socket" instead.');function $ce(e){return e.port?e.host:e.hostname+(e.protocol==="https:"?":443":":80")}var eE=class extends Ice{constructor(t){super(),this.remoteAddress=t}};function aD(e){return new t(this);function t(r){Ti.call(r,{...e,Request:void 0}),Object.assign(this,r);for(let n of Object.keys(Ti.prototype))this.constructor.prototype[n]=Ti.prototype[n];return tE.inherits(this.constructor,e.Request),this}}function Ti(e){sD.call(this,{autoDestroy:!1});let t=Cce(e.url||e.path,e.query);this.url=t.pathname+t.search,this.aborted=!1,this.httpVersionMajor=1,this.httpVersionMinor=1,this.httpVersion="1.1",this.method=e.method?e.method.toUpperCase():"GET",this.headers={},this.rawHeaders=[];let r=e.headers||{};for(let o in r){let a=o.toLowerCase();if((a==="user-agent"||a==="content-type")&&r[o]===void 0){this.headers[a]=void 0;continue}let l=r[o];Oce(l!==void 0,'invalid value "undefined" for header '+o),this.headers[a]=""+l}if("user-agent"in this.headers||(this.headers["user-agent"]="lightMyRequest"),this.headers.host=this.headers.host||e.authority||$ce(t),e.cookies){let{cookies:o}=e,a=Object.keys(o).map(l=>kce.serialize(l,o[l]));this.headers.cookie&&a.unshift(this.headers.cookie),this.headers.cookie=a.join("; ")}this.socket=new eE(e.remoteAddress||"127.0.0.1"),Object.defineProperty(this,"connection",{get(){return oD.emit("FST_LIGHTMYREQUEST_DEP01"),this.socket},configurable:!0});let n=e.signal;n&&Ace(n,this);let i=e.payload||e.body||null,s=i&&typeof i.resume=="function";i&&typeof i!="string"&&!s&&!Buffer.isBuffer(i)&&(i=JSON.stringify(i),"content-type"in this.headers||(this.headers["content-type"]="application/json")),i&&!s&&!Object.prototype.hasOwnProperty.call(this.headers,"content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(i)?i.length:Buffer.byteLength(i)).toString());for(let o of Object.keys(this.headers))this.rawHeaders.push(o,this.headers[o]);return this._lightMyRequest={payload:i,isDone:!1,simulate:e.simulate||{}},this}tE.inherits(Ti,sD);tE.inherits(aD,Ti);Ti.prototype.prepare=function(e){let t=this._lightMyRequest.payload;if(!t||typeof t.resume!="function")return e();let r=[];t.on("data",n=>r.push(Buffer.from(n))),t.on("end",()=>{let n=Buffer.concat(r);return this.headers["content-length"]=this.headers["content-length"]||""+n.length,this._lightMyRequest.payload=n,e()}),t.resume()};Ti.prototype._read=function(e){setImmediate(()=>{if(this._lightMyRequest.isDone){this._lightMyRequest.simulate.end!==!1&&this.push(null);return}this._lightMyRequest.isDone=!0,this._lightMyRequest.payload&&(this._lightMyRequest.simulate.split?(this.push(this._lightMyRequest.payload.slice(0,1)),this.push(this._lightMyRequest.payload.slice(1))):this.push(this._lightMyRequest.payload)),this._lightMyRequest.simulate.error&&this.emit("error",new Error("Simulated")),this._lightMyRequest.simulate.close&&this.emit("close"),this._lightMyRequest.simulate.end!==!1&&this.push(null)})};Ti.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&(this._error=!0,process.nextTick(()=>this.emit("error",e))),process.nextTick(()=>this.emit("close")))};Hp.exports=Ti;Hp.exports.Request=Ti;Hp.exports.CustomRequest=aD});var uD=w((vke,ef)=>{"use strict";var Ul={decodeValues:!0,map:!1,silent:!1};function rE(e){return typeof e=="string"&&!!e.trim()}function nE(e,t){var r=e.split(";").filter(rE),n=r.shift(),i=Nce(n),s=i.name,o=i.value;t=t?Object.assign({},Ul,t):Ul;try{o=t.decodeValues?decodeURIComponent(o):o}catch(l){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+o+"'. Set options.decodeValues to false to disable this feature.",l)}var a={name:s,value:o};return r.forEach(function(l){var c=l.split("="),u=c.shift().trimLeft().toLowerCase(),d=c.join("=");u==="expires"?a.expires=new Date(d):u==="max-age"?a.maxAge=parseInt(d,10):u==="secure"?a.secure=!0:u==="httponly"?a.httpOnly=!0:u==="samesite"?a.sameSite=d:a[u]=d}),a}function Nce(e){var t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}function cD(e,t){if(t=t?Object.assign({},Ul,t):Ul,!e)return t.map?{}:[];if(e.headers&&e.headers["set-cookie"])e=e.headers["set-cookie"];else if(e.headers){var r=e.headers[Object.keys(e.headers).find(function(i){return i.toLowerCase()==="set-cookie"})];!r&&e.headers.cookie&&!t.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=r}if(Array.isArray(e)||(e=[e]),t=t?Object.assign({},Ul,t):Ul,t.map){var n={};return e.filter(rE).reduce(function(i,s){var o=nE(s,t);return i[o.name]=o,i},n)}else return e.filter(rE).map(function(i){return nE(i,t)})}function jce(e){if(Array.isArray(e))return e;if(typeof e!="string")return[];var t=[],r=0,n,i,s,o,a;function l(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function c(){return i=e.charAt(r),i!=="="&&i!==";"&&i!==","}for(;r<e.length;){for(n=r,a=!1;l();)if(i=e.charAt(r),i===","){for(s=r,r+=1,l(),o=r;r<e.length&&c();)r+=1;r<e.length&&e.charAt(r)==="="?(a=!0,r=o,t.push(e.substring(n,s)),n=r):r=s+1}else r+=1;(!a||r>=e.length)&&t.push(e.substring(n,e.length))}return t}ef.exports=cD;ef.exports.parse=cD;ef.exports.parseString=nE;ef.exports.splitCookiesString=jce});var hD=w((wke,dD)=>{"use strict";var tf=L("http"),{Writable:qce}=L("stream"),Dce=L("util"),Lce=uD();function Js(e,t,r){tf.ServerResponse.call(this,e),this._lightMyRequest={headers:null,trailers:{},payloadChunks:[]},this.setHeader("foo","bar"),this.removeHeader("foo"),this.assignSocket(Mce()),this._promiseCallback=typeof r=="function";let n=!1,i=o=>{if(n=!0,this._promiseCallback)return process.nextTick(()=>t(o));process.nextTick(()=>t(null,o))},s=o=>{if(!n){if(n=!0,this._promiseCallback)return process.nextTick(()=>r(o));process.nextTick(()=>t(o,null))}};this.once("finish",()=>{let o=Fce(this);o.raw.req=e,i(o)}),this.connection.once("error",s),this.once("error",s),this.once("close",s)}Dce.inherits(Js,tf.ServerResponse);Js.prototype.setTimeout=function(e,t){return this.timeoutHandle=setTimeout(()=>{this.emit("timeout")},e),this.on("timeout",t),this};Js.prototype.writeHead=function(){let e=tf.ServerResponse.prototype.writeHead.apply(this,arguments);return fD(this),e};Js.prototype.write=function(e,t,r){return this.timeoutHandle&&clearTimeout(this.timeoutHandle),tf.ServerResponse.prototype.write.call(this,e,t,r),this._lightMyRequest.payloadChunks.push(Buffer.from(e,t)),!0};Js.prototype.end=function(e,t,r){e&&this.write(e,t),tf.ServerResponse.prototype.end.call(this,r),this.emit("finish"),this.destroy()};Js.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&process.nextTick(()=>this.emit("error",e)),process.nextTick(()=>this.emit("close")))};Js.prototype.addTrailers=function(e){for(let t in e)this._lightMyRequest.trailers[t.toLowerCase().trim()]=e[t].toString().trim()};function Fce(e){e._lightMyRequest.headers===null&&fD(e);let t={raw:{res:e},headers:e._lightMyRequest.headers,statusCode:e.statusCode,statusMessage:e.statusMessage,trailers:{},get cookies(){return Lce.parse(this)}},r=Buffer.concat(e._lightMyRequest.payloadChunks);return t.rawPayload=r,t.payload=r.toString(),t.body=t.payload,t.trailers=e._lightMyRequest.trailers,t.json=function(){return JSON.parse(t.payload)},t}function Mce(){return new qce({write(e,t,r){setImmediate(r)}})}function fD(e){e._lightMyRequest.headers=Object.assign({},e.getHeaders()),["Date","Connection","Transfer-Encoding"].forEach(t=>{let r=new RegExp("\\r\\n"+t+": ([^\\r]*)\\r\\n"),n=e._header.match(r);n&&(e._lightMyRequest.headers[t.toLowerCase()]=n[1])})}dD.exports=Js});var pD=w((_ke,iE)=>{"use strict";iE.exports=Ut;iE.exports.default=Ut;var Bce={type:"object",properties:{url:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},path:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},cookies:{type:"object",additionalProperties:!0},headers:{type:"object",additionalProperties:!0},query:{anyOf:[{type:"object",additionalProperties:!0},{type:"string"}]},simulate:{type:"object",properties:{end:{type:"boolean"},split:{type:"boolean"},error:{type:"boolean"},close:{type:"boolean"}}},authority:{type:"string"},remoteAddress:{type:"string"},method:{type:"string",enum:["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE","acl","bind","checkout","connect","copy","delete","get","head","link","lock","m-search","merge","mkactivity","mkcalendar","mkcol","move","notify","options","patch","post","propfind","proppatch","purge","put","rebind","report","search","source","subscribe","trace","unbind","unlink","unlock","unsubscribe"]},validate:{type:"boolean"}},additionalProperties:!0,oneOf:[{required:["url"]},{required:["path"]}]};function Ut(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:i=e}={}){let s=null,o=0,a=o,l=!1,c=null,u=o;if(e&&typeof e=="object"&&!Array.isArray(e)){let g;if(e.url===void 0&&(g="url")){let P={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"};s===null?s=[P]:s.push(P),o++}}var h=u===o;h&&(l=!0,c=0);let d=o;if(e&&typeof e=="object"&&!Array.isArray(e)){let g;if(e.path===void 0&&(g="path")){let P={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"};s===null?s=[P]:s.push(P),o++}}var h=d===o;if(h&&l?(l=!1,c=[c,1]):h&&(l=!0,c=1),l)o=a,s!==null&&(a?s.length=a:s=null);else{let g={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:c},message:"must match exactly one schema in oneOf"};return s===null?s=[g]:s.push(g),o++,Ut.errors=s,!1}if(o===0)if(e&&typeof e=="object"&&!Array.isArray(e)){if(e.url!==void 0){let g=e.url,P=o,O=o,R=!1,C=null,q=o;if(typeof g!="string"){let D=typeof g,H;if(H===void 0)if(D=="number"||D=="boolean")H=""+g;else if(g===null)H="";else{let G={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[G]:s.push(G),o++}H!==void 0&&(g=H,e!==void 0&&(e.url=H))}var p=q===o;p&&(R=!0,C=0);let F=o;if(o===F)if(g&&typeof g=="object"&&!Array.isArray(g)){let D;if(g.pathname===void 0&&(D="pathname")){let H={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/1/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"};s===null?s=[H]:s.push(H),o++}else{if(g.protocol!==void 0){let H=g.protocol,G=o;if(typeof H!="string"){let he=typeof H,we;if(we===void 0)if(he=="number"||he=="boolean")we=""+H;else if(H===null)we="";else{let Z={instancePath:t+"/url/protocol",schemaPath:"#/properties/url/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Z]:s.push(Z),o++}we!==void 0&&(H=we,g!==void 0&&(g.protocol=we))}var f=G===o}else var f=!0;if(f){if(g.hostname!==void 0){let H=g.hostname,G=o;if(typeof H!="string"){let we=typeof H,Z;if(Z===void 0)if(we=="number"||we=="boolean")Z=""+H;else if(H===null)Z="";else{let ye={instancePath:t+"/url/hostname",schemaPath:"#/properties/url/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[ye]:s.push(ye),o++}Z!==void 0&&(H=Z,g!==void 0&&(g.hostname=Z))}var f=G===o}else var f=!0;if(f)if(g.pathname!==void 0){let H=g.pathname,G=o;if(typeof H!="string"){let we=typeof H,Z;if(Z===void 0)if(we=="number"||we=="boolean")Z=""+H;else if(H===null)Z="";else{let ye={instancePath:t+"/url/pathname",schemaPath:"#/properties/url/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[ye]:s.push(ye),o++}Z!==void 0&&(H=Z,g!==void 0&&(g.pathname=Z))}var f=G===o}else var f=!0}}}else{let D={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[D]:s.push(D),o++}var p=F===o;if(p&&R?(R=!1,C=[C,1]):p&&(R=!0,C=1),R)o=O,s!==null&&(O?s.length=O:s=null);else{let D={instancePath:t+"/url",schemaPath:"#/properties/url/oneOf",keyword:"oneOf",params:{passingSchemas:C},message:"must match exactly one schema in oneOf"};return s===null?s=[D]:s.push(D),o++,Ut.errors=s,!1}var m=P===o}else var m=!0;if(m){if(e.path!==void 0){let g=e.path,P=o,O=o,R=!1,C=null,q=o;if(typeof g!="string"){let H=typeof g,G;if(G===void 0)if(H=="number"||H=="boolean")G=""+g;else if(g===null)G="";else{let he={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[he]:s.push(he),o++}G!==void 0&&(g=G,e!==void 0&&(e.path=G))}var y=q===o;y&&(R=!0,C=0);let F=o;if(o===F)if(g&&typeof g=="object"&&!Array.isArray(g)){let H;if(g.pathname===void 0&&(H="pathname")){let G={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/1/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"};s===null?s=[G]:s.push(G),o++}else{if(g.protocol!==void 0){let G=g.protocol,he=o;if(typeof G!="string"){let we=typeof G,Z;if(Z===void 0)if(we=="number"||we=="boolean")Z=""+G;else if(G===null)Z="";else{let ye={instancePath:t+"/path/protocol",schemaPath:"#/properties/path/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[ye]:s.push(ye),o++}Z!==void 0&&(G=Z,g!==void 0&&(g.protocol=Z))}var v=he===o}else var v=!0;if(v){if(g.hostname!==void 0){let G=g.hostname,he=o;if(typeof G!="string"){let Z=typeof G,ye;if(ye===void 0)if(Z=="number"||Z=="boolean")ye=""+G;else if(G===null)ye="";else{let Ge={instancePath:t+"/path/hostname",schemaPath:"#/properties/path/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Ge]:s.push(Ge),o++}ye!==void 0&&(G=ye,g!==void 0&&(g.hostname=ye))}var v=he===o}else var v=!0;if(v)if(g.pathname!==void 0){let G=g.pathname,he=o;if(typeof G!="string"){let Z=typeof G,ye;if(ye===void 0)if(Z=="number"||Z=="boolean")ye=""+G;else if(G===null)ye="";else{let Ge={instancePath:t+"/path/pathname",schemaPath:"#/properties/path/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[Ge]:s.push(Ge),o++}ye!==void 0&&(G=ye,g!==void 0&&(g.pathname=ye))}var v=he===o}else var v=!0}}}else{let H={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[H]:s.push(H),o++}var y=F===o;if(y&&R?(R=!1,C=[C,1]):y&&(R=!0,C=1),R)o=O,s!==null&&(O?s.length=O:s=null);else{let H={instancePath:t+"/path",schemaPath:"#/properties/path/oneOf",keyword:"oneOf",params:{passingSchemas:C},message:"must match exactly one schema in oneOf"};return s===null?s=[H]:s.push(H),o++,Ut.errors=s,!1}var m=P===o}else var m=!0;if(m){if(e.cookies!==void 0){let g=e.cookies,P=o;if(o===P&&!(g&&typeof g=="object"&&!Array.isArray(g)))return Ut.errors=[{instancePath:t+"/cookies",schemaPath:"#/properties/cookies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=P===o}else var m=!0;if(m){if(e.headers!==void 0){let g=e.headers,P=o;if(o===P&&!(g&&typeof g=="object"&&!Array.isArray(g)))return Ut.errors=[{instancePath:t+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=P===o}else var m=!0;if(m){if(e.query!==void 0){let g=e.query,P=o,O=o,R=!1,C=o;if(o===C&&!(g&&typeof g=="object"&&!Array.isArray(g))){let F={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};s===null?s=[F]:s.push(F),o++}var E=C===o;if(R=R||E,!R){let F=o;if(typeof g!="string"){let H=typeof g,G;if(G===void 0)if(H=="number"||H=="boolean")G=""+g;else if(g===null)G="";else{let he={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};s===null?s=[he]:s.push(he),o++}G!==void 0&&(g=G,e!==void 0&&(e.query=G))}var E=F===o;R=R||E}if(R)o=O,s!==null&&(O?s.length=O:s=null);else{let F={instancePath:t+"/query",schemaPath:"#/properties/query/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return s===null?s=[F]:s.push(F),o++,Ut.errors=s,!1}var m=P===o}else var m=!0;if(m){if(e.simulate!==void 0){let g=e.simulate,P=o;if(o===P)if(g&&typeof g=="object"&&!Array.isArray(g)){if(g.end!==void 0){let R=g.end,C=o;if(typeof R!="boolean"){let q;if(q===void 0)if(R==="false"||R===0||R===null)q=!1;else if(R==="true"||R===1)q=!0;else return Ut.errors=[{instancePath:t+"/simulate/end",schemaPath:"#/properties/simulate/properties/end/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;q!==void 0&&(R=q,g!==void 0&&(g.end=q))}var b=C===o}else var b=!0;if(b){if(g.split!==void 0){let R=g.split,C=o;if(typeof R!="boolean"){let F;if(F===void 0)if(R==="false"||R===0||R===null)F=!1;else if(R==="true"||R===1)F=!0;else return Ut.errors=[{instancePath:t+"/simulate/split",schemaPath:"#/properties/simulate/properties/split/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;F!==void 0&&(R=F,g!==void 0&&(g.split=F))}var b=C===o}else var b=!0;if(b){if(g.error!==void 0){let R=g.error,C=o;if(typeof R!="boolean"){let F;if(F===void 0)if(R==="false"||R===0||R===null)F=!1;else if(R==="true"||R===1)F=!0;else return Ut.errors=[{instancePath:t+"/simulate/error",schemaPath:"#/properties/simulate/properties/error/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;F!==void 0&&(R=F,g!==void 0&&(g.error=F))}var b=C===o}else var b=!0;if(b)if(g.close!==void 0){let R=g.close,C=o;if(typeof R!="boolean"){let F;if(F===void 0)if(R==="false"||R===0||R===null)F=!1;else if(R==="true"||R===1)F=!0;else return Ut.errors=[{instancePath:t+"/simulate/close",schemaPath:"#/properties/simulate/properties/close/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;F!==void 0&&(R=F,g!==void 0&&(g.close=F))}var b=C===o}else var b=!0}}}else return Ut.errors=[{instancePath:t+"/simulate",schemaPath:"#/properties/simulate/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var m=P===o}else var m=!0;if(m){if(e.authority!==void 0){let g=e.authority,P=o;if(typeof g!="string"){let R=typeof g,C;if(C===void 0)if(R=="number"||R=="boolean")C=""+g;else if(g===null)C="";else return Ut.errors=[{instancePath:t+"/authority",schemaPath:"#/properties/authority/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C!==void 0&&(g=C,e!==void 0&&(e.authority=C))}var m=P===o}else var m=!0;if(m){if(e.remoteAddress!==void 0){let g=e.remoteAddress,P=o;if(typeof g!="string"){let R=typeof g,C;if(C===void 0)if(R=="number"||R=="boolean")C=""+g;else if(g===null)C="";else return Ut.errors=[{instancePath:t+"/remoteAddress",schemaPath:"#/properties/remoteAddress/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C!==void 0&&(g=C,e!==void 0&&(e.remoteAddress=C))}var m=P===o}else var m=!0;if(m){if(e.method!==void 0){let g=e.method,P=o;if(typeof g!="string"){let R=typeof g,C;if(C===void 0)if(R=="number"||R=="boolean")C=""+g;else if(g===null)C="";else return Ut.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C!==void 0&&(g=C,e!==void 0&&(e.method=C))}if(!(g==="ACL"||g==="BIND"||g==="CHECKOUT"||g==="CONNECT"||g==="COPY"||g==="DELETE"||g==="GET"||g==="HEAD"||g==="LINK"||g==="LOCK"||g==="M-SEARCH"||g==="MERGE"||g==="MKACTIVITY"||g==="MKCALENDAR"||g==="MKCOL"||g==="MOVE"||g==="NOTIFY"||g==="OPTIONS"||g==="PATCH"||g==="POST"||g==="PROPFIND"||g==="PROPPATCH"||g==="PURGE"||g==="PUT"||g==="REBIND"||g==="REPORT"||g==="SEARCH"||g==="SOURCE"||g==="SUBSCRIBE"||g==="TRACE"||g==="UNBIND"||g==="UNLINK"||g==="UNLOCK"||g==="UNSUBSCRIBE"||g==="acl"||g==="bind"||g==="checkout"||g==="connect"||g==="copy"||g==="delete"||g==="get"||g==="head"||g==="link"||g==="lock"||g==="m-search"||g==="merge"||g==="mkactivity"||g==="mkcalendar"||g==="mkcol"||g==="move"||g==="notify"||g==="options"||g==="patch"||g==="post"||g==="propfind"||g==="proppatch"||g==="purge"||g==="put"||g==="rebind"||g==="report"||g==="search"||g==="source"||g==="subscribe"||g==="trace"||g==="unbind"||g==="unlink"||g==="unlock"||g==="unsubscribe"))return Ut.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:Bce.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var m=P===o}else var m=!0;if(m)if(e.validate!==void 0){let g=e.validate,P=o;if(typeof g!="boolean"){let R;if(R===void 0)if(g==="false"||g===0||g===null)R=!1;else if(g==="true"||g===1)R=!0;else return Ut.errors=[{instancePath:t+"/validate",schemaPath:"#/properties/validate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;R!==void 0&&(g=R,e!==void 0&&(e.validate=R))}var m=P===o}else var m=!0}}}}}}}}}else return Ut.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ut.errors=s,o===0}});var yD=w((Eke,nf)=>{"use strict";var zce=L("assert"),sE=lD(),Up=hD(),Gp="The dispatch function has already been invoked",mD=pD();function oE(e,t,r){return typeof r>"u"?new rf(e,t):Vp(e,t,r)}function gD(e,t,r,n){return r.once("error",function(i){this.destroyed&&n.destroy(i)}),r.once("close",function(){this.destroyed&&!this._error&&n.destroy()}),r.prepare(()=>e.call(t,r,n))}function Vp(e,t,r){if(t=typeof t=="string"?{url:t}:t,t.validate!==!1&&(zce(typeof e=="function","dispatchFunc should be a function"),!mD(t)))throw new Error(mD.errors.map(o=>o.message));let n=t.server||{},i=t.Request?sE.CustomRequest:sE;if(e.request&&e.request.app===e&&(Object.setPrototypeOf(Object.getPrototypeOf(e.request),i.prototype),Object.setPrototypeOf(Object.getPrototypeOf(e.response),Up.prototype)),typeof r=="function"){let s=new i(t),o=new Up(s,r);return gD(e,n,s,o)}else return new Promise((s,o)=>{let a=new i(t),l=new Up(a,s,o);gD(e,n,a,l)})}function rf(e,t){typeof t=="string"?this.option={url:t}:this.option=Object.assign({},t),this.dispatch=e,this._hasInvoked=!1,this._promise=null,this.option.autoStart!==!1&&process.nextTick(()=>{this._hasInvoked||this.end()})}var Hce=["delete","get","head","options","patch","post","put","trace"];Hce.forEach(e=>{rf.prototype[e]=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(Gp);return this.option.url=t,this.option.method=e.toUpperCase(),this}});var Uce=["body","cookies","headers","payload","query"];Uce.forEach(e=>{rf.prototype[e]=function(t){if(this._hasInvoked===!0||this._promise)throw new Error(Gp);return this.option[e]=t,this}});rf.prototype.end=function(e){if(this._hasInvoked===!0||this._promise)throw new Error(Gp);if(this._hasInvoked=!0,typeof e=="function")Vp(this.dispatch,this.option,e);else return this._promise=Vp(this.dispatch,this.option),this._promise};Object.getOwnPropertyNames(Promise.prototype).forEach(e=>{e!=="constructor"&&(rf.prototype[e]=function(...t){if(!this._promise){if(this._hasInvoked===!0)throw new Error(Gp);this._hasInvoked=!0,this._promise=Vp(this.dispatch,this.option)}return this._promise[e](...t)})});function Vce(e){return e instanceof sE||e instanceof Up||e&&e.constructor&&e.constructor.name==="_CustomLMRRequest"}nf.exports=oE;nf.exports.default=oE;nf.exports.inject=oE;nf.exports.isInjection=Vce});var PD=w((xke,Xp)=>{"use strict";var Gce="4.12.0",Wce=YR(),Kce=L("http"),sf,{kAvvioBoot:Wp,kChildren:aE,kServerBindings:bD,kBodyLimit:Jce,kRoutePrefix:vD,kLogLevel:Yce,kLogSerializers:Xce,kHooks:of,kSchemaController:Ys,kRequestAcceptVersion:Qce,kReplySerializerDefault:wD,kContentTypeParser:Zce,kReply:eue,kRequest:tue,kFourOhFour:rue,kState:Xs,kOptions:nue,kPluginNameChain:af,kSchemaErrorFormatter:lE,kErrorHandler:Kp,kKeepAliveConnections:cE,kFourOhFourContext:iue}=ar(),{createServer:sue,compileValidateHTTPVersion:oue}=lT(),lf=hh(),Jp=kh(),{supportedMethods:aue}=Tb(),Vl=Cb(),na=Lb(),_D=w_(),{Hooks:lue,hookRunnerApplication:cue,supportedHooks:uE}=Oo(),{createLogger:uue}=V0(),fue=T_(),due=hj(),{buildRouting:hue,validateBodyLimitOption:pue}=Nq(),mue=Mq(),TD=Hq(),gue=Qq(),yue=ko(),bue=eD(),{appendStackTrace:vue,AVVIO_ERRORS_MAP:ED,...Gl}=Kr(),{defaultInitOptions:pn}=TD,{FST_ERR_ASYNC_CONSTRAINT:wue,FST_ERR_BAD_URL:_ue,FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:Eue}=Gl,{buildErrorHandler:xD}=Lc(),SD={config:{},onSend:[],onError:[],[iue]:null};function xue(e){let t={};return["errorHandler","logLevel","logSerializers"].concat(uE).forEach(n=>{t[n]=e.store[n]}),Object.assign({},t)}function Yp(e){if(e=e||{},typeof e!="object")throw new TypeError("Options must be an object");if(e.querystringParser&&typeof e.querystringParser!="function")throw new Error(`querystringParser option should be a function, instead got '${typeof e.querystringParser}'`);if(e.schemaController&&e.schemaController.bucket&&typeof e.schemaController.bucket!="function")throw new Error(`schemaController.bucket option should be a function, instead got '${typeof e.schemaController.bucket}'`);pue(e.bodyLimit);let t=e.requestIdHeader===!1?!1:e.requestIdHeader||pn.requestIdHeader,r=due(t,e.genReqId),n=e.requestIdLogLabel||"reqId",i=e.bodyLimit||pn.bodyLimit,s=e.disableRequestLogging||!1,o=Object.assign({customOptions:{},plugins:[]},e.ajv),a=e.frameworkErrors;if(!o.customOptions||Object.prototype.toString.call(o.customOptions)!=="[object Object]")throw new Error(`ajv.customOptions option should be an object, instead got '${typeof o.customOptions}'`);if(!o.plugins||!Array.isArray(o.plugins))throw new Error(`ajv.plugins option should be an array, instead got '${typeof o.plugins}'`);let{logger:l,hasLogger:c}=uue(e);e.connectionTimeout=e.connectionTimeout||pn.connectionTimeout,e.keepAliveTimeout=e.keepAliveTimeout||pn.keepAliveTimeout,e.maxRequestsPerSocket=e.maxRequestsPerSocket||pn.maxRequestsPerSocket,e.requestTimeout=e.requestTimeout||pn.requestTimeout,e.logger=l,e.genReqId=r,e.requestIdHeader=t,e.requestIdLogLabel=n,e.disableRequestLogging=s,e.ajv=o,e.clientErrorHandler=e.clientErrorHandler||Z;let u=TD(e);e.exposeHeadRoutes=u.exposeHeadRoutes;let d=e.constraints;e.versioning&&(yue.emit("FSTDEP009"),d={...d,version:{name:"version",mustMatchWhenDerived:!0,storage:e.versioning.storage,deriveConstraint:e.versioning.deriveVersion,validate(U){if(typeof U!="string")throw new Error("Version constraint should be a string.")}}});let h=hue({config:{defaultRoute:ye,onBadUrl:Ge,constraints:d,ignoreTrailingSlash:e.ignoreTrailingSlash||pn.ignoreTrailingSlash,ignoreDuplicateSlashes:e.ignoreDuplicateSlashes||pn.ignoreDuplicateSlashes,maxParamLength:e.maxParamLength||pn.maxParamLength,caseSensitive:e.caseSensitive,allowUnsafeRegex:e.allowUnsafeRegex||pn.allowUnsafeRegex,buildPrettyMeta:xue,querystringParser:e.querystringParser}}),f=mue(e),p=Fe(h,e);e.http2SessionTimeout=u.http2SessionTimeout;let{server:m,listen:v}=sue(e,p),y=typeof m.closeAllConnections=="function",E=typeof m.closeIdleConnections=="function",b=e.forceCloseConnections;if(b==="idle"&&!E)throw new Eue;typeof b!="boolean"&&(b=E?"idle":!1);let g=!y&&b===!0?new Set:bue(),P=lf.setupResponseListeners,O=_D.buildSchemaController(null,e.schemaController),R={[Xs]:{listening:!1,closing:!1,started:!1},[cE]:g,[nue]:e,[aE]:[],[bD]:[],[Jce]:i,[vD]:"",[Yce]:"",[Xce]:null,[of]:new lue,[Ys]:O,[lE]:null,[Kp]:xD(),[wD]:null,[Zce]:new na(i,e.onProtoPoisoning||pn.onProtoPoisoning,e.onConstructorPoisoning||pn.onConstructorPoisoning),[eue]:lf.buildReply(lf),[tue]:Jp.buildRequest(Jp,e.trustProxy),[rue]:f,[fue.registeredPlugins]:[],[af]:["fastify"],[Wp]:null,routing:p,getDefaultRoute:h.getDefaultRoute.bind(h),setDefaultRoute:h.setDefaultRoute.bind(h),delete:function(X,ee,ne){return h.prepareRoute.call(this,{method:"DELETE",url:X,options:ee,handler:ne})},get:function(X,ee,ne){return h.prepareRoute.call(this,{method:"GET",url:X,options:ee,handler:ne})},head:function(X,ee,ne){return h.prepareRoute.call(this,{method:"HEAD",url:X,options:ee,handler:ne})},patch:function(X,ee,ne){return h.prepareRoute.call(this,{method:"PATCH",url:X,options:ee,handler:ne})},post:function(X,ee,ne){return h.prepareRoute.call(this,{method:"POST",url:X,options:ee,handler:ne})},put:function(X,ee,ne){return h.prepareRoute.call(this,{method:"PUT",url:X,options:ee,handler:ne})},options:function(X,ee,ne){return h.prepareRoute.call(this,{method:"OPTIONS",url:X,options:ee,handler:ne})},all:function(X,ee,ne){return h.prepareRoute.call(this,{method:aue,url:X,options:ee,handler:ne})},route:function(X){return h.route.call(this,{options:X})},hasRoute:function(X){return h.hasRoute.call(this,{options:X})},log:l,withTypeProvider:G,addHook:he,addSchema:we,getSchema:O.getSchema.bind(O),getSchemas:O.getSchemas.bind(O),setValidatorCompiler:Mt,setSerializerCompiler:Tr,setSchemaController:Jt,setReplySerializer:De,setSchemaErrorFormatter:Oe,addContentTypeParser:na.helpers.addContentTypeParser,hasContentTypeParser:na.helpers.hasContentTypeParser,getDefaultJsonParser:na.defaultParsers.getDefaultJsonParser,defaultTextParser:na.defaultParsers.defaultTextParser,removeContentTypeParser:na.helpers.removeContentTypeParser,removeAllContentTypeParsers:na.helpers.removeAllContentTypeParsers,register:null,after:null,ready:null,onClose:null,close:null,printPlugins:null,hasPlugin:function(U){return this[af].includes(U)},listen:v,server:m,addresses:function(){let U=this[bD].map(X=>X.address());return U.push(this.server.address()),U.filter(X=>X)},decorate:Vl.add,hasDecorator:Vl.exist,decorateReply:Vl.decorateReply,decorateRequest:Vl.decorateRequest,hasRequestDecorator:Vl.existRequest,hasReplyDecorator:Vl.existReply,inject:D,printRoutes:rt,setNotFoundHandler:Be,setErrorHandler:be,initialConfig:u,addConstraintStrategy:h.addConstraintStrategy.bind(h),hasConstraintStrategy:h.hasConstraintStrategy.bind(h)};Object.defineProperties(R,{pluginName:{configurable:!0,get(){return this[af].length>1?this[af].join(" -> "):this[af][0]}},prefix:{configurable:!0,get(){return this[vD]}},validatorCompiler:{configurable:!0,get(){return this[Ys].getValidatorCompiler()}},serializerCompiler:{configurable:!0,get(){return this[Ys].getSerializerCompiler()}},version:{configurable:!0,get(){return Gce}},errorHandler:{configurable:!0,get(){return this[Kp].func}}}),e.schemaErrorFormatter&&(RD(e.schemaErrorFormatter),R[lE]=e.schemaErrorFormatter.bind(R));let C=Number(e.pluginTimeout),q=Wce(R,{autostart:!1,timeout:isNaN(C)===!1?C:pn.pluginTimeout,expose:{use:"register"}});q.override=gue,q.on("start",()=>R[Xs].started=!0),R[Wp]=R.ready,R.ready=H,R.printPlugins=q.prettyPrint.bind(q),q.once("preReady",()=>{R.onClose((U,X)=>{if(R[Xs].closing=!0,h.closeRoutes(),R[Xs].listening){if(U.server.close(X),b==="idle")U.server.closeIdleConnections();else if(y&&b)U.server.closeAllConnections();else if(b===!0)for(let ee of R[cE])ee.destroy(),R[cE].delete(ee)}else X(null)})}),R.setNotFoundHandler(),f.arrange404(R),h.setup(e,{avvio:q,fourOhFour:f,logger:l,hasLogger:c,setupResponseListeners:P,throwIfAlreadyStarted:F,validateHTTPVersion:oue(e),keepAliveConnections:g}),m.on("clientError",e.clientErrorHandler.bind(R));try{let X=L("diagnostics_channel").channel("fastify.initialization");X.hasSubscribers&&X.publish({fastify:R})}catch{}return R;function F(U){if(R[Xs].started)throw new Error(U)}function D(U,X){if(sf===void 0&&(sf=yD()),R[Xs].started){if(R[Xs].closing){let ee=new Error("Server is closed");if(X){X(ee);return}else return Promise.reject(ee)}return sf(p,U,X)}if(X)this.ready(ee=>{ee?X(ee,null):sf(p,U,X)});else return sf((ee,ne)=>{this.ready(function(nt){if(nt){ne.emit("error",nt);return}p(ee,ne)})},U)}function H(U){let X,ee;if(process.nextTick(ne),!U)return new Promise(function(ue,Qe){X=ue,ee=Qe});function ne(){R[Wp]((ue,Qe)=>{ue||R[Xs].started?nt(ue):cue("onReady",R[Wp],R,nt),Qe()})}function nt(ue){if(ue=ue!=null&&ED[ue.code]!=null?vue(ue,new ED[ue.code](ue.message)):ue,U)ue?U(ue):U(void 0,R);else{if(ue)return ee(ue);X(R)}}}function G(){return this}function he(U,X){if(F('Cannot call "addHook" when fastify instance is already started!'),X==null)throw new Gl.FST_ERR_HOOK_INVALID_HANDLER(U,X);if(U==="onSend"||U==="preSerialization"||U==="onError"||U==="preParsing"){if(X.constructor.name==="AsyncFunction"&&X.length===4)throw new Gl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(U==="onReady"){if(X.constructor.name==="AsyncFunction"&&X.length!==0)throw new Gl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(X.constructor.name==="AsyncFunction"&&X.length===3)throw new Gl.FST_ERR_HOOK_INVALID_ASYNC_HANDLER;return U==="onClose"?this.onClose(X):U==="onReady"?this[of].add(U,X):U==="onRoute"?(this[of].validate(U,X),this[of].add(U,X)):this.after((ne,nt)=>{ee.call(this,U,X),nt(ne)}),this;function ee(ne,nt){this[of].add(ne,nt),this[aE].forEach(ue=>ee.call(ue,ne,nt))}}function we(U){return F('Cannot call "addSchema" when fastify instance is already started!'),this[Ys].add(U),this[aE].forEach(X=>X.addSchema(U)),this}function Z(U,X){if(U.code==="ECONNRESET"||X.destroyed)return;let ee=JSON.stringify({error:Kce.STATUS_CODES[400],message:"Client Error",statusCode:400});this.log.trace({err:U},"client error"),X.writable&&X.write(`HTTP/1.1 400 Bad Request\r
Content-Length: ${ee.length}\r
Content-Type: application/json\r
\r
${ee}`),X.destroy(U)}function ye(U,X){U.headers["accept-version"]!==void 0&&(U.headers[Qce]=U.headers["accept-version"],U.headers["accept-version"]=void 0),f.router.lookup(U,X)}function Ge(U,X,ee){if(a){let nt=r(X),ue=l.child({reqId:nt});ue.info({req:X},"incoming request");let Qe=new Jp(nt,null,X,null,ue,SD),wt=new lf(ee,Qe,ue);return a(new _ue(U),Qe,wt)}let ne=`{"error":"Bad Request","message":"'${U}' is not a valid url component","statusCode":400}`;ee.writeHead(400,{"Content-Type":"application/json","Content-Length":ne.length}),ee.end(ne)}function re(U,X,ee){if(U!==!1)return function(nt){if(nt){if(a){let Qe=r(X),wt=l.child({reqId:Qe});wt.info({req:X},"incoming request");let Ze=new Jp(Qe,null,X,null,wt,SD),rr=new lf(ee,Ze,wt);return a(new wue,Ze,rr)}let ue='{"error":"Internal Server Error","message":"Unexpected error from async constraint","statusCode":500}';ee.writeHead(500,{"Content-Type":"application/json","Content-Length":ue.length}),ee.end(ue)}}}function Be(U,X){return F('Cannot call "setNotFoundHandler" when fastify instance is already started!'),f.setNotFoundHandler.call(this,U,X,q,h.routeHandler),this}function Mt(U){return F('Cannot call "setValidatorCompiler" when fastify instance is already started!'),this[Ys].setValidatorCompiler(U),this}function Oe(U){return F('Cannot call "setSchemaErrorFormatter" when fastify instance is already started!'),RD(U),this[lE]=U.bind(this),this}function Tr(U){return F('Cannot call "setSerializerCompiler" when fastify instance is already started!'),this[Ys].setSerializerCompiler(U),this}function Jt(U){F('Cannot call "setSchemaController" when fastify instance is already started!');let X=this[Ys],ee=_D.buildSchemaController(X,Object.assign({},X.opts,U));return this[Ys]=ee,this.getSchema=ee.getSchema.bind(ee),this.getSchemas=ee.getSchemas.bind(ee),this}function De(U){return F('Cannot call "setReplySerializer" when fastify instance is already started!'),this[wD]=U,this}function be(U){return F('Cannot call "setErrorHandler" when fastify instance is already started!'),this[Kp]=xD(this[Kp],U.bind(this)),this}function rt(U={}){return U.includeMeta=U.includeHooks?U.includeMeta?uE.concat(U.includeMeta):uE:U.includeMeta,h.printRoutes(U)}function Fe(U,{rewriteUrl:X,logger:ee}){let ne;return function(ue,Qe){if(ne===void 0&&(ne=U.isAsyncConstraint()),X){let wt=ue.url,Ze=X(ue);wt!==Ze&&(ee.debug({originalUrl:wt,url:Ze},"rewrite url"),typeof Ze=="string"?ue.url=Ze:ue.destroy(new Error(`Rewrite url for "${ue.url}" needs to be of type "string" but received "${typeof Ze}"`)))}U.routing(ue,Qe,re(ne,ue,Qe))}}}Yp.errorCodes=Gl;function RD(e){if(typeof e!="function")throw new Error(`schemaErrorFormatter option should be a function, instead got ${typeof e}`);if(e.constructor.name==="AsyncFunction")throw new Error("schemaErrorFormatter option should not be an async function")}Xp.exports=Yp;Xp.exports.fastify=Yp;Xp.exports.default=Yp});var Vt=w((Ske,AD)=>{"use strict";AD.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Uint8Array}});var Pi=w((Rke,dE)=>{"use strict";var Sue=L("buffer"),Rue=Object.getPrototypeOf(async function(){}).constructor,kD=globalThis.Blob||Sue.Blob,Tue=typeof kD<"u"?function(t){return t instanceof kD}:function(t){return!1},fE=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let r="";for(let n=0;n<t.length;n++)r+=`    ${t[n].stack}
`;super(r),this.name="AggregateError",this.errors=t}};dE.exports={AggregateError:fE,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}},promisify(e){return new Promise((t,r)=>{e((n,...i)=>n?r(n):t(...i))})},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){let i=t.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof Rue},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:Tue};dE.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var FD=w((ff,uf)=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});var jD=new WeakMap,hE=new WeakMap;function bt(e){let t=jD.get(e);return console.assert(t!=null,"'this' is expected an Event object, but got",e),t}function OD(e){if(e.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,typeof e.event.preventDefault=="function"&&e.event.preventDefault())}function Wl(e,t){jD.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,qD(i))}}Wl.prototype={get type(){return bt(this).event.type},get target(){return bt(this).eventTarget},get currentTarget(){return bt(this).currentTarget},composedPath(){let e=bt(this).currentTarget;return e==null?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return bt(this).eventPhase},stopPropagation(){let e=bt(this);e.stopped=!0,typeof e.event.stopPropagation=="function"&&e.event.stopPropagation()},stopImmediatePropagation(){let e=bt(this);e.stopped=!0,e.immediateStopped=!0,typeof e.event.stopImmediatePropagation=="function"&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(bt(this).event.bubbles)},get cancelable(){return Boolean(bt(this).event.cancelable)},preventDefault(){OD(bt(this))},get defaultPrevented(){return bt(this).canceled},get composed(){return Boolean(bt(this).event.composed)},get timeStamp(){return bt(this).timeStamp},get srcElement(){return bt(this).eventTarget},get cancelBubble(){return bt(this).stopped},set cancelBubble(e){if(!e)return;let t=bt(this);t.stopped=!0,typeof t.event.cancelBubble=="boolean"&&(t.event.cancelBubble=!0)},get returnValue(){return!bt(this).canceled},set returnValue(e){e||OD(bt(this))},initEvent(){}};Object.defineProperty(Wl.prototype,"constructor",{value:Wl,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(Wl.prototype,window.Event.prototype),hE.set(window.Event.prototype,Wl));function qD(e){return{get(){return bt(this).event[e]},set(t){bt(this).event[e]=t},configurable:!0,enumerable:!0}}function Pue(e){return{value(){let t=bt(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function Aue(e,t){let r=Object.keys(t);if(r.length===0)return e;function n(i,s){e.call(this,i,s)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let s=r[i];if(!(s in e.prototype)){let a=typeof Object.getOwnPropertyDescriptor(t,s).value=="function";Object.defineProperty(n.prototype,s,a?Pue(s):qD(s))}}return n}function DD(e){if(e==null||e===Object.prototype)return Wl;let t=hE.get(e);return t==null&&(t=Aue(DD(Object.getPrototypeOf(e)),e),hE.set(e,t)),t}function kue(e,t){let r=DD(Object.getPrototypeOf(t));return new r(e,t)}function Oue(e){return bt(e).immediateStopped}function Cue(e,t){bt(e).eventPhase=t}function Iue(e,t){bt(e).currentTarget=t}function CD(e,t){bt(e).passiveListener=t}var LD=new WeakMap,ID=1,$D=2,Qp=3;function Zp(e){return e!==null&&typeof e=="object"}function cf(e){let t=LD.get(e);if(t==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function $ue(e){return{get(){let r=cf(this).get(e);for(;r!=null;){if(r.listenerType===Qp)return r.listener;r=r.next}return null},set(t){typeof t!="function"&&!Zp(t)&&(t=null);let r=cf(this),n=null,i=r.get(e);for(;i!=null;)i.listenerType===Qp?n!==null?n.next=i.next:i.next!==null?r.set(e,i.next):r.delete(e):n=i,i=i.next;if(t!==null){let s={listener:t,listenerType:Qp,passive:!1,once:!1,next:null};n===null?r.set(e,s):n.next=s}},configurable:!0,enumerable:!0}}function pE(e,t){Object.defineProperty(e,`on${t}`,$ue(t))}function ND(e){function t(){ti.call(this)}t.prototype=Object.create(ti.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)pE(t.prototype,e[r]);return t}function ti(){if(this instanceof ti){LD.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return ND(arguments[0]);if(arguments.length>0){let e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return ND(e)}throw new TypeError("Cannot call a class as a function")}ti.prototype={addEventListener(e,t,r){if(t==null)return;if(typeof t!="function"&&!Zp(t))throw new TypeError("'listener' should be a function or an object.");let n=cf(this),i=Zp(r),o=Boolean(i?r.capture:r)?ID:$D,a={listener:t,listenerType:o,passive:i&&Boolean(r.passive),once:i&&Boolean(r.once),next:null},l=n.get(e);if(l===void 0){n.set(e,a);return}let c=null;for(;l!=null;){if(l.listener===t&&l.listenerType===o)return;c=l,l=l.next}c.next=a},removeEventListener(e,t,r){if(t==null)return;let n=cf(this),s=(Zp(r)?Boolean(r.capture):Boolean(r))?ID:$D,o=null,a=n.get(e);for(;a!=null;){if(a.listener===t&&a.listenerType===s){o!==null?o.next=a.next:a.next!==null?n.set(e,a.next):n.delete(e);return}o=a,a=a.next}},dispatchEvent(e){if(e==null||typeof e.type!="string")throw new TypeError('"event.type" should be a string.');let t=cf(this),r=e.type,n=t.get(r);if(n==null)return!0;let i=kue(this,e),s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?t.set(r,n.next):t.delete(r):s=n,CD(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else n.listenerType!==Qp&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(Oue(i))break;n=n.next}return CD(i,null),Cue(i,0),Iue(i,null),!i.defaultPrevented}};Object.defineProperty(ti.prototype,"constructor",{value:ti,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(ti.prototype,window.EventTarget.prototype);ff.defineEventAttribute=pE;ff.EventTarget=ti;ff.default=ti;uf.exports=ti;uf.exports.EventTarget=uf.exports.default=ti;uf.exports.defineEventAttribute=pE});var tm=w((hf,df)=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});var mE=FD(),Qs=class extends mE.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let t=em.get(this);if(typeof t!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return t}};mE.defineEventAttribute(Qs.prototype,"abort");function Nue(){let e=Object.create(Qs.prototype);return mE.EventTarget.call(e),em.set(e,!1),e}function jue(e){em.get(e)===!1&&(em.set(e,!0),e.dispatchEvent({type:"abort"}))}var em=new WeakMap;Object.defineProperties(Qs.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Qs.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var Zs=class{constructor(){BD.set(this,Nue())}get signal(){return MD(this)}abort(){jue(MD(this))}},BD=new WeakMap;function MD(e){let t=BD.get(e);if(t==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${e===null?"null":typeof e}`);return t}Object.defineProperties(Zs.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Zs.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});hf.AbortController=Zs;hf.AbortSignal=Qs;hf.default=Zs;df.exports=Zs;df.exports.AbortController=df.exports.default=Zs;df.exports.AbortSignal=Qs});var Mr=w((Tke,UD)=>{"use strict";var{format:que,inspect:rm,AggregateError:Due}=Pi(),Lue=globalThis.AggregateError||Due,Fue=Symbol("kIsNodeError"),Mue=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Bue=/^([A-Z][a-z0-9]*)+$/,zue="__node_internal_",nm={};function ia(e,t){if(!e)throw new nm.ERR_INTERNAL_ASSERTION(t)}function zD(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Hue(e,t,r){if(typeof t=="function")return ia(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let n=(t.match(/%[dfijoOs]/g)||[]).length;return ia(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:que(t,...r)}function vr(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(Hue(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Fue]=!0,nm[e]=n}function HD(e){let t=zue+e.name;return Object.defineProperty(e,"name",{value:t}),e}function Uue(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new Lue([t,e],t.message);return r.code=t.code,r}return e||t}var gE=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new nm.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};vr("ERR_ASSERTION","%s",Error);vr("ERR_INVALID_ARG_TYPE",(e,t,r)=>{ia(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],o=[];for(let l of t)ia(typeof l=="string","All expected entries have to be of type string"),Mue.includes(l)?i.push(l.toLowerCase()):Bue.test(l)?s.push(l):(ia(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(s.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();n+=`an instance of ${s.join(", ")}, or ${l}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`one of ${o.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let l=rm(r,{depth:-1});n+=`. Received ${l}`}}else{let l=rm(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError);vr("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=rm(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);vr("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError);vr("ERR_MISSING_ARGS",(...e)=>{ia(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);vr("ERR_OUT_OF_RANGE",(e,t,r)=>{ia(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=zD(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=zD(n)),n+="n"):n=rm(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);vr("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);vr("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);vr("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);vr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);vr("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);vr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);vr("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);vr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);vr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);vr("ERR_STREAM_WRITE_AFTER_END","write after end",Error);vr("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);UD.exports={AbortError:gE,aggregateTwoErrors:HD(Uue),hideStackFrames:HD,codes:nm}});var pf=w((Pke,QD)=>{"use strict";var{ArrayIsArray:WD,ArrayPrototypeIncludes:KD,ArrayPrototypeJoin:JD,ArrayPrototypeMap:Vue,NumberIsInteger:bE,NumberIsNaN:Gue,NumberMAX_SAFE_INTEGER:Wue,NumberMIN_SAFE_INTEGER:Kue,NumberParseInt:Jue,ObjectPrototypeHasOwnProperty:Yue,RegExpPrototypeExec:Xue,String:Que,StringPrototypeToUpperCase:Zue,StringPrototypeTrim:efe}=Vt(),{hideStackFrames:ri,codes:{ERR_SOCKET_BAD_PORT:tfe,ERR_INVALID_ARG_TYPE:rn,ERR_INVALID_ARG_VALUE:im,ERR_OUT_OF_RANGE:sa,ERR_UNKNOWN_SIGNAL:VD}}=Mr(),{normalizeEncoding:rfe}=Pi(),{isAsyncFunction:nfe,isArrayBufferView:ife}=Pi().types,GD={};function sfe(e){return e===(e|0)}function ofe(e){return e===e>>>0}var afe=/^[0-7]+$/,lfe="must be a 32-bit unsigned integer or an octal string";function cfe(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(Xue(afe,e)===null)throw new im(t,e,lfe);e=Jue(e,8)}return YD(e,t),e}var ufe=ri((e,t,r=Kue,n=Wue)=>{if(typeof e!="number")throw new rn(t,"number",e);if(!bE(e))throw new sa(t,"an integer",e);if(e<r||e>n)throw new sa(t,`>= ${r} && <= ${n}`,e)}),ffe=ri((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new rn(t,"number",e);if(!bE(e))throw new sa(t,"an integer",e);if(e<r||e>n)throw new sa(t,`>= ${r} && <= ${n}`,e)}),YD=ri((e,t,r=!1)=>{if(typeof e!="number")throw new rn(t,"number",e);if(!bE(e))throw new sa(t,"an integer",e);let n=r?1:0,i=4294967295;if(e<n||e>i)throw new sa(t,`>= ${n} && <= ${i}`,e)});function XD(e,t){if(typeof e!="string")throw new rn(t,"string",e)}function dfe(e,t,r=void 0,n){if(typeof e!="number")throw new rn(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&Gue(e))throw new sa(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}var hfe=ri((e,t,r)=>{if(!KD(r,e)){let i="must be one of: "+JD(Vue(r,s=>typeof s=="string"?`'${s}'`:Que(s)),", ");throw new im(t,e,i)}});function pfe(e,t){if(typeof e!="boolean")throw new rn(t,"boolean",e)}function yE(e,t,r){return e==null||!Yue(e,t)?r:e[t]}var mfe=ri((e,t,r=null)=>{let n=yE(r,"allowArray",!1),i=yE(r,"allowFunction",!1);if(!yE(r,"nullable",!1)&&e===null||!n&&WD(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new rn(t,"Object",e)}),gfe=ri((e,t,r=0)=>{if(!WD(e))throw new rn(t,"Array",e);if(e.length<r){let n=`must be longer than ${r}`;throw new im(t,e,n)}});function yfe(e,t="signal"){if(XD(e,t),GD[e]===void 0)throw GD[Zue(e)]!==void 0?new VD(e+" (signals must use all capital letters)"):new VD(e)}var bfe=ri((e,t="buffer")=>{if(!ife(e))throw new rn(t,["Buffer","TypedArray","DataView"],e)});function vfe(e,t){let r=rfe(t),n=e.length;if(r==="hex"&&n%2!==0)throw new im("encoding",t,`is invalid for data of length ${n}`)}function wfe(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&efe(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new tfe(t,e,r);return e|0}var _fe=ri((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new rn(t,"AbortSignal",e)}),Efe=ri((e,t)=>{if(typeof e!="function")throw new rn(t,"Function",e)}),xfe=ri((e,t)=>{if(typeof e!="function"||nfe(e))throw new rn(t,"Function",e)}),Sfe=ri((e,t)=>{if(e!==void 0)throw new rn(t,"undefined",e)});function Rfe(e,t,r){if(!KD(r,e))throw new rn(t,`('${JD(r,"|")}')`,e)}QD.exports={isInt32:sfe,isUint32:ofe,parseFileMode:cfe,validateArray:gfe,validateBoolean:pfe,validateBuffer:bfe,validateEncoding:vfe,validateFunction:Efe,validateInt32:ffe,validateInteger:ufe,validateNumber:dfe,validateObject:mfe,validateOneOf:hfe,validatePlainFunction:xfe,validatePort:wfe,validateSignalName:yfe,validateString:XD,validateUint32:YD,validateUndefined:Sfe,validateUnion:Rfe,validateAbortSignal:_fe}});var eo=w((Ake,ZD)=>{ZD.exports=global.process});var to=w((kke,fL)=>{"use strict";var{Symbol:sm,SymbolAsyncIterator:eL,SymbolIterator:tL}=Vt(),rL=sm("kDestroyed"),nL=sm("kIsErrored"),vE=sm("kIsReadable"),iL=sm("kIsDisturbed");function om(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function am(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function Tfe(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function oa(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function Pfe(e,t){return e==null?!1:t===!0?typeof e[eL]=="function":t===!1?typeof e[tL]=="function":typeof e[eL]=="function"||typeof e[tL]=="function"}function lm(e){if(!oa(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[rL]||n!=null&&n.destroyed)}function sL(e){if(!am(e))return null;if(e.writableEnded===!0)return!0;let t=e._writableState;return t!=null&&t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function Afe(e,t){if(!am(e))return null;if(e.writableFinished===!0)return!0;let r=e._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function kfe(e){if(!om(e))return null;if(e.readableEnded===!0)return!0;let t=e._readableState;return!t||t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function oL(e,t){if(!om(e))return null;let r=e._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function aL(e){return e&&e[vE]!=null?e[vE]:typeof e?.readable!="boolean"?null:lm(e)?!1:om(e)&&e.readable&&!oL(e)}function lL(e){return typeof e?.writable!="boolean"?null:lm(e)?!1:am(e)&&e.writable&&!sL(e)}function Ofe(e,t){return oa(e)?lm(e)?!0:!(t?.readable!==!1&&aL(e)||t?.writable!==!1&&lL(e)):null}function Cfe(e){var t,r;return oa(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function Ife(e){var t,r;return oa(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function $fe(e){if(!oa(e))return null;if(typeof e.closed=="boolean")return e.closed;let t=e._writableState,r=e._readableState;return typeof t?.closed=="boolean"||typeof r?.closed=="boolean"?t?.closed||r?.closed:typeof e._closed=="boolean"&&cL(e)?e._closed:null}function cL(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function uL(e){return typeof e._sent100=="boolean"&&cL(e)}function Nfe(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function jfe(e){if(!oa(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&uL(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function qfe(e){var t;return!!(e&&((t=e[iL])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function Dfe(e){var t,r,n,i,s,o,a,l,c,u;return!!(e&&((t=(r=(n=(i=(s=(o=e[nL])!==null&&o!==void 0?o:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&i!==void 0?i:(a=e._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(l=e._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=e._readableState)===null||c===void 0?void 0:c.errored)!==null&&t!==void 0?t:!((u=e._writableState)===null||u===void 0)&&u.errored))}fL.exports={kDestroyed:rL,isDisturbed:qfe,kIsDisturbed:iL,isErrored:Dfe,kIsErrored:nL,isReadable:aL,kIsReadable:vE,isClosed:$fe,isDestroyed:lm,isDuplexNodeStream:Tfe,isFinished:Ofe,isIterable:Pfe,isReadableNodeStream:om,isReadableEnded:kfe,isReadableFinished:oL,isReadableErrored:Ife,isNodeStream:oa,isWritable:lL,isWritableNodeStream:am,isWritableEnded:sL,isWritableFinished:Afe,isWritableErrored:Cfe,isServerRequest:Nfe,isServerResponse:uL,willEmitClose:jfe}});var ro=w((Oke,_E)=>{var Kl=eo(),{AbortError:Lfe,codes:Ffe}=Mr(),{ERR_INVALID_ARG_TYPE:Mfe,ERR_STREAM_PREMATURE_CLOSE:dL}=Ffe,{kEmptyObject:hL,once:pL}=Pi(),{validateAbortSignal:Bfe,validateFunction:zfe,validateObject:Hfe}=pf(),{Promise:Ufe}=Vt(),{isClosed:Vfe,isReadable:mL,isReadableNodeStream:wE,isReadableFinished:gL,isReadableErrored:Gfe,isWritable:yL,isWritableNodeStream:bL,isWritableFinished:vL,isWritableErrored:Wfe,isNodeStream:Kfe,willEmitClose:Jfe}=to();function Yfe(e){return e.setHeader&&typeof e.abort=="function"}var Xfe=()=>{};function wL(e,t,r){var n,i;arguments.length===2?(r=t,t=hL):t==null?t=hL:Hfe(t,"options"),zfe(r,"callback"),Bfe(t.signal,"options.signal"),r=pL(r);let s=(n=t.readable)!==null&&n!==void 0?n:wE(e),o=(i=t.writable)!==null&&i!==void 0?i:bL(e);if(!Kfe(e))throw new Mfe("stream","Stream",e);let a=e._writableState,l=e._readableState,c=()=>{e.writable||h()},u=Jfe(e)&&wE(e)===s&&bL(e)===o,d=vL(e,!1),h=()=>{d=!0,e.destroyed&&(u=!1),!(u&&(!e.readable||s))&&(!s||f)&&r.call(e)},f=gL(e,!1),p=()=>{f=!0,e.destroyed&&(u=!1),!(u&&(!e.writable||o))&&(!o||d)&&r.call(e)},m=g=>{r.call(e,g)},v=Vfe(e),y=()=>{v=!0;let g=Wfe(e)||Gfe(e);if(g&&typeof g!="boolean")return r.call(e,g);if(s&&!f&&wE(e,!0)&&!gL(e,!1))return r.call(e,new dL);if(o&&!d&&!vL(e,!1))return r.call(e,new dL);r.call(e)},E=()=>{e.req.on("finish",h)};Yfe(e)?(e.on("complete",h),u||e.on("abort",y),e.req?E():e.on("request",E)):o&&!a&&(e.on("end",c),e.on("close",c)),!u&&typeof e.aborted=="boolean"&&e.on("aborted",y),e.on("end",p),e.on("finish",h),t.error!==!1&&e.on("error",m),e.on("close",y),v?Kl.nextTick(y):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?u||Kl.nextTick(y):(!s&&(!u||mL(e))&&(d||yL(e)===!1)||!o&&(!u||yL(e))&&(f||mL(e)===!1)||l&&e.req&&e.aborted)&&Kl.nextTick(y);let b=()=>{r=Xfe,e.removeListener("aborted",y),e.removeListener("complete",h),e.removeListener("abort",y),e.removeListener("request",E),e.req&&e.req.removeListener("finish",h),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",h),e.removeListener("end",p),e.removeListener("error",m),e.removeListener("close",y)};if(t.signal&&!v){let g=()=>{let P=r;b(),P.call(e,new Lfe(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Kl.nextTick(g);else{let P=r;r=pL((...O)=>{t.signal.removeEventListener("abort",g),P.apply(e,O)}),t.signal.addEventListener("abort",g)}}return b}function Qfe(e,t){return new Ufe((r,n)=>{wL(e,t,i=>{i?n(i):r()})})}_E.exports=wL;_E.exports.finished=Qfe});var AL=w((Cke,SE)=>{"use strict";var SL=globalThis.AbortController||tm().AbortController,{codes:{ERR_INVALID_ARG_TYPE:mf,ERR_MISSING_ARGS:Zfe,ERR_OUT_OF_RANGE:ede},AbortError:Ai}=Mr(),{validateAbortSignal:Jl,validateInteger:tde,validateObject:Yl}=pf(),rde=Vt().Symbol("kWeak"),{finished:nde}=ro(),{ArrayPrototypePush:ide,MathFloor:sde,Number:ode,NumberIsNaN:ade,Promise:_L,PromiseReject:EL,PromisePrototypeThen:lde,Symbol:RL}=Vt(),cm=RL("kEmpty"),xL=RL("kEof");function um(e,t){if(typeof e!="function")throw new mf("fn",["Function","AsyncFunction"],e);t!=null&&Yl(t,"options"),t?.signal!=null&&Jl(t.signal,"options.signal");let r=1;return t?.concurrency!=null&&(r=sde(t.concurrency)),tde(r,"concurrency",1),async function*(){var i,s;let o=new SL,a=this,l=[],c=o.signal,u={signal:c},d=()=>o.abort();t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted&&d(),t==null||(s=t.signal)===null||s===void 0||s.addEventListener("abort",d);let h,f,p=!1;function m(){p=!0}async function v(){try{for await(let b of a){var y;if(p)return;if(c.aborted)throw new Ai;try{b=e(b,u)}catch(g){b=EL(g)}b!==cm&&(typeof((y=b)===null||y===void 0?void 0:y.catch)=="function"&&b.catch(m),l.push(b),h&&(h(),h=null),!p&&l.length&&l.length>=r&&await new _L(g=>{f=g}))}l.push(xL)}catch(b){let g=EL(b);lde(g,void 0,m),l.push(g)}finally{var E;p=!0,h&&(h(),h=null),t==null||(E=t.signal)===null||E===void 0||E.removeEventListener("abort",d)}}v();try{for(;;){for(;l.length>0;){let y=await l[0];if(y===xL)return;if(c.aborted)throw new Ai;y!==cm&&(yield y),l.shift(),f&&(f(),f=null)}await new _L(y=>{h=y})}}finally{o.abort(),p=!0,f&&(f(),f=null)}}.call(this)}function cde(e=void 0){return e!=null&&Yl(e,"options"),e?.signal!=null&&Jl(e.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Ai({cause:e.signal.reason});yield[r++,i]}}.call(this)}async function TL(e,t=void 0){for await(let r of xE.call(this,e,t))return!0;return!1}async function ude(e,t=void 0){if(typeof e!="function")throw new mf("fn",["Function","AsyncFunction"],e);return!await TL.call(this,async(...r)=>!await e(...r),t)}async function fde(e,t){for await(let r of xE.call(this,e,t))return r}async function dde(e,t){if(typeof e!="function")throw new mf("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i),cm}for await(let n of um.call(this,r,t));}function xE(e,t){if(typeof e!="function")throw new mf("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i)?n:cm}return um.call(this,r,t)}var EE=class extends Zfe{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function hde(e,t,r){var n;if(typeof e!="function")throw new mf("reducer",["Function","AsyncFunction"],e);r!=null&&Yl(r,"options"),r?.signal!=null&&Jl(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let c=new Ai(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await nde(this.destroy(c)),c}let s=new SL,o=s.signal;if(r!=null&&r.signal){let c={once:!0,[rde]:this};r.signal.addEventListener("abort",()=>s.abort(),c)}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new Ai;i?t=await e(t,c,{signal:o}):(t=c,i=!0)}if(!a&&!i)throw new EE}finally{s.abort()}return t}async function pde(e){e!=null&&Yl(e,"options"),e?.signal!=null&&Jl(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Ai(void 0,{cause:e.signal.reason});ide(t,n)}return t}function mde(e,t){let r=um.call(this,e,t);return async function*(){for await(let i of r)yield*i}.call(this)}function PL(e){if(e=ode(e),ade(e))return 0;if(e<0)throw new ede("number",">= 0",e);return e}function gde(e,t=void 0){return t!=null&&Yl(t,"options"),t?.signal!=null&&Jl(t.signal,"options.signal"),e=PL(e),async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ai;for await(let s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Ai;e--<=0&&(yield s)}}.call(this)}function yde(e,t=void 0){return t!=null&&Yl(t,"options"),t?.signal!=null&&Jl(t.signal,"options.signal"),e=PL(e),async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Ai;for await(let s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Ai;if(e-- >0)yield s;else return}}.call(this)}SE.exports.streamReturningOperators={asIndexedPairs:cde,drop:gde,filter:xE,flatMap:mde,map:um,take:yde};SE.exports.promiseReturningOperators={every:ude,forEach:dde,reduce:hde,toArray:pde,some:TL,find:fde}});var aa=w((Ike,qL)=>{"use strict";var no=eo(),{aggregateTwoErrors:bde,codes:{ERR_MULTIPLE_CALLBACK:vde},AbortError:wde}=Mr(),{Symbol:CL}=Vt(),{kDestroyed:_de,isDestroyed:Ede,isFinished:xde,isServerRequest:Sde}=to(),IL=CL("kDestroy"),RE=CL("kConstruct");function $L(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function Rde(e,t){let r=this._readableState,n=this._writableState,i=n||r;return n&&n.destroyed||r&&r.destroyed?(typeof t=="function"&&t(),this):($L(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?kL(this,e,t):this.once(IL,function(s){kL(this,bde(s,e),t)}),this)}function kL(e,t,r){let n=!1;function i(s){if(n)return;n=!0;let o=e._readableState,a=e._writableState;$L(s,a,o),a&&(a.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?no.nextTick(Tde,e,s):no.nextTick(NL,e)}try{e._destroy(t||null,i)}catch(s){i(s)}}function Tde(e,t){TE(e,t),NL(e)}function NL(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r&&r.emitClose||t&&t.emitClose)&&e.emit("close")}function TE(e,t){let r=e._readableState,n=e._writableState;n&&n.errorEmitted||r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function Pde(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function PE(e,t,r){let n=e._readableState,i=e._writableState;if(i&&i.destroyed||n&&n.destroyed)return this;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?no.nextTick(TE,e,t):TE(e,t))}function Ade(e,t){if(typeof e._construct!="function")return;let r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(RE,t),!(e.listenerCount(RE)>1)&&no.nextTick(kde,e)}function kde(e){let t=!1;function r(n){if(t){PE(e,n??new vde);return}t=!0;let i=e._readableState,s=e._writableState,o=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),o.destroyed?e.emit(IL,n):n?PE(e,n,!0):no.nextTick(Ode,e)}try{e._construct(r)}catch(n){r(n)}}function Ode(e){e.emit(RE)}function OL(e){return e&&e.setHeader&&typeof e.abort=="function"}function jL(e){e.emit("close")}function Cde(e,t){e.emit("error",t),no.nextTick(jL,e)}function Ide(e,t){!e||Ede(e)||(!t&&!xde(e)&&(t=new wde),Sde(e)?(e.socket=null,e.destroy(t)):OL(e)?e.abort():OL(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?no.nextTick(Cde,e,t):no.nextTick(jL,e),e.destroyed||(e[_de]=!0))}qL.exports={construct:Ade,destroyer:Ide,destroy:Rde,undestroy:Pde,errorOrDestroy:PE}});var hm=w(($ke,LL)=>{"use strict";var{ArrayIsArray:$de,ObjectSetPrototypeOf:DL}=Vt(),{EventEmitter:fm}=L("events");function dm(e){fm.call(this,e)}DL(dm.prototype,fm.prototype);DL(dm,fm);dm.prototype.pipe=function(e,t){let r=this;function n(u){e.writable&&e.write(u)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",o),r.on("close",a));let s=!1;function o(){s||(s=!0,e.end())}function a(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function l(u){c(),fm.listenerCount(this,"error")===0&&this.emit("error",u)}AE(r,"error",l),AE(e,"error",l);function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};function AE(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):$de(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}LL.exports={Stream:dm,prependListener:AE}});var mm=w((Nke,pm)=>{"use strict";var{AbortError:Nde,codes:jde}=Mr(),qde=ro(),{ERR_INVALID_ARG_TYPE:FL}=jde,Dde=(e,t)=>{if(typeof e!="object"||!("aborted"in e))throw new FL(t,"AbortSignal",e)};function Lde(e){return!!(e&&typeof e.pipe=="function")}pm.exports.addAbortSignal=function(t,r){if(Dde(t,"signal"),!Lde(r))throw new FL("stream","stream.Stream",r);return pm.exports.addAbortSignalNoValidate(t,r)};pm.exports.addAbortSignalNoValidate=function(e,t){if(typeof e!="object"||!("aborted"in e))return t;let r=()=>{t.destroy(new Nde(void 0,{cause:e.reason}))};return e.aborted?r():(e.addEventListener("abort",r),qde(t,()=>e.removeEventListener("abort",r))),t}});var zL=w((qke,BL)=>{"use strict";var{StringPrototypeSlice:ML,SymbolIterator:Fde,TypedArrayPrototypeSet:gm,Uint8Array:Mde}=Vt(),{Buffer:kE}=L("buffer"),{inspect:Bde}=Pi();BL.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){let r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return kE.alloc(0);let r=kE.allocUnsafe(t>>>0),n=this.head,i=0;for(;n;)gm(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(t,r){let n=this.head.data;if(t<n.length){let i=n.slice(0,t);return this.head.data=n.slice(t),i}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[Fde](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,i=0;do{let s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=ML(s,0,t),this.head=n,n.data=ML(s,t));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(t){let r=kE.allocUnsafe(t),n=t,i=this.head,s=0;do{let o=i.data;if(t>o.length)gm(r,o,n-t),t-=o.length;else{t===o.length?(gm(r,o,n-t),++s,i.next?this.head=i.next:this.head=this.tail=null):(gm(r,new Mde(o.buffer,o.byteOffset,t),n-t),this.head=i,i.data=o.slice(t));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return Bde(this,{...r,depth:0,customInspect:!1})}}});var ym=w((Dke,UL)=>{"use strict";var{MathFloor:zde,NumberIsInteger:Hde}=Vt(),{ERR_INVALID_ARG_VALUE:Ude}=Mr().codes;function Vde(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function HL(e){return e?16:16*1024}function Gde(e,t,r,n){let i=Vde(t,n,r);if(i!=null){if(!Hde(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new Ude(s,i)}return zde(i)}return HL(e.objectMode)}UL.exports={getHighWaterMark:Gde,getDefaultHighWaterMark:HL}});var OE=w((Lke,KL)=>{"use strict";var VL=eo(),{PromisePrototypeThen:Wde,SymbolAsyncIterator:GL,SymbolIterator:WL}=Vt(),{Buffer:Kde}=L("buffer"),{ERR_INVALID_ARG_TYPE:Jde,ERR_STREAM_NULL_VALUES:Yde}=Mr().codes;function Xde(e,t,r){let n;if(typeof t=="string"||t instanceof Kde)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[GL])i=!0,n=t[GL]();else if(t&&t[WL])i=!1,n=t[WL]();else throw new Jde("iterable",["Iterable"],t);let s=new e({objectMode:!0,highWaterMark:1,...r}),o=!1;s._read=function(){o||(o=!0,l())},s._destroy=function(c,u){Wde(a(c),()=>VL.nextTick(u,c),d=>VL.nextTick(u,d||c))};async function a(c){let u=c!=null,d=typeof n.throw=="function";if(u&&d){let{value:h,done:f}=await n.throw(c);if(await h,f)return}if(typeof n.return=="function"){let{value:h}=await n.return();await h}}async function l(){for(;;){try{let{value:c,done:u}=i?await n.next():n.next();if(u)s.push(null);else{let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw o=!1,new Yde;if(s.push(d))continue;o=!1}}catch(c){s.destroy(c)}break}}return s}KL.exports=Xde});var gf=w((Fke,a4)=>{var ni=eo(),{ArrayPrototypeIndexOf:Qde,NumberIsInteger:Zde,NumberIsNaN:ehe,NumberParseInt:the,ObjectDefineProperties:XL,ObjectKeys:rhe,ObjectSetPrototypeOf:QL,Promise:nhe,SafeSet:ihe,SymbolAsyncIterator:she,Symbol:ohe}=Vt();a4.exports=ke;ke.ReadableState=qE;var{EventEmitter:ahe}=L("events"),{Stream:io,prependListener:lhe}=hm(),{Buffer:CE}=L("buffer"),{addAbortSignal:che}=mm(),uhe=ro(),qe=Pi().debuglog("stream",e=>{qe=e}),fhe=zL(),Ql=aa(),{getHighWaterMark:dhe,getDefaultHighWaterMark:hhe}=ym(),{aggregateTwoErrors:JL,codes:{ERR_INVALID_ARG_TYPE:phe,ERR_METHOD_NOT_IMPLEMENTED:mhe,ERR_OUT_OF_RANGE:ghe,ERR_STREAM_PUSH_AFTER_EOF:yhe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:bhe}}=Mr(),{validateObject:vhe}=pf(),la=ohe("kPaused"),{StringDecoder:ZL}=L("string_decoder"),whe=OE();QL(ke.prototype,io.prototype);QL(ke,io);var IE=()=>{},{errorOrDestroy:Xl}=Ql;function qE(e,t,r){typeof r!="boolean"&&(r=t instanceof ki()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.readableObjectMode)),this.highWaterMark=e?dhe(this,e,"readableHighWaterMark",r):hhe(!1),this.buffer=new fhe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[la]=null,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new ZL(e.encoding),this.encoding=e.encoding)}function ke(e){if(!(this instanceof ke))return new ke(e);let t=this instanceof ki();this._readableState=new qE(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&che(e.signal,this)),io.call(this,e),Ql.construct(this,()=>{this._readableState.needReadable&&bm(this,this._readableState)})}ke.prototype.destroy=Ql.destroy;ke.prototype._undestroy=Ql.undestroy;ke.prototype._destroy=function(e,t){t(e)};ke.prototype[ahe.captureRejectionSymbol]=function(e){this.destroy(e)};ke.prototype.push=function(e,t){return e4(this,e,t,!1)};ke.prototype.unshift=function(e,t){return e4(this,e,t,!0)};function e4(e,t,r,n){qe("readableAddChunk",t);let i=e._readableState,s;if(i.objectMode||(typeof t=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=CE.from(t,r).toString(i.encoding):(t=CE.from(t,r),r=""))):t instanceof CE?r="":io._isUint8Array(t)?(t=io._uint8ArrayToBuffer(t),r=""):t!=null&&(s=new phe("chunk",["string","Buffer","Uint8Array"],t))),s)Xl(e,s);else if(t===null)i.reading=!1,xhe(e,i);else if(i.objectMode||t&&t.length>0)if(n)if(i.endEmitted)Xl(e,new bhe);else{if(i.destroyed||i.errored)return!1;$E(e,i,t,!0)}else if(i.ended)Xl(e,new yhe);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?$E(e,i,t,!1):bm(e,i)):$E(e,i,t,!1)}else n||(i.reading=!1,bm(e,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function $E(e,t,r,n){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&vm(e)),bm(e,t)}ke.prototype.isPaused=function(){let e=this._readableState;return e[la]===!0||e.flowing===!1};ke.prototype.setEncoding=function(e){let t=new ZL(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=t.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var _he=1073741824;function Ehe(e){if(e>_he)throw new ghe("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}function YL(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:ehe(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}ke.prototype.read=function(e){qe("read",e),e===void 0?e=NaN:Zde(e)||(e=the(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=Ehe(e)),e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return qe("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?NE(this):vm(this),null;if(e=YL(e,t),e===0&&t.ended)return t.length===0&&NE(this),null;let n=t.needReadable;if(qe("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,qe("length less than watermark",n)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)n=!1,qe("reading, ended or constructing",n);else if(n){qe("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(s){Xl(this,s)}t.sync=!1,t.reading||(e=YL(r,t))}let i;return e>0?i=s4(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&NE(this)),i!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",i)),i};function xhe(e,t){if(qe("onEofChunk"),!t.ended){if(t.decoder){let r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?vm(e):(t.needReadable=!1,t.emittedReadable=!0,t4(e))}}function vm(e){let t=e._readableState;qe("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(qe("emitReadable",t.flowing),t.emittedReadable=!0,ni.nextTick(t4,e))}function t4(e){let t=e._readableState;qe("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,n4(e)}function bm(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,ni.nextTick(She,e,t))}function She(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){let r=t.length;if(qe("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}ke.prototype._read=function(e){throw new mhe("_read()")};ke.prototype.pipe=function(e,t){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new ihe(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),qe("pipe count=%d opts=%j",n.pipes.length,t);let s=(!t||t.end!==!1)&&e!==ni.stdout&&e!==ni.stderr?a:v;n.endEmitted?ni.nextTick(s):r.once("end",s),e.on("unpipe",o);function o(y,E){qe("onunpipe"),y===r&&E&&E.hasUnpiped===!1&&(E.hasUnpiped=!0,u())}function a(){qe("onend"),e.end()}let l,c=!1;function u(){qe("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),l&&e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",v),r.removeListener("data",h),c=!0,l&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}function d(){c||(n.pipes.length===1&&n.pipes[0]===e?(qe("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(qe("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),r.pause()),l||(l=Rhe(r,e),e.on("drain",l))}r.on("data",h);function h(y){qe("ondata");let E=e.write(y);qe("dest.write",E),E===!1&&d()}function f(y){if(qe("onerror",y),v(),e.removeListener("error",f),e.listenerCount("error")===0){let E=e._writableState||e._readableState;E&&!E.errorEmitted?Xl(e,y):e.emit("error",y)}}lhe(e,"error",f);function p(){e.removeListener("finish",m),v()}e.once("close",p);function m(){qe("onfinish"),e.removeListener("close",p),v()}e.once("finish",m);function v(){qe("unpipe"),r.unpipe(e)}return e.emit("pipe",r),e.writableNeedDrain===!0?n.flowing&&d():n.flowing||(qe("pipe resume"),r.resume()),e};function Rhe(e,t){return function(){let n=e._readableState;n.awaitDrainWriters===t?(qe("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(qe("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&e.listenerCount("data")&&e.resume()}}ke.prototype.unpipe=function(e){let t=this._readableState,r={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){let i=t.pipes;t.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Qde(t.pipes,e);return n===-1?this:(t.pipes.splice(n,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,r),this)};ke.prototype.on=function(e,t){let r=io.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,qe("on readable",n.length,n.reading),n.length?vm(this):n.reading||ni.nextTick(The,this)),r};ke.prototype.addListener=ke.prototype.on;ke.prototype.removeListener=function(e,t){let r=io.prototype.removeListener.call(this,e,t);return e==="readable"&&ni.nextTick(r4,this),r};ke.prototype.off=ke.prototype.removeListener;ke.prototype.removeAllListeners=function(e){let t=io.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&ni.nextTick(r4,this),t};function r4(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[la]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function The(e){qe("readable nexttick read 0"),e.read(0)}ke.prototype.resume=function(){let e=this._readableState;return e.flowing||(qe("resume"),e.flowing=!e.readableListening,Phe(this,e)),e[la]=!1,this};function Phe(e,t){t.resumeScheduled||(t.resumeScheduled=!0,ni.nextTick(Ahe,e,t))}function Ahe(e,t){qe("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),n4(e),t.flowing&&!t.reading&&e.read(0)}ke.prototype.pause=function(){return qe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(qe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[la]=!0,this};function n4(e){let t=e._readableState;for(qe("flow",t.flowing);t.flowing&&e.read()!==null;);}ke.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",n=>{Xl(this,n)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=rhe(e);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof e[i]=="function"&&(this[i]=e[i].bind(e))}return this};ke.prototype[she]=function(){return i4(this)};ke.prototype.iterator=function(e){return e!==void 0&&vhe(e,"options"),i4(this,e)};function i4(e,t){typeof e.read!="function"&&(e=ke.wrap(e,{objectMode:!0}));let r=khe(e,t);return r.stream=e,r}async function*khe(e,t){let r=IE;function n(o){this===e?(r(),r=IE):r=o}e.on("readable",n);let i,s=uhe(e,{writable:!1},o=>{i=o?JL(i,o):null,r(),r=IE});try{for(;;){let o=e.destroyed?null:e.read();if(o!==null)yield o;else{if(i)throw i;if(i===null)return;await new nhe(n)}}}catch(o){throw i=JL(i,o),i}finally{(i||t?.destroyOnReturn!==!1)&&(i===void 0||e._readableState.autoDestroy)?Ql.destroyer(e,null):(e.off("readable",n),s())}}XL(ke.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});XL(qE.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[la]!==!1},set(e){this[la]=!!e}}});ke._fromList=s4;function s4(e,t){if(t.length===0)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function NE(e){let t=e._readableState;qe("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,ni.nextTick(Ohe,t,e))}function Ohe(e,t){if(qe("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)ni.nextTick(Che,t);else if(e.autoDestroy){let r=t._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&t.destroy()}}}function Che(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}ke.from=function(e,t){return whe(ke,e,t)};var jE;function o4(){return jE===void 0&&(jE={}),jE}ke.fromWeb=function(e,t){return o4().newStreamReadableFromReadableStream(e,t)};ke.toWeb=function(e,t){return o4().newReadableStreamFromStreamReadable(e,t)};ke.wrap=function(e,t){var r,n;return new ke({objectMode:(r=(n=e.readableObjectMode)!==null&&n!==void 0?n:e.objectMode)!==null&&r!==void 0?r:!0,...t,destroy(i,s){Ql.destroyer(e,i),s(i)}}).wrap(e)}});var HE=w((Mke,v4)=>{var ca=eo(),{ArrayPrototypeSlice:u4,Error:Ihe,FunctionPrototypeSymbolHasInstance:f4,ObjectDefineProperty:d4,ObjectDefineProperties:$he,ObjectSetPrototypeOf:h4,StringPrototypeToLowerCase:Nhe,Symbol:jhe,SymbolHasInstance:qhe}=Vt();v4.exports=Pt;Pt.WritableState=vf;var{EventEmitter:Dhe}=L("events"),yf=hm().Stream,{Buffer:wm}=L("buffer"),xm=aa(),{addAbortSignal:Lhe}=mm(),{getHighWaterMark:Fhe,getDefaultHighWaterMark:Mhe}=ym(),{ERR_INVALID_ARG_TYPE:Bhe,ERR_METHOD_NOT_IMPLEMENTED:zhe,ERR_MULTIPLE_CALLBACK:p4,ERR_STREAM_CANNOT_PIPE:Hhe,ERR_STREAM_DESTROYED:bf,ERR_STREAM_ALREADY_FINISHED:Uhe,ERR_STREAM_NULL_VALUES:Vhe,ERR_STREAM_WRITE_AFTER_END:Ghe,ERR_UNKNOWN_ENCODING:m4}=Mr().codes,{errorOrDestroy:Zl}=xm;h4(Pt.prototype,yf.prototype);h4(Pt,yf);function FE(){}var ec=jhe("kOnFinished");function vf(e,t,r){typeof r!="boolean"&&(r=t instanceof ki()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?Fhe(this,e,"writableHighWaterMark",r):Mhe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(e&&e.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Khe.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Em(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ec]=[]}function Em(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}vf.prototype.getBuffer=function(){return u4(this.buffered,this.bufferedIndex)};d4(vf.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Pt(e){let t=this instanceof ki();if(!t&&!f4(Pt,this))return new Pt(e);this._writableState=new vf(e,this,t),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&Lhe(e.signal,this)),yf.call(this,e),xm.construct(this,()=>{let r=this._writableState;r.writing||BE(this,r),zE(this,r)})}d4(Pt,qhe,{__proto__:null,value:function(e){return f4(this,e)?!0:this!==Pt?!1:e&&e._writableState instanceof vf}});Pt.prototype.pipe=function(){Zl(this,new Hhe)};function g4(e,t,r,n){let i=e._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!wm.isEncoding(r))throw new m4(r);typeof n!="function"&&(n=FE)}if(t===null)throw new Vhe;if(!i.objectMode)if(typeof t=="string")i.decodeStrings!==!1&&(t=wm.from(t,r),r="buffer");else if(t instanceof wm)r="buffer";else if(yf._isUint8Array(t))t=yf._uint8ArrayToBuffer(t),r="buffer";else throw new Bhe("chunk",["string","Buffer","Uint8Array"],t);let s;return i.ending?s=new Ghe:i.destroyed&&(s=new bf("write")),s?(ca.nextTick(n,s),Zl(e,s,!0),s):(i.pendingcb++,Whe(e,i,t,r,n))}Pt.prototype.write=function(e,t,r){return g4(this,e,t,r)===!0};Pt.prototype.cork=function(){this._writableState.corked++};Pt.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||BE(this,e))};Pt.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=Nhe(t)),!wm.isEncoding(t))throw new m4(t);return this._writableState.defaultEncoding=t,this};function Whe(e,t,r,n,i){let s=t.objectMode?1:r.length;t.length+=s;let o=t.length<t.highWaterMark;return o||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&n!=="buffer"&&(t.allBuffers=!1),t.allNoop&&i!==FE&&(t.allNoop=!1)):(t.writelen=s,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),o&&!t.errored&&!t.destroyed}function l4(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new bf("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function c4(e,t,r,n){--t.pendingcb,n(r),ME(t),Zl(e,r)}function Khe(e,t){let r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Zl(e,new p4);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?ca.nextTick(c4,e,r,t,i):c4(e,r,t,i)):(r.buffered.length>r.bufferedIndex&&BE(e,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:e,state:r},ca.nextTick(Jhe,r.afterWriteTickInfo)):y4(e,r,1,i))}function Jhe({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,y4(e,t,r,n)}function y4(e,t,r,n){for(!t.ending&&!e.destroyed&&t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&ME(t),zE(e,t)}function ME(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;let{chunk:s,callback:o}=e.buffered[i],a=e.objectMode?1:s.length;e.length-=a,o((t=e.errored)!==null&&t!==void 0?t:new bf("write"))}let r=e[ec].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=e.errored)!==null&&n!==void 0?n:new bf("end"))}Em(e)}function BE(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,s=r.length-n;if(!s)return;let o=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let a=t.allNoop?FE:c=>{for(let u=o;u<r.length;++u)r[u].callback(c)},l=t.allNoop&&o===0?r:u4(r,o);l.allBuffers=t.allBuffers,l4(e,t,!0,t.length,l,"",a),Em(t)}else{do{let{chunk:a,encoding:l,callback:c}=r[o];r[o++]=null;let u=i?1:a.length;l4(e,t,!1,u,a,l,c)}while(o<r.length&&!t.writing);o===r.length?Em(t):o>256?(r.splice(0,o),t.bufferedIndex=0):t.bufferedIndex=o}t.bufferProcessing=!1}Pt.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new zhe("_write()")};Pt.prototype._writev=null;Pt.prototype.end=function(e,t,r){let n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null);let i;if(e!=null){let s=g4(this,e,t);s instanceof Ihe&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,zE(this,n,!0),n.ended=!0):n.finished?i=new Uhe("end"):n.destroyed&&(i=new bf("end"))),typeof r=="function"&&(i||n.finished?ca.nextTick(r,i):n[ec].push(r)),this};function _m(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function Yhe(e,t){let r=!1;function n(i){if(r){Zl(e,i??p4());return}if(r=!0,t.pendingcb--,i){let s=t[ec].splice(0);for(let o=0;o<s.length;o++)s[o](i);Zl(e,i,t.sync)}else _m(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,ca.nextTick(LE,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(i){n(i)}t.sync=!1}function Xhe(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.finalCalled=!0,Yhe(e,t)):(t.prefinished=!0,e.emit("prefinish")))}function zE(e,t,r){_m(t)&&(Xhe(e,t),t.pendingcb===0&&(r?(t.pendingcb++,ca.nextTick((n,i)=>{_m(i)?LE(n,i):i.pendingcb--},e,t)):_m(t)&&(t.pendingcb++,LE(e,t))))}function LE(e,t){t.pendingcb--,t.finished=!0;let r=t[ec].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){let n=e._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&e.destroy()}}$he(Pt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Qhe=xm.destroy;Pt.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[ec].length)&&ca.nextTick(ME,r),Qhe.call(this,e,t),this};Pt.prototype._undestroy=xm.undestroy;Pt.prototype._destroy=function(e,t){t(e)};Pt.prototype[Dhe.captureRejectionSymbol]=function(e){this.destroy(e)};var DE;function b4(){return DE===void 0&&(DE={}),DE}Pt.fromWeb=function(e,t){return b4().newStreamWritableFromWritableStream(e,t)};Pt.toWeb=function(e){return b4().newWritableStreamFromStreamWritable(e)}});var C4=w((Bke,O4)=>{var UE=eo(),Zhe=L("buffer"),{isReadable:epe,isWritable:tpe,isIterable:w4,isNodeStream:rpe,isReadableNodeStream:_4,isWritableNodeStream:E4,isDuplexNodeStream:npe}=to(),x4=ro(),{AbortError:k4,codes:{ERR_INVALID_ARG_TYPE:ipe,ERR_INVALID_RETURN_VALUE:S4}}=Mr(),{destroyer:tc}=aa(),spe=ki(),ope=gf(),{createDeferredPromise:R4}=Pi(),T4=OE(),P4=globalThis.Blob||Zhe.Blob,ape=typeof P4<"u"?function(t){return t instanceof P4}:function(t){return!1},lpe=globalThis.AbortController||tm().AbortController,{FunctionPrototypeCall:A4}=Vt(),ua=class extends spe{constructor(t){super(t),t?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};O4.exports=function e(t,r){if(npe(t))return t;if(_4(t))return Sm({readable:t});if(E4(t))return Sm({writable:t});if(rpe(t))return Sm({writable:!1,readable:!1});if(typeof t=="function"){let{value:i,write:s,final:o,destroy:a}=cpe(t);if(w4(i))return T4(ua,i,{objectMode:!0,write:s,final:o,destroy:a});let l=i?.then;if(typeof l=="function"){let c,u=A4(l,i,d=>{if(d!=null)throw new S4("nully","body",d)},d=>{tc(c,d)});return c=new ua({objectMode:!0,readable:!1,write:s,final(d){o(async()=>{try{await u,UE.nextTick(d,null)}catch(h){UE.nextTick(d,h)}})},destroy:a})}throw new S4("Iterable, AsyncIterable or AsyncFunction",r,i)}if(ape(t))return e(t.arrayBuffer());if(w4(t))return T4(ua,t,{objectMode:!0,writable:!1});if(typeof t?.writable=="object"||typeof t?.readable=="object"){let i=t!=null&&t.readable?_4(t?.readable)?t?.readable:e(t.readable):void 0,s=t!=null&&t.writable?E4(t?.writable)?t?.writable:e(t.writable):void 0;return Sm({readable:i,writable:s})}let n=t?.then;if(typeof n=="function"){let i;return A4(n,t,s=>{s!=null&&i.push(s),i.push(null)},s=>{tc(i,s)}),i=new ua({objectMode:!0,writable:!1,read(){}})}throw new ipe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)};function cpe(e){let{promise:t,resolve:r}=R4(),n=new lpe,i=n.signal;return{value:e(async function*(){for(;;){let o=t;t=null;let{chunk:a,done:l,cb:c}=await o;if(UE.nextTick(c),l)return;if(i.aborted)throw new k4(void 0,{cause:i.reason});({promise:t,resolve:r}=R4()),yield a}}(),{signal:i}),write(o,a,l){let c=r;r=null,c({chunk:o,done:!1,cb:l})},final(o){let a=r;r=null,a({done:!0,cb:o})},destroy(o,a){n.abort(),a(o)}}}function Sm(e){let t=e.readable&&typeof e.readable.read!="function"?ope.wrap(e.readable):e.readable,r=e.writable,n=!!epe(t),i=!!tpe(r),s,o,a,l,c;function u(d){let h=l;l=null,h?h(d):d?c.destroy(d):!n&&!i&&c.destroy()}return c=new ua({readableObjectMode:!!(t!=null&&t.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(x4(r,d=>{i=!1,d&&tc(t,d),u(d)}),c._write=function(d,h,f){r.write(d,h)?f():s=f},c._final=function(d){r.end(),o=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(o){let d=o;o=null,d()}})),n&&(x4(t,d=>{n=!1,d&&tc(t,d),u(d)}),t.on("readable",function(){if(a){let d=a;a=null,d()}}),t.on("end",function(){c.push(null)}),c._read=function(){for(;;){let d=t.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,h){!d&&l!==null&&(d=new k4),a=null,s=null,o=null,l===null?h(d):(l=h,tc(r,d),tc(t,d))},c}});var ki=w((zke,N4)=>{"use strict";var{ObjectDefineProperties:upe,ObjectGetOwnPropertyDescriptor:us,ObjectKeys:fpe,ObjectSetPrototypeOf:I4}=Vt();N4.exports=ii;var WE=gf(),Dn=HE();I4(ii.prototype,WE.prototype);I4(ii,WE);{let e=fpe(Dn.prototype);for(let t=0;t<e.length;t++){let r=e[t];ii.prototype[r]||(ii.prototype[r]=Dn.prototype[r])}}function ii(e){if(!(this instanceof ii))return new ii(e);WE.call(this,e),Dn.call(this,e),e?(this.allowHalfOpen=e.allowHalfOpen!==!1,e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}upe(ii.prototype,{writable:{__proto__:null,...us(Dn.prototype,"writable")},writableHighWaterMark:{__proto__:null,...us(Dn.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...us(Dn.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...us(Dn.prototype,"writableBuffer")},writableLength:{__proto__:null,...us(Dn.prototype,"writableLength")},writableFinished:{__proto__:null,...us(Dn.prototype,"writableFinished")},writableCorked:{__proto__:null,...us(Dn.prototype,"writableCorked")},writableEnded:{__proto__:null,...us(Dn.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...us(Dn.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}});var VE;function $4(){return VE===void 0&&(VE={}),VE}ii.fromWeb=function(e,t){return $4().newStreamDuplexFromReadableWritablePair(e,t)};ii.toWeb=function(e){return $4().newReadableWritablePairFromDuplex(e)};var GE;ii.from=function(e){return GE||(GE=C4()),GE(e,"body")}});var YE=w((Hke,q4)=>{"use strict";var{ObjectSetPrototypeOf:j4,Symbol:dpe}=Vt();q4.exports=fs;var{ERR_METHOD_NOT_IMPLEMENTED:hpe}=Mr().codes,JE=ki(),{getHighWaterMark:ppe}=ym();j4(fs.prototype,JE.prototype);j4(fs,JE);var wf=dpe("kCallback");function fs(e){if(!(this instanceof fs))return new fs(e);let t=e?ppe(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),JE.call(this,e),this._readableState.sync=!1,this[wf]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",mpe)}function KE(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function mpe(){this._final!==KE&&KE.call(this)}fs.prototype._final=KE;fs.prototype._transform=function(e,t,r){throw new hpe("_transform()")};fs.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(e,t,(o,a)=>{if(o){r(o);return}a!=null&&this.push(a),i.ended||s===n.length||n.length<n.highWaterMark?r():this[wf]=r})};fs.prototype._read=function(){if(this[wf]){let e=this[wf];this[wf]=null,e()}}});var QE=w((Uke,L4)=>{"use strict";var{ObjectSetPrototypeOf:D4}=Vt();L4.exports=rc;var XE=YE();D4(rc.prototype,XE.prototype);D4(rc,XE);function rc(e){if(!(this instanceof rc))return new rc(e);XE.call(this,e)}rc.prototype._transform=function(e,t,r){r(null,e)}});var Pm=w((Vke,V4)=>{var Rm=eo(),{ArrayIsArray:gpe,Promise:ype,SymbolAsyncIterator:bpe}=Vt(),Tm=ro(),{once:vpe}=Pi(),wpe=aa(),F4=ki(),{aggregateTwoErrors:_pe,codes:{ERR_INVALID_ARG_TYPE:H4,ERR_INVALID_RETURN_VALUE:ZE,ERR_MISSING_ARGS:Epe,ERR_STREAM_DESTROYED:xpe,ERR_STREAM_PREMATURE_CLOSE:Spe},AbortError:Rpe}=Mr(),{validateFunction:Tpe,validateAbortSignal:Ppe}=pf(),{isIterable:nc,isReadable:ex,isReadableNodeStream:nx,isNodeStream:M4}=to(),Ape=globalThis.AbortController||tm().AbortController,tx,rx;function B4(e,t,r){let n=!1;e.on("close",()=>{n=!0});let i=Tm(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,wpe.destroyer(e,s||new xpe("pipe")))},cleanup:i}}function kpe(e){return Tpe(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function Ope(e){if(nc(e))return e;if(nx(e))return Cpe(e);throw new H4("val",["Readable","Iterable","AsyncIterable"],e)}async function*Cpe(e){rx||(rx=gf()),yield*rx.prototype[bpe].call(e)}async function z4(e,t,r,{end:n}){let i,s=null,o=c=>{if(c&&(i=c),s){let u=s;s=null,u()}},a=()=>new ype((c,u)=>{i?u(i):s=()=>{i?u(i):c()}});t.on("drain",o);let l=Tm(t,{readable:!1},o);try{t.writableNeedDrain&&await a();for await(let c of e)t.write(c)||await a();n&&t.end(),await a(),r()}catch(c){r(i!==c?_pe(i,c):c)}finally{l(),t.off("drain",o)}}function Ipe(...e){return U4(e,vpe(kpe(e)))}function U4(e,t,r){if(e.length===1&&gpe(e[0])&&(e=e[0]),e.length<2)throw new Epe("streams");let n=new Ape,i=n.signal,s=r?.signal,o=[];Ppe(s,"options.signal");function a(){f(new Rpe)}s?.addEventListener("abort",a);let l,c,u=[],d=0;function h(y){f(y,--d===0)}function f(y,E){if(y&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=y),!(!l&&!E)){for(;u.length;)u.shift()(l);s?.removeEventListener("abort",a),n.abort(),E&&(l||o.forEach(b=>b()),Rm.nextTick(t,l,c))}}let p;for(let y=0;y<e.length;y++){let E=e[y],b=y<e.length-1,g=y>0,P=b||r?.end!==!1,O=y===e.length-1;if(M4(E)){let R=function(C){C&&C.name!=="AbortError"&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"&&h(C)};var v=R;if(P){let{destroy:C,cleanup:q}=B4(E,b,g);u.push(C),ex(E)&&O&&o.push(q)}E.on("error",R),ex(E)&&O&&o.push(()=>{E.removeListener("error",R)})}if(y===0)if(typeof E=="function"){if(p=E({signal:i}),!nc(p))throw new ZE("Iterable, AsyncIterable or Stream","source",p)}else nc(E)||nx(E)?p=E:p=F4.from(E);else if(typeof E=="function")if(p=Ope(p),p=E(p,{signal:i}),b){if(!nc(p,!0))throw new ZE("AsyncIterable",`transform[${y-1}]`,p)}else{var m;tx||(tx=QE());let R=new tx({objectMode:!0}),C=(m=p)===null||m===void 0?void 0:m.then;if(typeof C=="function")d++,C.call(p,D=>{c=D,D!=null&&R.write(D),P&&R.end(),Rm.nextTick(h)},D=>{R.destroy(D),Rm.nextTick(h,D)});else if(nc(p,!0))d++,z4(p,R,h,{end:P});else throw new ZE("AsyncIterable or Promise","destination",p);p=R;let{destroy:q,cleanup:F}=B4(p,!1,!0);u.push(q),O&&o.push(F)}else if(M4(E)){if(nx(p)){d+=2;let R=$pe(p,E,h,{end:P});ex(E)&&O&&o.push(R)}else if(nc(p))d++,z4(p,E,h,{end:P});else throw new H4("val",["Readable","Iterable","AsyncIterable"],p);p=E}else p=F4.from(E)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&Rm.nextTick(a),p}function $pe(e,t,r,{end:n}){let i=!1;return t.on("close",()=>{i||r(new Spe)}),e.pipe(t,{end:n}),n?e.once("end",()=>{i=!0,t.end()}):r(),Tm(e,{readable:!0,writable:!1},s=>{let o=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&o&&o.ended&&!o.errored&&!o.errorEmitted?e.once("end",r).once("error",r):r(s)}),Tm(t,{readable:!1,writable:!0},r)}V4.exports={pipelineImpl:U4,pipeline:Ipe}});var Y4=w((Gke,J4)=>{"use strict";var{pipeline:Npe}=Pm(),Am=ki(),{destroyer:jpe}=aa(),{isNodeStream:qpe,isReadable:G4,isWritable:W4}=to(),{AbortError:Dpe,codes:{ERR_INVALID_ARG_VALUE:K4,ERR_MISSING_ARGS:Lpe}}=Mr();J4.exports=function(...t){if(t.length===0)throw new Lpe("streams");if(t.length===1)return Am.from(t[0]);let r=[...t];if(typeof t[0]=="function"&&(t[0]=Am.from(t[0])),typeof t[t.length-1]=="function"){let f=t.length-1;t[f]=Am.from(t[f])}for(let f=0;f<t.length;++f)if(qpe(t[f])){if(f<t.length-1&&!G4(t[f]))throw new K4(`streams[${f}]`,r[f],"must be readable");if(f>0&&!W4(t[f]))throw new K4(`streams[${f}]`,r[f],"must be writable")}let n,i,s,o,a;function l(f){let p=o;o=null,p?p(f):f?a.destroy(f):!h&&!d&&a.destroy()}let c=t[0],u=Npe(t,l),d=!!W4(c),h=!!G4(u);return a=new Am({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(u!=null&&u.writableObjectMode),writable:d,readable:h}),d&&(a._write=function(f,p,m){c.write(f,p)?m():n=m},a._final=function(f){c.end(),i=f},c.on("drain",function(){if(n){let f=n;n=null,f()}}),u.on("finish",function(){if(i){let f=i;i=null,f()}})),h&&(u.on("readable",function(){if(s){let f=s;s=null,f()}}),u.on("end",function(){a.push(null)}),a._read=function(){for(;;){let f=u.read();if(f===null){s=a._read;return}if(!a.push(f))return}}),a._destroy=function(f,p){!f&&o!==null&&(f=new Dpe),s=null,n=null,i=null,o===null?p(f):(o=p,jpe(u,f))},a}});var ix=w((Wke,X4)=>{"use strict";var{ArrayPrototypePop:Fpe,Promise:Mpe}=Vt(),{isIterable:Bpe,isNodeStream:zpe}=to(),{pipelineImpl:Hpe}=Pm(),{finished:Upe}=ro();function Vpe(...e){return new Mpe((t,r)=>{let n,i,s=e[e.length-1];if(s&&typeof s=="object"&&!zpe(s)&&!Bpe(s)){let o=Fpe(e);n=o.signal,i=o.end}Hpe(e,(o,a)=>{o?r(o):t(a)},{signal:n,end:i})})}X4.exports={finished:Upe,pipeline:Vpe}});var aF=w((Kke,oF)=>{var{Buffer:Gpe}=L("buffer"),{ObjectDefineProperty:ds,ObjectKeys:eF,ReflectApply:tF}=Vt(),{promisify:{custom:rF}}=Pi(),{streamReturningOperators:Q4,promiseReturningOperators:Z4}=AL(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:nF}}=Mr(),Wpe=Y4(),{pipeline:iF}=Pm(),{destroyer:Kpe}=aa(),sF=ro(),sx=ix(),ox=to(),Ft=oF.exports=hm().Stream;Ft.isDisturbed=ox.isDisturbed;Ft.isErrored=ox.isErrored;Ft.isReadable=ox.isReadable;Ft.Readable=gf();for(let e of eF(Q4)){let r=function(...n){if(new.target)throw nF();return Ft.Readable.from(tF(t,this,n))};Ype=r;let t=Q4[e];ds(r,"name",{__proto__:null,value:t.name}),ds(r,"length",{__proto__:null,value:t.length}),ds(Ft.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Ype;for(let e of eF(Z4)){let r=function(...i){if(new.target)throw nF();return tF(t,this,i)};Ype=r;let t=Z4[e];ds(r,"name",{__proto__:null,value:t.name}),ds(r,"length",{__proto__:null,value:t.length}),ds(Ft.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Ype;Ft.Writable=HE();Ft.Duplex=ki();Ft.Transform=YE();Ft.PassThrough=QE();Ft.pipeline=iF;var{addAbortSignal:Jpe}=mm();Ft.addAbortSignal=Jpe;Ft.finished=sF;Ft.destroy=Kpe;Ft.compose=Wpe;ds(Ft,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return sx}});ds(iF,rF,{__proto__:null,enumerable:!0,get(){return sx.pipeline}});ds(sF,rF,{__proto__:null,enumerable:!0,get(){return sx.finished}});Ft.Stream=Ft;Ft._isUint8Array=function(t){return t instanceof Uint8Array};Ft._uint8ArrayToBuffer=function(t){return Gpe.from(t.buffer,t.byteOffset,t.byteLength)}});var lF=w((Jke,$e)=>{"use strict";var Xt=L("stream");if(Xt&&process.env.READABLE_STREAM==="disable"){let e=Xt.promises;$e.exports._uint8ArrayToBuffer=Xt._uint8ArrayToBuffer,$e.exports._isUint8Array=Xt._isUint8Array,$e.exports.isDisturbed=Xt.isDisturbed,$e.exports.isErrored=Xt.isErrored,$e.exports.isReadable=Xt.isReadable,$e.exports.Readable=Xt.Readable,$e.exports.Writable=Xt.Writable,$e.exports.Duplex=Xt.Duplex,$e.exports.Transform=Xt.Transform,$e.exports.PassThrough=Xt.PassThrough,$e.exports.addAbortSignal=Xt.addAbortSignal,$e.exports.finished=Xt.finished,$e.exports.destroy=Xt.destroy,$e.exports.pipeline=Xt.pipeline,$e.exports.compose=Xt.compose,Object.defineProperty(Xt,"promises",{configurable:!0,enumerable:!0,get(){return e}}),$e.exports.Stream=Xt.Stream}else{let e=aF(),t=ix(),r=e.Readable.destroy;$e.exports=e.Readable,$e.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,$e.exports._isUint8Array=e._isUint8Array,$e.exports.isDisturbed=e.isDisturbed,$e.exports.isErrored=e.isErrored,$e.exports.isReadable=e.isReadable,$e.exports.Readable=e.Readable,$e.exports.Writable=e.Writable,$e.exports.Duplex=e.Duplex,$e.exports.Transform=e.Transform,$e.exports.PassThrough=e.PassThrough,$e.exports.addAbortSignal=e.addAbortSignal,$e.exports.finished=e.finished,$e.exports.destroy=e.destroy,$e.exports.destroy=r,$e.exports.pipeline=e.pipeline,$e.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),$e.exports.Stream=e.Stream}$e.exports.default=$e.exports});var cF=w(ax=>{var fa=L("path"),oo=process.platform==="win32",so=L("fs"),Xpe=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Qpe(){var e;if(Xpe){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function Zpe(e){return typeof e=="function"?e:Qpe()}var Yke=fa.normalize;oo?hs=/(.*?)(?:[\/\\]+|$)/g:hs=/(.*?)(?:[\/]+|$)/g;var hs;oo?_f=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:_f=/^[\/]*/;var _f;ax.realpathSync=function(t,r){if(t=fa.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},s={},o,a,l,c;u();function u(){var v=_f.exec(t);o=v[0].length,a=v[0],l=v[0],c="",oo&&!s[l]&&(so.lstatSync(l),s[l]=!0)}for(;o<t.length;){hs.lastIndex=o;var d=hs.exec(t);if(c=a,a+=d[0],l=c+d[1],o=hs.lastIndex,!(s[l]||r&&r[l]===l)){var h;if(r&&Object.prototype.hasOwnProperty.call(r,l))h=r[l];else{var f=so.lstatSync(l);if(!f.isSymbolicLink()){s[l]=!0,r&&(r[l]=l);continue}var p=null;if(!oo){var m=f.dev.toString(32)+":"+f.ino.toString(32);i.hasOwnProperty(m)&&(p=i[m])}p===null&&(so.statSync(l),p=so.readlinkSync(l)),h=fa.resolve(c,p),r&&(r[l]=h),oo||(i[m]=p)}t=fa.resolve(h,t.slice(o)),u()}}return r&&(r[n]=t),t};ax.realpath=function(t,r,n){if(typeof n!="function"&&(n=Zpe(r),r=null),t=fa.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,s={},o={},a,l,c,u;d();function d(){var v=_f.exec(t);a=v[0].length,l=v[0],c=v[0],u="",oo&&!o[c]?so.lstat(c,function(y){if(y)return n(y);o[c]=!0,h()}):process.nextTick(h)}function h(){if(a>=t.length)return r&&(r[i]=t),n(null,t);hs.lastIndex=a;var v=hs.exec(t);return u=l,l+=v[0],c=u+v[1],a=hs.lastIndex,o[c]||r&&r[c]===c?process.nextTick(h):r&&Object.prototype.hasOwnProperty.call(r,c)?m(r[c]):so.lstat(c,f)}function f(v,y){if(v)return n(v);if(!y.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(h);if(!oo){var E=y.dev.toString(32)+":"+y.ino.toString(32);if(s.hasOwnProperty(E))return p(null,s[E],c)}so.stat(c,function(b){if(b)return n(b);so.readlink(c,function(g,P){oo||(s[E]=P),p(g,P)})})}function p(v,y,E){if(v)return n(v);var b=fa.resolve(u,y);r&&(r[E]=b),m(b)}function m(v){t=fa.resolve(v,t.slice(a)),d()}}});var Ef=w((Qke,hF)=>{hF.exports=ao;ao.realpath=ao;ao.sync=ux;ao.realpathSync=ux;ao.monkeypatch=tme;ao.unmonkeypatch=rme;var ic=L("fs"),lx=ic.realpath,cx=ic.realpathSync,eme=process.version,uF=/^v[0-5]\./.test(eme),fF=cF();function dF(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function ao(e,t,r){if(uF)return lx(e,t,r);typeof t=="function"&&(r=t,t=null),lx(e,t,function(n,i){dF(n)?fF.realpath(e,t,r):r(n,i)})}function ux(e,t){if(uF)return cx(e,t);try{return cx(e,t)}catch(r){if(dF(r))return fF.realpathSync(e,t);throw r}}function tme(){ic.realpath=ao,ic.realpathSync=ux}function rme(){ic.realpath=lx,ic.realpathSync=cx}});var mF=w((Zke,pF)=>{var nme=typeof process=="object"&&process&&process.platform==="win32";pF.exports=nme?{sep:"\\"}:{sep:"/"}});var fx=w((eOe,vF)=>{"use strict";vF.exports=yF;function yF(e,t,r){e instanceof RegExp&&(e=gF(e,r)),t instanceof RegExp&&(t=gF(t,r));var n=bF(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function gF(e,t){var r=t.match(e);return r?r[0]:null}yF.range=bF;function bF(e,t,r){var n,i,s,o,a,l=r.indexOf(e),c=r.indexOf(t,l+1),u=l;if(l>=0&&c>0){if(e===t)return[l,c];for(n=[],s=r.length;u>=0&&!a;)u==l?(n.push(u),l=r.indexOf(e,u+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(t,u+1)),u=l<c&&l>=0?l:c;n.length&&(a=[s,o])}return a}});var PF=w((tOe,TF)=>{var wF=fx();TF.exports=ome;var _F="\0SLASH"+Math.random()+"\0",EF="\0OPEN"+Math.random()+"\0",hx="\0CLOSE"+Math.random()+"\0",xF="\0COMMA"+Math.random()+"\0",SF="\0PERIOD"+Math.random()+"\0";function dx(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function ime(e){return e.split("\\\\").join(_F).split("\\{").join(EF).split("\\}").join(hx).split("\\,").join(xF).split("\\.").join(SF)}function sme(e){return e.split(_F).join("\\").split(EF).join("{").split(hx).join("}").split(xF).join(",").split(SF).join(".")}function RF(e){if(!e)return[""];var t=[],r=wF("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=RF(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function ome(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),xf(ime(e),!0).map(sme)):[]}function ame(e){return"{"+e+"}"}function lme(e){return/^-?0\d/.test(e)}function cme(e,t){return e<=t}function ume(e,t){return e>=t}function xf(e,t){var r=[],n=wF("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?xf(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+hx+n.post,xf(e)):[e];var h;if(u)h=n.body.split(/\.\./);else if(h=RF(n.body),h.length===1&&(h=xf(h[0],!1).map(ame),h.length===1))return s.map(function(F){return n.pre+h[0]+F});var f;if(u){var p=dx(h[0]),m=dx(h[1]),v=Math.max(h[0].length,h[1].length),y=h.length==3?Math.abs(dx(h[2])):1,E=cme,b=m<p;b&&(y*=-1,E=ume);var g=h.some(lme);f=[];for(var P=p;E(P,m);P+=y){var O;if(c)O=String.fromCharCode(P),O==="\\"&&(O="");else if(O=String(P),g){var R=v-O.length;if(R>0){var C=new Array(R+1).join("0");P<0?O="-"+C+O.slice(1):O=C+O}}f.push(O)}}else{f=[];for(var q=0;q<h.length;q++)f.push.apply(f,xf(h[q],!1))}for(var q=0;q<f.length;q++)for(var o=0;o<s.length;o++){var a=i+f[q]+s[o];(!t||u||a)&&r.push(a)}}return r}});var Om=w((nOe,bx)=>{var mn=bx.exports=(e,t,r={})=>(km(t),!r.nocomment&&t.charAt(0)==="#"?!1:new sc(t,r).match(e));bx.exports=mn;var gx=mF();mn.sep=gx.sep;var si=Symbol("globstar **");mn.GLOBSTAR=si;var fme=PF(),AF={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},yx="[^/]",px=yx+"*?",dme="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",hme="(?:(?!(?:\\/|^)\\.).)*?",CF=e=>e.split("").reduce((t,r)=>(t[r]=!0,t),{}),kF=CF("().*{}+?[]^$\\!"),pme=CF("[.("),OF=/\/+/;mn.filter=(e,t={})=>(r,n,i)=>mn(r,e,t);var lo=(e,t={})=>{let r={};return Object.keys(e).forEach(n=>r[n]=e[n]),Object.keys(t).forEach(n=>r[n]=t[n]),r};mn.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return mn;let t=mn,r=(n,i,s)=>t(n,i,lo(e,s));return r.Minimatch=class extends t.Minimatch{constructor(i,s){super(i,lo(e,s))}},r.Minimatch.defaults=n=>t.defaults(lo(e,n)).Minimatch,r.filter=(n,i)=>t.filter(n,lo(e,i)),r.defaults=n=>t.defaults(lo(e,n)),r.makeRe=(n,i)=>t.makeRe(n,lo(e,i)),r.braceExpand=(n,i)=>t.braceExpand(n,lo(e,i)),r.match=(n,i,s)=>t.match(n,i,lo(e,s)),r};mn.braceExpand=(e,t)=>IF(e,t);var IF=(e,t={})=>(km(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:fme(e)),mme=1024*64,km=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>mme)throw new TypeError("pattern is too long")},mx=Symbol("subparse");mn.makeRe=(e,t)=>new sc(e,t||{}).makeRe();mn.match=(e,t,r={})=>{let n=new sc(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e};var gme=e=>e.replace(/\\(.)/g,"$1"),yme=e=>e.replace(/\\([^-\]])/g,"$1"),bme=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),vme=e=>e.replace(/[[\]\\]/g,"\\$&"),sc=class{constructor(t,r){km(t),r||(r={}),this.options=r,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(OF)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var s=0,o=0,a=t.length,l=r.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c=r[o],u=t[s];if(this.debug(r,c,u),c===!1)return!1;if(c===si){this.debug("GLOBSTAR",[r,c,u]);var d=s,h=o+1;if(h===l){for(this.debug("** at the end");s<a;s++)if(t[s]==="."||t[s]===".."||!i.dot&&t[s].charAt(0)===".")return!1;return!0}for(;d<a;){var f=t[d];if(this.debug(`
globstar while`,t,d,r,h,f),this.matchOne(t.slice(d),r.slice(h),n))return this.debug("globstar found match!",d,a,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",t,d,r,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,d,r,h),d===a))}var p;if(typeof c=="string"?(p=u===c,this.debug("string match",c,u,p)):(p=u.match(c),this.debug("pattern match",c,u,p)),!p)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&t[s]==="";throw new Error("wtf?")}braceExpand(){return IF(this.pattern,this.options)}parse(t,r){km(t);let n=this.options;if(t==="**")if(n.noglobstar)t="*";else return si;if(t==="")return"";let i="",s=!1,o=!1,a=[],l=[],c,u=!1,d=-1,h=-1,f,p,m,v=t.charAt(0)===".",y=n.dot||v,E=()=>v?"":y?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=R=>R.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=()=>{if(c){switch(c){case"*":i+=px,s=!0;break;case"?":i+=yx,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let R=0,C;R<t.length&&(C=t.charAt(R));R++){if(this.debug("%s	%s %s %j",t,R,i,C),o){if(C==="/")return!1;kF[C]&&(i+="\\"),i+=C,o=!1;continue}switch(C){case"/":return!1;case"\\":if(u&&t.charAt(R+1)==="-"){i+=C;continue}g(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,R,i,C),u){this.debug("  in class"),C==="!"&&R===h+1&&(C="^"),i+=C;continue}this.debug("call clearStateChar %j",c),g(),c=C,n.noext&&g();continue;case"(":{if(u){i+="(";continue}if(!c){i+="\\(";continue}let q={type:c,start:R-1,reStart:i.length,open:AF[c].open,close:AF[c].close};this.debug(this.pattern,"	",q),a.push(q),i+=q.open,q.start===0&&q.type!=="!"&&(v=!0,i+=b(t.slice(R+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let q=a[a.length-1];if(u||!q){i+="\\)";continue}a.pop(),g(),s=!0,p=q,i+=p.close,p.type==="!"&&l.push(Object.assign(p,{reEnd:i.length}));continue}case"|":{let q=a[a.length-1];if(u||!q){i+="\\|";continue}g(),i+="|",q.start===0&&q.type!=="!"&&(v=!0,i+=b(t.slice(R+1)));continue}case"[":if(g(),u){i+="\\"+C;continue}u=!0,h=R,d=i.length,i+=C;continue;case"]":if(R===h+1||!u){i+="\\"+C;continue}f=t.substring(h+1,R);try{RegExp("["+vme(yme(f))+"]"),i+=C}catch{i=i.substring(0,d)+"(?:$.)"}s=!0,u=!1;continue;default:g(),kF[C]&&!(C==="^"&&u)&&(i+="\\"),i+=C;break}}for(u&&(f=t.slice(h+1),m=this.parse(f,mx),i=i.substring(0,d)+"\\["+m[0],s=s||m[1]),p=a.pop();p;p=a.pop()){let R;R=i.slice(p.reStart+p.open.length),this.debug("setting tail",i,p),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,(q,F,D)=>(D||(D="\\"),F+F+D+"|")),this.debug(`tail=%j
   %s`,R,R,p,i);let C=p.type==="*"?px:p.type==="?"?yx:"\\"+p.type;s=!0,i=i.slice(0,p.reStart)+C+"\\("+R}g(),o&&(i+="\\\\");let P=pme[i.charAt(0)];for(let R=l.length-1;R>-1;R--){let C=l[R],q=i.slice(0,C.reStart),F=i.slice(C.reStart,C.reEnd-8),D=i.slice(C.reEnd),H=i.slice(C.reEnd-8,C.reEnd)+D,G=q.split(")").length,he=q.split("(").length-G,we=D;for(let ye=0;ye<he;ye++)we=we.replace(/\)[+*?]?/,"");D=we;let Z=D===""&&r!==mx?"(?:$|\\/)":"";i=q+F+D+Z+H}if(i!==""&&s&&(i="(?=.)"+i),P&&(i=E()+i),r===mx)return[i,s];if(n.nocase&&!s&&(s=t.toUpperCase()!==t.toLowerCase()),!s)return gme(t);let O=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",O),{_glob:t,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?px:r.dot?dme:hme,i=r.nocase?"i":"",s=t.map(o=>(o=o.map(a=>typeof a=="string"?bme(a):a===si?si:a._src).reduce((a,l)=>(a[a.length-1]===si&&l===si||a.push(l),a),[]),o.forEach((a,l)=>{a!==si||o[l-1]===si||(l===0?o.length>1?o[l+1]="(?:\\/|"+n+"\\/)?"+o[l+1]:o[l]=n:l===o.length-1?o[l-1]+="(?:\\/|"+n+")?":(o[l-1]+="(?:\\/|\\/"+n+"\\/)"+o[l+1],o[l+1]=si))}),o.filter(a=>a!==si).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;gx.sep!=="/"&&(t=t.split(gx.sep).join("/")),t=t.split(OF),this.debug(this.pattern,"split",t);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=t.length-1;o>=0&&(s=t[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],l=t;if(n.matchBase&&a.length===1&&(l=[s]),this.matchOne(l,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return mn.defaults(t).Minimatch}};mn.Minimatch=sc});var $F=w((iOe,vx)=>{typeof Object.create=="function"?vx.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:vx.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Cm=w((sOe,_x)=>{try{if(wx=L("util"),typeof wx.inherits!="function")throw"";_x.exports=wx.inherits}catch{_x.exports=$F()}var wx});var xx=w(co=>{co.setopts=Rme;co.ownProp=NF;co.makeAbs=Sf;co.finish=Tme;co.mark=Pme;co.isIgnored=qF;co.childrenIgnored=Ame;function NF(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var wme=L("fs"),da=L("path"),_me=Om(),jF=L("path").isAbsolute,Ex=_me.Minimatch;function Eme(e,t){return e.localeCompare(t,"en")}function xme(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(Sme))}function Sme(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new Ex(r,{dot:!0})}return{matcher:new Ex(e,{dot:!0}),gmatcher:t}}function Rme(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,e.windowsPathsNoEscape&&(t=t.replace(/\\/g,"/")),e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||wme,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),xme(e,r),e.changedCwd=!1;var n=process.cwd();NF(r,"cwd")?(e.cwd=da.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=da.resolve(n),e.root=r.root||da.resolve(e.cwd,"/"),e.root=da.resolve(e.root),e.cwdAbs=jF(e.cwd)?e.cwd:Sf(e,e.cwd),e.nomount=!!r.nomount,process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/"),e.cwd=e.cwd.replace(/\\/g,"/"),e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),r.nonegate=!0,r.nocomment=!0,e.minimatch=new Ex(t,r),e.options=e.minimatch.options}function Tme(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var s=e.matches[n];if(!s||Object.keys(s).length===0){if(e.nonull){var o=e.minimatch.globSet[n];t?r.push(o):r[o]=!0}}else{var a=Object.keys(s);t?r.push.apply(r,a):a.forEach(function(l){r[l]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(Eme)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(l){var c=!/\/$/.test(l),u=e.cache[l]||e.cache[Sf(e,l)];return c&&u&&(c=u!=="DIR"&&!Array.isArray(u)),c}))}e.ignore.length&&(r=r.filter(function(l){return!qF(e,l)})),e.found=r}function Pme(e,t){var r=Sf(e,t),n=e.cache[r],i=t;if(n){var s=n==="DIR"||Array.isArray(n),o=t.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==t){var a=Sf(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i}function Sf(e,t){var r=t;return t.charAt(0)==="/"?r=da.join(e.root,t):jF(t)||t===""?r=t:e.changedCwd?r=da.resolve(e.cwd,t):r=da.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function qF(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function Ame(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var BF=w((uOe,MF)=>{MF.exports=FF;FF.GlobSync=Qt;var kme=Ef(),DF=Om(),aOe=DF.Minimatch,lOe=Tx().Glob,cOe=L("util"),Sx=L("path"),LF=L("assert"),Im=L("path").isAbsolute,ha=xx(),Ome=ha.setopts,Rx=ha.ownProp,Cme=ha.childrenIgnored,Ime=ha.isIgnored;function FF(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Qt(e,t).found}function Qt(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Qt))return new Qt(e,t);if(Ome(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Qt.prototype._finish=function(){if(LF.ok(this instanceof Qt),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var s=kme.realpathSync(i,e.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[e._makeAbs(i)]=!0;else throw o}})}ha.finish(this)};Qt.prototype._process=function(e,t,r){LF.ok(this instanceof Qt);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var s=e.slice(n),o;i===null?o=".":((Im(i)||Im(e.map(function(c){return typeof c=="string"?c:"[*]"}).join("/")))&&(!i||!Im(i))&&(i="/"+i),o=i);var a=this._makeAbs(o);if(!Cme(this,o)){var l=s[0]===DF.GLOBSTAR;l?this._processGlobStar(i,o,a,s,t,r):this._processReaddir(i,o,a,s,t,r)}};Qt.prototype._processReaddir=function(e,t,r,n,i,s){var o=this._readdir(r,s);if(o){for(var a=n[0],l=!!this.minimatch.negate,c=a._glob,u=this.dot||c.charAt(0)===".",d=[],h=0;h<o.length;h++){var f=o[h];if(f.charAt(0)!=="."||u){var p;l&&!e?p=!f.match(a):p=f.match(a),p&&d.push(f)}}var m=d.length;if(m!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<m;h++){var f=d[h];e&&(e.slice(-1)!=="/"?f=e+"/"+f:f=e+f),f.charAt(0)==="/"&&!this.nomount&&(f=Sx.join(this.root,f)),this._emitMatch(i,f)}return}n.shift();for(var h=0;h<m;h++){var f=d[h],v;e?v=[e,f]:v=[f],this._process(v.concat(n),i,s)}}}};Qt.prototype._emitMatch=function(e,t){if(!Ime(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};Qt.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};Qt.prototype._readdir=function(e,t){var r;if(t&&!Rx(this.symlinks,e))return this._readdirInGlobStar(e);if(Rx(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};Qt.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};Qt.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};Qt.prototype._processGlobStar=function(e,t,r,n,i,s){var o=this._readdir(r,s);if(o){var a=n.slice(1),l=e?[e]:[],c=l.concat(a);this._process(c,i,!1);var u=o.length,d=this.symlinks[r];if(!(d&&s))for(var h=0;h<u;h++){var f=o[h];if(!(f.charAt(0)==="."&&!this.dot)){var p=l.concat(o[h],a);this._process(p,i,!0);var m=l.concat(o[h],n);this._process(m,i,!0)}}}};Qt.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&Im(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Sx.join(this.root,e):(e=Sx.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};Qt.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&Rx(this.cache,t)){var o=this.cache[t];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[t];if(!i){var s;try{s=this.fs.lstatSync(t)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(t)}catch{i=s}else i=s}this.statCache[t]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,r&&o==="FILE"?!1:o};Qt.prototype._mark=function(e){return ha.mark(this,e)};Qt.prototype._makeAbs=function(e){return ha.makeAbs(this,e)}});var Px=w((fOe,HF)=>{HF.exports=zF;function zF(e,t){if(e&&t)return zF(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var Nm=w((dOe,Ax)=>{var UF=Px();Ax.exports=UF($m);Ax.exports.strict=UF(VF);$m.proto=$m(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return $m(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return VF(this)},configurable:!0})});function $m(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function VF(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var kx=w((hOe,GF)=>{var $me=Px(),Rf=Object.create(null),Nme=Nm();GF.exports=$me(jme);function jme(e,t){return Rf[e]?(Rf[e].push(t),null):(Rf[e]=[t],qme(e))}function qme(e){return Nme(function t(){var r=Rf[e],n=r.length,i=Dme(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete Rf[e]}})}function Dme(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var Tx=w((gOe,KF)=>{KF.exports=pa;var Lme=Ef(),WF=Om(),pOe=WF.Minimatch,Fme=Cm(),Mme=L("events").EventEmitter,Ox=L("path"),Cx=L("assert"),Tf=L("path").isAbsolute,$x=BF(),ma=xx(),Bme=ma.setopts,Ix=ma.ownProp,Nx=kx(),mOe=L("util"),zme=ma.childrenIgnored,Hme=ma.isIgnored,Ume=Nm();function pa(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return $x(e,t)}return new Ye(e,t,r)}pa.sync=$x;var Vme=pa.GlobSync=$x.GlobSync;pa.glob=pa;function Gme(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}pa.hasMagic=function(e,t){var r=Gme({},t);r.noprocess=!0;var n=new Ye(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};pa.Glob=Ye;Fme(Ye,Mme);function Ye(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new Vme(e,t)}if(!(this instanceof Ye))return new Ye(e,t,r);Bme(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=Ume(r),this.on("error",r),this.on("end",function(l){r(null,l)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}Ye.prototype._finish=function(){if(Cx(this instanceof Ye),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();ma.finish(this),this.emit("end",this.found)}};Ye.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e===0&&t._finish()}};Ye.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,s=n.length;if(s===0)return t();var o=this.matches[e]=Object.create(null);n.forEach(function(a,l){a=i._makeAbs(a),Lme.realpath(a,i.realpathCache,function(c,u){c?c.syscall==="stat"?o[a]=!0:i.emit("error",c):o[u]=!0,--s===0&&(i.matches[e]=o,t())})})};Ye.prototype._mark=function(e){return ma.mark(this,e)};Ye.prototype._makeAbs=function(e){return ma.makeAbs(this,e)};Ye.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Ye.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Ye.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};Ye.prototype._process=function(e,t,r,n){if(Cx(this instanceof Ye),Cx(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var s;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:s=null;break;default:s=e.slice(0,i).join("/");break}var o=e.slice(i),a;s===null?a=".":((Tf(s)||Tf(e.map(function(u){return typeof u=="string"?u:"[*]"}).join("/")))&&(!s||!Tf(s))&&(s="/"+s),a=s);var l=this._makeAbs(a);if(zme(this,a))return n();var c=o[0]===WF.GLOBSTAR;c?this._processGlobStar(s,a,l,o,t,r,n):this._processReaddir(s,a,l,o,t,r,n)}};Ye.prototype._processReaddir=function(e,t,r,n,i,s,o){var a=this;this._readdir(r,s,function(l,c){return a._processReaddir2(e,t,r,n,i,s,c,o)})};Ye.prototype._processReaddir2=function(e,t,r,n,i,s,o,a){if(!o)return a();for(var l=n[0],c=!!this.minimatch.negate,u=l._glob,d=this.dot||u.charAt(0)===".",h=[],f=0;f<o.length;f++){var p=o[f];if(p.charAt(0)!=="."||d){var m;c&&!e?m=!p.match(l):m=p.match(l),m&&h.push(p)}}var v=h.length;if(v===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<v;f++){var p=h[f];e&&(e!=="/"?p=e+"/"+p:p=e+p),p.charAt(0)==="/"&&!this.nomount&&(p=Ox.join(this.root,p)),this._emitMatch(i,p)}return a()}n.shift();for(var f=0;f<v;f++){var p=h[f],y;e&&(e!=="/"?p=e+"/"+p:p=e+p),this._process([p].concat(n),i,s,a)}a()};Ye.prototype._emitMatch=function(e,t){if(!this.aborted&&!Hme(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Tf(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};Ye.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=Nx(r,s);i&&n.fs.lstat(e,i);function s(o,a){if(o&&o.code==="ENOENT")return t();var l=a&&a.isSymbolicLink();n.symlinks[e]=l,!l&&a&&!a.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};Ye.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=Nx("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!Ix(this.symlinks,e))return this._readdirInGlobStar(e,r);if(Ix(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,Wme(this,e,r))}};function Wme(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}Ye.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};Ye.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};Ye.prototype._processGlobStar=function(e,t,r,n,i,s,o){var a=this;this._readdir(r,s,function(l,c){a._processGlobStar2(e,t,r,n,i,s,c,o)})};Ye.prototype._processGlobStar2=function(e,t,r,n,i,s,o,a){if(!o)return a();var l=n.slice(1),c=e?[e]:[],u=c.concat(l);this._process(u,i,!1,a);var d=this.symlinks[r],h=o.length;if(d&&s)return a();for(var f=0;f<h;f++){var p=o[f];if(!(p.charAt(0)==="."&&!this.dot)){var m=c.concat(o[f],l);this._process(m,i,!0,a);var v=c.concat(o[f],n);this._process(v,i,!0,a)}}a()};Ye.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,s){n._processSimple2(e,t,i,s,r)})};Ye.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&Tf(e)&&!this.nomount){var s=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Ox.join(this.root,e):(e=Ox.resolve(this.root,e),s&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};Ye.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Ix(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return t(null,o);var a=o.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?t():t(null,a,o)}var l=this,c=Nx("stat\0"+r,u);c&&l.fs.lstat(r,c);function u(d,h){if(h&&h.isSymbolicLink())return l.fs.stat(r,function(f,p){f?l._stat2(e,r,null,h,t):l._stat2(e,r,f,p,t)});l._stat2(e,r,d,h,t)}};Ye.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var s=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,s&&o==="FILE"?i():i(null,o,n)}});var jx=w((yOe,YF)=>{"use strict";var JF=/^text\/|^application\/(javascript|json)/,Kme=JF.test.bind(JF);YF.exports.isUtf8MimeType=Kme});var QF=w((bOe,XF)=>{"use strict";function jm(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}jm.prototype.define=function(e,t){for(let r in e){let n=e[r].map(function(i){return i.toLowerCase()});r=r.toLowerCase();for(let i=0;i<n.length;i++){let s=n[i];if(s[0]!=="*"){if(!t&&s in this._types)throw new Error('Attempt to change mapping for "'+s+'" extension from "'+this._types[s]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+s+'" from the list of extensions for "'+r+'".');this._types[s]=r}}if(t||!this._extensions[r]){let i=n[0];this._extensions[r]=i[0]!=="*"?i:i.substr(1)}}};jm.prototype.getType=function(e){e=String(e);let t=e.replace(/^.*[/\\]/,"").toLowerCase(),r=t.replace(/^.*\./,"").toLowerCase(),n=t.length<e.length;return(r.length<t.length-1||!n)&&this._types[r]||null};jm.prototype.getExtension=function(e){return e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1,e&&this._extensions[e.toLowerCase()]||null};XF.exports=jm});var eM=w((vOe,ZF)=>{ZF.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var rM=w((wOe,tM)=>{tM.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var qx=w((_Oe,nM)=>{"use strict";var Jme=QF();nM.exports=new Jme(eM(),rM())});var sM=w((EOe,iM)=>{"use strict";var Yme=/["'&<>]/;iM.exports=Xme;function Xme(e){var t=""+e,r=Yme.exec(t);if(!r)return t;var n,i="",s=0,o=0;for(s=r.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}o!==s&&(i+=t.substring(o,s)),o=s+1,i+=n}return o!==s?i+t.substring(o,s):i}});var oM=w(Lx=>{var Qme=/^(-?(?:\d+)?\.?\d+) *(m(?:illiseconds?|s(?:ecs?)?))?(s(?:ec(?:onds?|s)?)?)?(m(?:in(?:utes?|s)?)?)?(h(?:ours?|rs?)?)?(d(?:ays?)?)?(w(?:eeks?|ks?)?)?(y(?:ears?|rs?)?)?$/,qm=1e3,Dm=qm*60,Lm=Dm*60,Af=Lm*24,Dx=Af*365.25;function Zme(e){var t,r=e.toLowerCase().match(Qme);if(r!=null&&(t=parseFloat(r[1])))return r[3]!=null?t*qm:r[4]!=null?t*Dm:r[5]!=null?t*Lm:r[6]!=null?t*Af:r[7]!=null?t*Af*7:r[8]!=null?t*Dx:t}function Pf(e,t,r,n){var i=(e|0)===e?e:~~(e+.5);return t+i+(n?" "+r+(i!=1?"s":""):r[0])}function ege(e,t){var r=e<0?"-":"",n=e<0?-e:e;return n<qm?e+(t?" ms":"ms"):n<Dm?Pf(n/qm,r,"second",t):n<Lm?Pf(n/Dm,r,"minute",t):n<Af?Pf(n/Lm,r,"hour",t):n<Dx?Pf(n/Af,r,"day",t):Pf(n/Dx,r,"year",t)}Lx.format=ege;Lx.parse=Zme});var lM=w(aM=>{"use strict";function tge(e){let t=e.getHeaderNames();for(let r=0;r<t.length;r++)e.removeHeader(t[r])}aM.clearHeaders=tge});var uM=w((ROe,cM)=>{"use strict";function rge(e){let t=0;for(t;t<e.length&&e[t]==="/";t++);return t>1?"/"+e.substr(t):e}cM.exports.collapseLeadingSlashes=rge});var dM=w(fM=>{"use strict";function nge(e){for(let t=0;t<e.length;t++){let r=e[t];if(r.length>1&&r[0]===".")return!0}return!1}fM.containsDotFile=nge});var pM=w(hM=>{"use strict";function ige(e,t,r){return e+" "+(r?r.start+"-"+r.end:"*")+"/"+t}hM.contentRange=ige});var gM=w(mM=>{"use strict";function sge(e,t){let r=`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>`+e+`</title>
</head>
<body>
<pre>`+t+`</pre>
</body>
</html>
`;return[r,Buffer.byteLength(r)]}mM.createHtmlDocument=sge});var _M=w((kOe,wM)=>{var oge=L("path").relative;wM.exports=fge;var age=process.cwd();function bM(e,t){for(var r=e.split(/[ ,]+/),n=String(t).toLowerCase(),i=0;i<r.length;i++){var s=r[i];if(s&&(s==="*"||s.toLowerCase()===n))return!0}return!1}function lge(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t),i=n.value;return n.get=function(){return i},n.writable&&(n.set=function(o){return i=o}),delete n.value,delete n.writable,Object.defineProperty(e,t,n),n}function cge(e){for(var t="",r=0;r<e;r++)t+=", arg"+r;return t.substr(2)}function uge(e){var t=this.name+": "+this.namespace;this.message&&(t+=" deprecated "+this.message);for(var r=0;r<e.length;r++)t+=`
    at `+e[r].toString();return t}function fge(e){if(!e)throw new TypeError("argument namespace is required");var t=Mm(),r=oc(t[1]),n=r[0];function i(s){Fm.call(i,s)}return i._file=n,i._ignored=hge(e),i._namespace=e,i._traced=pge(e),i._warned=Object.create(null),i.function=bge,i.property=vge,i}function dge(e,t){var r=typeof e.listenerCount!="function"?e.listeners(t).length:e.listenerCount(t);return r>0}function hge(e){if(process.noDeprecation)return!0;var t=process.env.NO_DEPRECATION||"";return bM(t,e)}function pge(e){if(process.traceDeprecation)return!0;var t=process.env.TRACE_DEPRECATION||"";return bM(t,e)}function Fm(e,t){var r=dge(process,"deprecation");if(!(!r&&this._ignored)){var n,i,s,o,a=0,l=!1,c=Mm(),u=this._file;for(t?(o=t,s=oc(c[1]),s.name=o.name,u=s[0]):(a=2,o=oc(c[a]),s=o);a<c.length;a++)if(n=oc(c[a]),i=n[0],i===u)l=!0;else if(i===this._file)u=this._file;else if(l)break;var d=n?o.join(":")+"__"+n.join(":"):void 0;if(!(d!==void 0&&d in this._warned)){this._warned[d]=!0;var h=e;if(h||(h=s===o||!s.name?yM(o):yM(s)),r){var f=vM(this._namespace,h,c.slice(a));process.emit("deprecation",f);return}var p=process.stderr.isTTY?gge:mge,m=p.call(this,h,n,c.slice(a));process.stderr.write(m+`
`,"utf8")}}}function oc(e){var t=e.getFileName()||"<anonymous>",r=e.getLineNumber(),n=e.getColumnNumber();e.isEval()&&(t=e.getEvalOrigin()+", "+t);var i=[t,r,n];return i.callSite=e,i.name=e.getFunctionName(),i}function yM(e){var t=e.callSite,r=e.name;r||(r="<anonymous@"+Fx(e)+">");var n=t.getThis(),i=n&&t.getTypeName();return i==="Object"&&(i=void 0),i==="Function"&&(i=n.name||i),i&&t.getMethodName()?i+"."+r:r}function mge(e,t,r){var n=new Date().toUTCString(),i=n+" "+this._namespace+" deprecated "+e;if(this._traced){for(var s=0;s<r.length;s++)i+=`
    at `+r[s].toString();return i}return t&&(i+=" at "+Fx(t)),i}function gge(e,t,r){var n="\x1B[36;1m"+this._namespace+"\x1B[22;39m \x1B[33;1mdeprecated\x1B[22;39m \x1B[0m"+e+"\x1B[39m";if(this._traced){for(var i=0;i<r.length;i++)n+=`
    \x1B[36mat `+r[i].toString()+"\x1B[39m";return n}return t&&(n+=" \x1B[36m"+Fx(t)+"\x1B[39m"),n}function Fx(e){return oge(age,e[0])+":"+e[1]+":"+e[2]}function Mm(){var e=Error.stackTraceLimit,t={},r=Error.prepareStackTrace;Error.prepareStackTrace=yge,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(t);var n=t.stack.slice(1);return Error.prepareStackTrace=r,Error.stackTraceLimit=e,n}function yge(e,t){return t}function bge(e,t){if(typeof e!="function")throw new TypeError("argument fn must be a function");var r=cge(e.length),n=Mm(),i=oc(n[1]);i.name=e.name;var s=new Function("fn","log","deprecate","message","site",`"use strict"
return function (`+r+`) {log.call(deprecate, message, site)
return fn.apply(this, arguments)
}`)(e,Fm,this,t,i);return s}function vge(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,t);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");var i=this,s=Mm(),o=oc(s[1]);o.name=t,"value"in n&&(n=lge(e,t,r));var a=n.get,l=n.set;typeof a=="function"&&(n.get=function(){return Fm.call(i,r,o),a.apply(this,arguments)}),typeof l=="function"&&(n.set=function(){return Fm.call(i,r,o),l.apply(this,arguments)}),Object.defineProperty(e,t,n)}function vM(e,t,r){var n=new Error,i;return Object.defineProperty(n,"constructor",{value:vM}),Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(n,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(n,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,get:function(){return i!==void 0?i:i=uge.call(this,r)},set:function(o){i=o}}),n}});var xM=w((OOe,EM)=>{"use strict";EM.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?wge:_ge);function wge(e,t){return e.__proto__=t,e}function _ge(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e}});var SM=w((COe,Ege)=>{Ege.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}});var PM=w((IOe,TM)=>{"use strict";var Mx=SM();TM.exports=oi;oi.message=Mx;oi.code=xge(Mx);oi.codes=Sge(Mx);oi.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};oi.empty={204:!0,205:!0,304:!0};oi.retry={502:!0,503:!0,504:!0};function xge(e){var t={};return Object.keys(e).forEach(function(n){var i=e[n],s=Number(n);t[i.toLowerCase()]=s}),t}function Sge(e){return Object.keys(e).map(function(r){return Number(r)})}function Rge(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(oi.code,t))throw new Error('invalid status message: "'+e+'"');return oi.code[t]}function RM(e){if(!Object.prototype.hasOwnProperty.call(oi.message,e))throw new Error("invalid status code: "+e);return oi.message[e]}function oi(e){if(typeof e=="number")return RM(e);if(typeof e!="string")throw new TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?Rge(e):RM(t)}});var kM=w(($Oe,AM)=>{"use strict";AM.exports=Tge;function Tge(e){return e.split(" ").map(function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}});var NM=w((NOe,ga)=>{"use strict";var Pge=_M()("http-errors"),OM=xM(),ac=PM(),Bx=Cm(),Age=kM();ga.exports=Bm;ga.exports.HttpError=kge();ga.exports.isHttpError=Cge(ga.exports.HttpError);$ge(ga.exports,ac.codes,ga.exports.HttpError);function CM(e){return Number(String(e).charAt(0)+"00")}function Bm(){for(var e,t,r=500,n={},i=0;i<arguments.length;i++){var s=arguments[i],o=typeof s;if(o==="object"&&s instanceof Error)e=s,r=e.status||e.statusCode||r;else if(o==="number"&&i===0)r=s;else if(o==="string")t=s;else if(o==="object")n=s;else throw new TypeError("argument #"+(i+1)+" unsupported type "+o)}typeof r=="number"&&(r<400||r>=600)&&Pge("non-error status code; use only 4xx or 5xx status codes"),(typeof r!="number"||!ac.message[r]&&(r<400||r>=600))&&(r=500);var a=Bm[r]||Bm[CM(r)];e||(e=a?new a(t):new Error(t||ac.message[r]),Error.captureStackTrace(e,Bm)),(!a||!(e instanceof a)||e.status!==r)&&(e.expose=r<500,e.status=e.statusCode=r);for(var l in n)l!=="status"&&l!=="statusCode"&&(e[l]=n[l]);return e}function kge(){function e(){throw new TypeError("cannot construct abstract class")}return Bx(e,Error),e}function Oge(e,t,r){var n=$M(t);function i(s){var o=s??ac.message[r],a=new Error(o);return Error.captureStackTrace(a,i),OM(a,i.prototype),Object.defineProperty(a,"message",{enumerable:!0,configurable:!0,value:o,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),a}return Bx(i,e),IM(i,n),i.prototype.status=r,i.prototype.statusCode=r,i.prototype.expose=!0,i}function Cge(e){return function(r){return!r||typeof r!="object"?!1:r instanceof e?!0:r instanceof Error&&typeof r.expose=="boolean"&&typeof r.statusCode=="number"&&r.status===r.statusCode}}function Ige(e,t,r){var n=$M(t);function i(s){var o=s??ac.message[r],a=new Error(o);return Error.captureStackTrace(a,i),OM(a,i.prototype),Object.defineProperty(a,"message",{enumerable:!0,configurable:!0,value:o,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),a}return Bx(i,e),IM(i,n),i.prototype.status=r,i.prototype.statusCode=r,i.prototype.expose=!1,i}function IM(e,t){var r=Object.getOwnPropertyDescriptor(e,"name");r&&r.configurable&&(r.value=t,Object.defineProperty(e,"name",r))}function $ge(e,t,r){t.forEach(function(i){var s,o=Age(ac.message[i]);switch(CM(i)){case 400:s=Oge(r,o,i);break;case 500:s=Ige(r,o,i);break}s&&(e[i]=s,e[o]=s)})}function $M(e){return e.substr(-5)!=="Error"?e+"Error":e}});var qM=w((jOe,jM)=>{"use strict";var zx=NM();function Nge(e,t){return t?t instanceof Error?zx(e,t,{expose:!1}):zx(e,t):zx(e)}jM.exports.createHttpError=Nge});var LM=w((qOe,DM)=>{"use strict";function jge(e,t){let r=[].concat(e||[]);for(let n=0;n<r.length;n++)if(typeof r[n]!="string")throw new TypeError(t+" must be array of strings or false");return r}DM.exports.normalizeList=jge});var MM=w((DOe,FM)=>{"use strict";function qge(e,t){let r=t.indexOf("="),n=t.slice(r+1).split(","),i=[];for(let c=0;c<n.length;c++){let u=n[c].split("-"),d=parseInt(u[0],10),h=parseInt(u[1],10);isNaN(d)?(d=e-h,h=e-1):isNaN(h)&&(h=e-1),h>e-1&&(h=e-1),!(isNaN(d)||isNaN(h)||d>h||d<0)&&i.push({start:d,end:h})}if(i.length===0)return-1;let s=i.map(Dge).sort(Mge),o=0,a=s.length;for(let c=1;c<a;++c){let u=s[c],d=s[o];u.start>d.end+1?s[++o]=u:u.end>d.end&&(d.end=u.end,d.index=Math.min(d.index,u.index))}s.length=o+1;let l=s.sort(Fge).map(Lge);return l.type=t.slice(0,r),l}function Dge(e,t){return{start:e.start,end:e.end,index:t}}function Lge(e){return{start:e.start,end:e.end}}function Fge(e,t){return e.index-t.index}function Mge(e,t){return e.start-t.start}FM.exports.parseRange=qge});var HM=w((LOe,zM)=>{"use strict";var BM=String.prototype.slice;function Bge(e,t){let r=0,n=0,i;for(let s=0,o=e.length;s<o;s++)switch(e.charCodeAt(s)){case 32:n===r&&(n=r=s+1);break;case 44:if(n!==r&&(i=t(BM.call(e,n,r)),i!==void 0))return i;n=r=s+1;break;default:r=s+1;break}if(n!==r)return t(BM.call(e,n,r))}zM.exports.parseTokenList=Bge});var VM=w((FOe,UM)=>{"use strict";function zge(e,t){let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=r[n];e.setHeader(i,t[i])}}UM.exports.setHeaders=zge});var t3=w((MOe,e3)=>{"use strict";var Hm=L("node:fs"),kf=L("node:path"),XM=L("node:stream"),Hge=L("node:util"),Zt=L("node:util").debuglog("send"),Uge=A_(),GM=sM(),WM=qx(),Vge=oM(),{clearHeaders:Gge}=lM(),{collapseLeadingSlashes:Wge}=uM(),{containsDotFile:Kge}=dM(),{contentRange:KM}=pM(),{createHtmlDocument:ya}=gM(),{createHttpError:Jge}=qM(),{isUtf8MimeType:Yge}=jx(),{normalizeList:JM}=LM(),{parseRange:Xge}=MM(),{parseTokenList:QM}=HM(),{setHeaders:Qge}=VM(),Zge=kf.extname,ZM=kf.join,Hx=kf.normalize,Ux=kf.resolve,zm=kf.sep,eye=/^ *bytes=/,tye=60*60*24*365*1e3,YM=/(?:^|[\\/])\.\.(?:[\\/]|$)/,rye={400:ya("Error","Bad Request"),403:ya("Error","Forbidden"),404:ya("Error","Not Found"),412:ya("Error","Precondition Failed"),416:ya("Error","Range Not Satisfiable"),500:ya("Error","Internal Server Error")};function At(e,t,r){if(!new.target)return new At(e,t,r);XM.call(this);let n=r||{};if(this.options=n,this.path=t,this.req=e,this._acceptRanges=n.acceptRanges!==void 0?Boolean(n.acceptRanges):!0,this._cacheControl=n.cacheControl!==void 0?Boolean(n.cacheControl):!0,this._etag=n.etag!==void 0?Boolean(n.etag):!0,this._dotfiles=n.dotfiles!==void 0?n.dotfiles:"ignore",this._dotfiles!=="ignore"&&this._dotfiles!=="allow"&&this._dotfiles!=="deny")throw new TypeError('dotfiles option must be "allow", "deny", or "ignore"');this._extensions=n.extensions!==void 0?JM(n.extensions,"extensions option"):[],this._immutable=n.immutable!==void 0?Boolean(n.immutable):!1,this._index=n.index!==void 0?JM(n.index,"index option"):["index.html"],this._lastModified=n.lastModified!==void 0?Boolean(n.lastModified):!0,this._maxage=n.maxAge||n.maxage,this._maxage=typeof this._maxage=="string"?Vge.parse(this._maxage):Number(this._maxage),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),tye),this._root=n.root?Ux(n.root):null}Hge.inherits(At,XM);At.prototype.root=function(t){return this._root=Ux(String(t)),Zt("root %s",this._root),this};At.prototype.error=function(t,r){if(this.listenerCount("error")>0)return this.emit("error",Jge(t,r));let n=this.res;Gge(n),r&&r.headers&&Qge(n,r.headers);let i=rye[t];n.statusCode=t,n.setHeader("Content-Type","text/html; charset=UTF-8"),n.setHeader("Content-Length",i[1]),n.setHeader("Content-Security-Policy","default-src 'none'"),n.setHeader("X-Content-Type-Options","nosniff"),n.end(i[0])};At.prototype.hasTrailingSlash=function(){return this.path[this.path.length-1]==="/"};At.prototype.isConditionalGET=function(){return this.req.headers["if-match"]||this.req.headers["if-unmodified-since"]||this.req.headers["if-none-match"]||this.req.headers["if-modified-since"]};At.prototype.isNotModifiedFailure=function(){let t=this.req,r=this.res;if("cache-control"in t.headers&&t.headers["cache-control"].indexOf("no-cache")!==-1)return!1;if("if-none-match"in t.headers){let n=t.headers["if-none-match"];if(n==="*")return!0;let i=r.getHeader("etag");if(typeof i!="string")return!1;let s=i.length;return!!QM(n,function(a){let l=a.length;if(s===l&&a===i||s>l&&"W/"+a===i)return!0})}if("if-modified-since"in t.headers){let n=t.headers["if-modified-since"],i=r.getHeader("last-modified");if(!i||Date.parse(i)<=Date.parse(n))return!0}return!1};At.prototype.isPreconditionFailure=function(){let t=this.req,r=this.res,n=t.headers["if-match"];if(n){let i=r.getHeader("ETag");if(n!=="*"&&(QM(n,function(o){if(o===i||"W/"+o===i)return!0})||!1)!==!0)return!0}if("if-unmodified-since"in t.headers){let i=t.headers["if-unmodified-since"],s=Date.parse(i);if(!Number.isNaN(s)){let o=Date.parse(r.getHeader("Last-Modified"));if(Number.isNaN(o)||o>s)return!0}}return!1};At.prototype.removeContentHeaderFields=function(){let t=this.res;t.removeHeader("Content-Encoding"),t.removeHeader("Content-Language"),t.removeHeader("Content-Length"),t.removeHeader("Content-Range"),t.removeHeader("Content-Type")};At.prototype.notModified=function(){let t=this.res;Zt("not modified"),this.removeContentHeaderFields(),t.statusCode=304,t.end()};At.prototype.headersAlreadySent=function(){let t=new Error("Can't set headers after they are sent.");Zt("headers already sent"),this.error(500,t)};At.prototype.isCachable=function(){let t=this.res.statusCode;return t>=200&&t<300||t===304};At.prototype.onStatError=function(t){switch(t.code){case"ENAMETOOLONG":case"ENOTDIR":case"ENOENT":this.error(404,t);break;default:this.error(500,t);break}};At.prototype.isRangeFresh=function(){if(!("if-range"in this.req.headers))return!0;let t=this.req.headers["if-range"];if(t.indexOf('"')!==-1){let i=this.res.getHeader("ETag");return i&&t.indexOf(i)!==-1||!1}let r=Date.parse(t);if(Number.isNaN(r))return!1;let n=Date.parse(this.res.getHeader("Last-Modified"));return Number.isNaN(n)||n<=r};At.prototype.redirect=function(t){let r=this.res;if(this.listenerCount("directory")>0){this.emit("directory",r,t);return}if(this.hasTrailingSlash()){this.error(403);return}let n=encodeURI(Wge(this.path+"/")),i=ya("Redirecting",'Redirecting to <a href="'+GM(n)+'">'+GM(n)+"</a>");r.statusCode=301,r.setHeader("Content-Type","text/html; charset=UTF-8"),r.setHeader("Content-Length",i[1]),r.setHeader("Content-Security-Policy","default-src 'none'"),r.setHeader("X-Content-Type-Options","nosniff"),r.setHeader("Location",n),r.end(i[0])};At.prototype.pipe=function(t){let r=this._root;this.res=t;let n=Uge(this.path);if(n===null)return this.error(400),t;if(~n.indexOf("\0"))return this.error(400),t;let i;if(r!==null){if(n&&(n=Hx("."+zm+n)),YM.test(n))return Zt('malicious path "%s"',n),this.error(403),t;i=n.split(zm),n=Hx(ZM(r,n))}else{if(YM.test(n))return Zt('malicious path "%s"',n),this.error(403),t;i=Hx(n).split(zm),n=Ux(n)}if(Kge(i))switch(Zt('%s dotfile "%s"',this._dotfiles,n),this._dotfiles){case"allow":break;case"deny":return this.error(403),t;case"ignore":default:return this.error(404),t}return this._index.length&&this.hasTrailingSlash()?(this.sendIndex(n),t):(this.sendFile(n),t)};At.prototype.send=function(t,r){let n=r.size,i=this.options,s={},o=this.res,a=this.req,l=a.headers.range,c=i.start||0;if(o.headersSent){this.headersAlreadySent();return}if(Zt('pipe "%s"',t),this.setHeader(t,r),this.type(t),this.isConditionalGET()){if(this.isPreconditionFailure()){this.error(412);return}if(this.isCachable()&&this.isNotModifiedFailure()){this.notModified();return}}if(n=Math.max(0,n-c),i.end!==void 0){let u=i.end-c+1;n>u&&(n=u)}if(this._acceptRanges&&l!==void 0&&eye.test(l)){if(this.isRangeFresh()?l=Xge(n,l):(Zt("range stale"),l=-2),l===-1)return Zt("range unsatisfiable"),o.setHeader("Content-Range",KM("bytes",n)),this.error(416,{headers:{"Content-Range":o.getHeader("Content-Range")}});l!==-2&&l.length===1&&(Zt("range %j",l),o.statusCode=206,o.setHeader("Content-Range",KM("bytes",n,l[0])),c+=l[0].start,n=l[0].end-l[0].start+1)}for(let u in i)s[u]=i[u];if(s.start=c,s.end=Math.max(c,c+n-1),o.setHeader("Content-Length",n),a.method==="HEAD"){o.end();return}this.stream(t,s)};At.prototype.sendFile=function(t){let r=0,n=this;Zt('stat "%s"',t),Hm.stat(t,function(o,a){if(o&&o.code==="ENOENT"&&!Zge(t)&&t[t.length-1]!==zm)return i(o);if(o)return n.onStatError(o);if(a.isDirectory())return n.redirect(t);n.emit("file",t,a),n.send(t,a)});function i(s){if(n._extensions.length<=r)return s?n.onStatError(s):n.error(404);let o=t+"."+n._extensions[r++];Zt('stat "%s"',o),Hm.stat(o,function(a,l){if(a)return i(a);if(l.isDirectory())return i();n.emit("file",o,l),n.send(o,l)})}};At.prototype.sendIndex=function(t){let r=-1,n=this;function i(s){if(++r>=n._index.length)return s?n.onStatError(s):n.error(404);let o=ZM(t,n._index[r]);Zt('stat "%s"',o),Hm.stat(o,function(a,l){if(a)return i(a);if(l.isDirectory())return i();n.emit("file",o,l),n.send(o,l)})}i()};At.prototype.stream=function(t,r){let n=this,i=this.res,s=Hm.createReadStream(t,r);this.emit("stream",s),s.pipe(i);let o=!1;function a(){o||(o=!0,s.destroy())}i.once("finish",a),s.on("error",function(c){a(),n.onStatError(c)}),s.on("end",function(){n.emit("end")})};At.prototype.type=function(t){let r=this.res;if(r.getHeader("Content-Type"))return;let n=WM.getType(t)||WM.default_type;if(!n){Zt("no content-type");return}Zt("content-type %s",n),Yge(n)?r.setHeader("Content-Type",n+"; charset=UTF-8"):r.setHeader("Content-Type",n)};At.prototype.setHeader=function(t,r){let n=this.res;if(this.emit("headers",n,t,r),this._acceptRanges&&!n.getHeader("Accept-Ranges")&&(Zt("accept ranges"),n.setHeader("Accept-Ranges","bytes")),this._cacheControl&&!n.getHeader("Cache-Control")){let i="public, max-age="+Math.floor(this._maxage/1e3);this._immutable&&(i+=", immutable"),Zt("cache-control %s",i),n.setHeader("Cache-Control",i)}if(this._lastModified&&!n.getHeader("Last-Modified")){let i=r.mtime.toUTCString();Zt("modified %s",i),n.setHeader("Last-Modified",i)}if(this._etag&&!n.getHeader("ETag")){let i='W/"'+r.size.toString(16)+"-"+r.mtime.getTime().toString(16)+'"';Zt("etag %s",i),n.setHeader("ETag",i)}};e3.exports=At});var n3=w((BOe,ba)=>{"use strict";var nye=jx().isUtf8MimeType,iye=qx(),r3=t3();function Vx(e,t,r){return new r3(e,t,r)}ba.exports=Vx;ba.exports.default=Vx;ba.exports.send=Vx;ba.exports.SendStream=r3;ba.exports.isUtf8MimeType=nye;ba.exports.mime=iye});var o3=w((Gx,s3)=>{var Um=L("buffer"),Oi=Um.Buffer;function i3(e,t){for(var r in e)t[r]=e[r]}Oi.from&&Oi.alloc&&Oi.allocUnsafe&&Oi.allocUnsafeSlow?s3.exports=Um:(i3(Um,Gx),Gx.Buffer=va);function va(e,t,r){return Oi(e,t,r)}va.prototype=Object.create(Oi.prototype);i3(Oi,va);va.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Oi(e,t,r)};va.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Oi(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};va.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Oi(e)};va.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Um.SlowBuffer(e)}});var d3=w((zOe,Wx)=>{"use strict";Wx.exports=mye;Wx.exports.parse=vye;var a3=L("path").basename,sye=o3().Buffer,oye=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,aye=/%[0-9A-Fa-f]{2}/,lye=/%([0-9A-Fa-f]{2})/g,c3=/[^\x20-\x7e\xa0-\xff]/g,cye=/\\([\u0000-\u007f])/g,uye=/([\\"])/g,l3=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,fye=/^[\x20-\x7e\x80-\xff]+$/,dye=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,hye=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,pye=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function mye(e,t){var r=t||{},n=r.type||"attachment",i=gye(e,r.fallback);return yye(new f3(n,i))}function gye(e,t){if(e!==void 0){var r={};if(typeof e!="string")throw new TypeError("filename must be a string");if(t===void 0&&(t=!0),typeof t!="string"&&typeof t!="boolean")throw new TypeError("fallback must be a string or boolean");if(typeof t=="string"&&c3.test(t))throw new TypeError("fallback must be ISO-8859-1 string");var n=a3(e),i=fye.test(n),s=typeof t!="string"?t&&u3(n):a3(t),o=typeof s=="string"&&s!==n;return(o||!i||aye.test(n))&&(r["filename*"]=n),(i||o)&&(r.filename=o?s:n),r}}function yye(e){var t=e.parameters,r=e.type;if(!r||typeof r!="string"||!dye.test(r))throw new TypeError("invalid type");var n=String(r).toLowerCase();if(t&&typeof t=="object")for(var i,s=Object.keys(t).sort(),o=0;o<s.length;o++){i=s[o];var a=i.substr(-1)==="*"?xye(t[i]):Eye(t[i]);n+="; "+i+"="+a}return n}function bye(e){var t=hye.exec(e);if(!t)throw new TypeError("invalid extended field value");var r=t[1].toLowerCase(),n=t[2],i,s=n.replace(lye,wye);switch(r){case"iso-8859-1":i=u3(s);break;case"utf-8":i=sye.from(s,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return i}function u3(e){return String(e).replace(c3,"?")}function vye(e){if(!e||typeof e!="string")throw new TypeError("argument string is required");var t=pye.exec(e);if(!t)throw new TypeError("invalid type format");var r=t[0].length,n=t[1].toLowerCase(),i,s=[],o={},a;for(r=l3.lastIndex=t[0].substr(-1)===";"?r-1:r;t=l3.exec(e);){if(t.index!==r)throw new TypeError("invalid parameter format");if(r+=t[0].length,i=t[1].toLowerCase(),a=t[2],s.indexOf(i)!==-1)throw new TypeError("invalid duplicate parameter");if(s.push(i),i.indexOf("*")+1===i.length){i=i.slice(0,-1),a=bye(a),o[i]=a;continue}typeof o[i]!="string"&&(a[0]==='"'&&(a=a.substr(1,a.length-2).replace(cye,"$1")),o[i]=a)}if(r!==-1&&r!==e.length)throw new TypeError("invalid parameter format");return new f3(n,o)}function wye(e,t){return String.fromCharCode(parseInt(t,16))}function _ye(e){return"%"+String(e).charCodeAt(0).toString(16).toUpperCase()}function Eye(e){var t=String(e);return'"'+t.replace(uye,"\\$1")+'"'}function xye(e){var t=String(e),r=encodeURIComponent(t).replace(oye,_ye);return"UTF-8''"+r}function f3(e,t){this.type=e,this.parameters=t}});var p3=w((HOe,Kx)=>{"use strict";var Sye=/at\s{1}(?:.*\.)?plugin\s{1}.*\n\s*(.*)/,Rye=/(\w*(\.\w*)*)\..*/;Kx.exports=function(t){if(t.name.length>0)return t.name;let r=Error.stackTraceLimit;Error.stackTraceLimit=10;try{throw new Error("anonymous function")}catch(n){return Error.stackTraceLimit=r,h3(n.stack)}};function h3(e){let t=e.match(Sye);return t?t[1].split(/[/\\]/).slice(-1)[0].match(Rye)[1]:"anonymous"}Kx.exports.extractPluginName=h3});var g3=w((UOe,m3)=>{"use strict";m3.exports=function(t){return t[0]==="@"&&(t=t.slice(1).replace("/","-")),t.replace(/-(.)/g,function(n,i){return i.toUpperCase()})}});var y3=w((VOe,Vm)=>{"use strict";var Tye=p3(),Pye=g3(),Aye=0;function Jx(e,t={}){let r=!1;if(typeof e.default<"u"&&(e=e.default),typeof e!="function")throw new TypeError(`fastify-plugin expects a function, instead got a '${typeof e}'`);if(typeof t=="string"&&(t={fastify:t}),typeof t!="object"||Array.isArray(t)||t===null)throw new TypeError("The options object should be an object");if(t.fastify!==void 0&&typeof t.fastify!="string")throw new TypeError(`fastify-plugin expects a version string, instead got '${typeof t.fastify}'`);t.name||(r=!0,t.name=Tye(e)+"-auto-"+Aye++),e[Symbol.for("skip-override")]=t.encapsulate!==!0,e[Symbol.for("fastify.display-name")]=t.name,e[Symbol.for("plugin-meta")]=t,e.default||(e.default=e);let n=Pye(t.name);return!r&&!e[n]&&(e[n]=e),e}Vm.exports=Jx;Vm.exports.default=Jx;Vm.exports.fastifyPlugin=Jx});var b3=w((GOe,$f)=>{"use strict";function Xx(e){if(!new.target)return new Xx(e);let{supportedValues:t=[],cache:r}=e&&typeof e=="object"&&e||{};this.supportedValues=t,this.cache=r}Xx.prototype.negotiate=function(e){return typeof e!="string"?null:this.cache?(this.cache.has(e)||this.cache.set(e,If(e,this.supportedValues)),this.cache.get(e)):If(e,this.supportedValues)};function If(e,t){if(!e||!Array.isArray(t)||t.length===0)return null;if(e==="*")return t[0];let r=null,n=1/0,i=0;function s(o,a){if(a===0||i>a)return!1;let l=o==="*"&&t[0]||o,c=t.indexOf(l);return c===-1?!1:c===0&&a===1?(r=l,!0):((i<a||n>c)&&(r=l,n=c,i=a),!1)}return kye(e,s),r}var Of=0,Cf=1,Gm=2,Yx=3;function kye(e,t){let r="",n,i=Of;for(let s=0,o=e.length;s<o;++s){let a=e[s];if(!(a===" "||a==="	")){if(a===";"){i===Cf&&(i=Gm,n="");continue}else if(a===","){if(i===Cf){if(t(r,1)){i=Yx;break}i=Of,r=""}else if(i===Gm){if(t(r,parseFloat(n)||0)){i=Yx;break}i=Of,r="",n=""}continue}else if(i===Gm){if(a==="q"||a==="=")continue;if(a==="."||a==="1"||a==="0"||a==="2"||a==="3"||a==="4"||a==="5"||a==="6"||a==="7"||a==="8"||a==="9"){n+=a;continue}}else if(i===Of){i=Cf,r+=a;continue}if(i===Cf){let l=e[s-1];(l===" "||l==="	")&&(r=""),r+=a;continue}if(t(r,parseFloat(n)||0)){i=Yx;break}i=Of,r=a,n=""}}i===Cf?t(r,1):i===Gm&&t(r,parseFloat(n)||0)}$f.exports=If;$f.exports.default=If;$f.exports.negotiate=If;$f.exports.Negotiator=Xx});var w3=w((WOe,v3)=>{var Qx=class{constructor(t){this.value=t,this.next=void 0}},Zx=class{constructor(){this.clear()}enqueue(t){let r=new Qx(t);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){let t=this._head;if(t)return this._head=this._head.next,this._size--,t.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let t=this._head;for(;t;)yield t.value,t=t.next}};v3.exports=Zx});var E3=w((KOe,_3)=>{"use strict";var Oye=w3(),Cye=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let t=new Oye,r=0,n=()=>{r--,t.size>0&&t.dequeue()()},i=async(a,l,...c)=>{r++;let u=(async()=>a(...c))();l(u);try{await u}catch{}n()},s=(a,l,...c)=>{t.enqueue(i.bind(null,a,l,...c)),(async()=>(await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()))()},o=(a,...l)=>new Promise(c=>{s(a,c,...l)});return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),o};_3.exports=Cye});var R3=w((JOe,S3)=>{"use strict";var gn=L("path"),Wm=L("fs").promises,x3=E3(),Km={list:async function(e,t,r){let n={dirs:[],files:[]},i=await Wm.readdir(e);if((r==="deny"||r==="ignore")&&(i=i.filter(a=>a.charAt(0)!==".")),i.length<1)return n;let s=x3(4);await Promise.all(i.map(a=>s(async()=>{let l;try{l=await Wm.stat(gn.join(e,a))}catch{return}let c={name:a,stats:l};l.isDirectory()?(t.extendedFolderInfo&&(c.extendedInfo=await o(gn.join(e,a))),n.dirs.push(c)):n.files.push(c)})));async function o(a){let l=a.split(gn.sep).length,c=0,u=0,d=0,h=0,f=0,p=0;async function m(v){let y=await Wm.readdir(v),E=x3(4);await Promise.all(y.map(b=>E(async()=>{let g=gn.join(v,b),P;try{P=await Wm.stat(g)}catch{return}P.isDirectory()?(f++,g.split(gn.sep).length===l+1&&h++,await m(g)):(c+=P.size,d++,g.split(gn.sep).length===l+1&&u++,p=Math.max(p,P.mtimeMs))})))}return await m(a),{totalSize:c,fileCount:u,totalFileCount:d,folderCount:h,totalFolderCount:f,lastModified:p}}return n.dirs.sort((a,l)=>a.name.localeCompare(l.name)),n.files.sort((a,l)=>a.name.localeCompare(l.name)),n},send:async function({reply:e,dir:t,options:r,route:n,prefix:i,dotfiles:s}){if(e.request.query.format==="html"&&typeof r.render!="function")throw new Error("The `list.render` option must be a function and is required with the URL parameter `format=html`");let o;try{o=await Km.list(t,r,s)}catch{return e.callNotFound()}if((e.request.query.format||r.format)!=="html"){if(r.jsonFormat!=="extended"){let c={dirs:[],files:[]};o.dirs.forEach(u=>c.dirs.push(u.name)),o.files.forEach(u=>c.files.push(u.name)),e.send(c)}else e.send(o);return}let l=r.render(o.dirs.map(c=>Km.htmlInfo(c,n,i,r)),o.files.map(c=>Km.htmlInfo(c,n,i,r)));e.type("text/html").send(l)},htmlInfo:function(e,t,r,n){return n.names&&n.names.includes(gn.basename(t))&&(t=gn.normalize(gn.join(t,".."))),{href:gn.join(r,t,e.name).replace(/\\/g,"/"),name:e.name,stats:e.stats,extendedInfo:e.extendedInfo}},handle:function(e,t){return t.names?t.names.includes(gn.basename(e))||t.names.includes("/")&&e[e.length-1]==="/":!1},path:function(e,t){let r=t[t.length-1]==="/"?t+"none":t;return gn.dirname(gn.join(e,r))},validateOptions:function(e){if(e.list){if(Array.isArray(e.root))return new TypeError("multi-root with list option is not supported");if(e.list.format&&e.list.format!=="json"&&e.list.format!=="html")return new TypeError("The `list.format` option must be json or html");if(e.list.names&&!Array.isArray(e.list.names))return new TypeError("The `list.names` option must be an array");if(e.list.jsonFormat!=null&&e.list.jsonFormat!=="names"&&e.list.jsonFormat!=="extended")return new TypeError("The `list.jsonFormat` option must be name or extended");if(e.list.format==="html"&&typeof e.list.render!="function")return new TypeError("The `list.render` option must be a function and is required with html format")}}};S3.exports=Km});var O3=w((YOe,Jm)=>{"use strict";var wa=L("path"),k3=L("fs").statSync,{PassThrough:Iye}=lF(),$ye=Tx(),t1=n3(),Nye=d3(),jye=y3(),qye=L("util"),Dye=qye.promisify($ye),Lye=b3(),Nf=R3();async function r1(e,t){Fye(e,t.root);let r=t.setHeaders;if(r!==void 0&&typeof r!="function")throw new TypeError("The `setHeaders` option must be a function");let n=Nf.validateOptions(t);if(n)throw n;t.dotfiles===void 0&&(t.dotfiles="allow");let i={root:t.root,acceptRanges:t.acceptRanges,cacheControl:t.cacheControl,dotfiles:t.dotfiles,etag:t.etag,extensions:t.extensions,immutable:t.immutable,index:t.index,lastModified:t.lastModified,maxAge:t.maxAge},s=t.allowedPath;t.prefix===void 0&&(t.prefix="/");let o=t.prefix;t.prefixAvoidTrailingSlash||(o=t.prefix[t.prefix.length-1]==="/"?t.prefix:t.prefix+"/");function a(h,f,p,m,v=0,y={},E){let b=Object.assign({},i,y);if(m&&(Array.isArray(m)?b.root=m[v]:b.root=m),s&&!s(p,b.root,h))return f.callNotFound();let g,P=p;if(t.preCompressed&&(E||(E=new Set),g=zye(h.headers,E),g))if(p.endsWith("/")){if(p=e1(p,b.root,b.index),!p)return f.callNotFound();P=P+p+"."+P3(g)}else P=p+"."+P3(g);let O=t1(h.raw,P,b),R;O.on("file",function(q){R=q});let C=new Iye({flush(q){this.finished=!0,f.raw.statusCode===304&&f.send(""),q()}});C.getHeader=f.getHeader.bind(f),C.setHeader=f.header.bind(f),C.removeHeader=()=>{},C.finished=!1,Object.defineProperty(C,"filename",{get(){return R}}),Object.defineProperty(C,"statusCode",{get(){return f.raw.statusCode},set(q){f.code(q)}}),h.method==="HEAD"?C.on("finish",f.send.bind(f)):C.on("pipe",function(){g&&(f.header("content-type",Bye(p)),f.header("content-encoding",g)),f.send(C)}),r!==void 0&&O.on("headers",r),O.on("directory",function(q,F){if(t.list){Nf.send({reply:f,dir:F,options:t.list,route:p,prefix:o,dotfiles:t.dotfiles}).catch(D=>f.send(D));return}if(t.redirect===!0)try{f.redirect(301,A3(h.raw.url))}catch(D){f.send(D)}else{if(!p.endsWith("/")&&e1(p,b.root,b.index))return a(h,f,p+"/",m,void 0,void 0,E);f.callNotFound()}}),O.on("error",function(q){if(q.code==="ENOENT"){if(t.preCompressed&&g&&e1(p,b.root,b.index))return a(h,f,p+"/",m,void 0,void 0,E);if(t.list&&Nf.handle(p,t.list)){Nf.send({reply:f,dir:Nf.path(t.root,p),options:t.list,route:p,prefix:o,dotfiles:t.dotfiles}).catch(F=>f.send(F));return}return Array.isArray(m)&&v<m.length-1?a(h,f,p,m,v+1):t.preCompressed&&!E.has(g)?(E.add(g),a(h,f,p,m,void 0,void 0,E)):f.callNotFound()}if(q.status===404)return f.callNotFound();f.send(q)}),O.pipe(C)}let l=(h,f,p)=>{if(h&&h.code==="ERR_STREAM_PREMATURE_CLOSE"){p.request.raw.destroy();return}e.errorHandler(h,f,p)},c={schema:{hide:typeof t.schemaHide<"u"?t.schemaHide:!0},errorHandler:l};if(t.decorateReply!==!1&&(e.decorateReply("sendFile",function(h,f,p){let m=typeof f=="object"?f:p,v=typeof f=="string"?f:m&&m.root;return a(this.request,this,h,v||i.root,0,m),this}),e.decorateReply("download",function(h,f,p={}){let{root:m,...v}=typeof f=="object"?f:p;return f=typeof f=="string"?f:h,this.header("content-disposition",Nye(f)),a(this.request,this,h,m,0,v),this})),t.serve!==!1){if(t.wildcard&&typeof t.wildcard!="boolean")throw new Error('"wildcard" option must be a boolean');if(t.wildcard===void 0||t.wildcard===!0)e.head(o+"*",c,function(h,f){a(h,f,"/"+h.params["*"],i.root)}),e.get(o+"*",c,function(h,f){a(h,f,"/"+h.params["*"],i.root)}),t.redirect===!0&&o!==t.prefix&&e.get(t.prefix,c,function(h,f){f.redirect(301,A3(h.raw.url))});else{let h="**/**",f=new Map,p=new Set,m=new RegExp(`\\${wa.win32.sep}`,"g");for(let v of Array.isArray(i.root)?i.root:[i.root]){let y=await Dye(wa.join(v,h).replace(m,wa.posix.sep),{nodir:!0,dot:t.serveDotFiles}),E=typeof t.index>"u"?["index.html"]:[].concat(t.index);for(let b of y){b=b.replace(v.replace(/\\/g,"/"),"").replace(/^\//,"");let g=(o+b).replace(/\/\//g,"/");if(p.has(g))continue;p.add(g),u(e,c,g,"/"+b,v);let P=wa.posix.basename(g);E.includes(P)&&!f.has(P)&&f.set(wa.posix.dirname(g),v)}}for(let[v,y]of f.entries()){let E=v+(v.endsWith("/")?"":"/"),b="/"+E.replace(o,"");u(e,c,E,b,y),t.redirect===!0&&u(e,c,E.replace(/\/$/,""),b.replace(/\/$/,""),y)}}}function u(h,f,p,m,v){let y={...f,method:["HEAD","GET"],url:p,handler:d};y.config=y.config||{},y.config.file=m,y.config.rootPath=v,h.route(y)}function d(h,f){let p=h.routeConfig.file,m=h.routeConfig.rootPath;a(h,f,p,m)}}function Fye(e,t){if(t===void 0)throw new Error('"root" option is required');if(Array.isArray(t)){if(!t.length)throw new Error('"root" option array requires one or more paths');if([...new Set(t)].length!==t.length)throw new Error('"root" option array contains one or more duplicate paths');t.map(r=>T3(e,r));return}if(typeof t=="string")return T3(e,t);throw new Error('"root" option must be a string or array of strings')}function T3(e,t){if(typeof t!="string")throw new Error('"root" option must be a string');if(wa.isAbsolute(t)===!1)throw new Error('"root" option must be an absolute path');let r;try{r=k3(t)}catch(n){if(n.code==="ENOENT"){e.log.warn(`"root" path "${t}" must exist`);return}throw n}if(r.isDirectory()===!1)throw new Error('"root" option must point to a directory')}var Mye=["br","gzip","deflate"];function Bye(e){let t=t1.mime.getType(e);return t1.isUtf8MimeType(t)?`${t}; charset=UTF-8`:t}function e1(e,t,r=["index.html"]){return Array.isArray(r)?r.find(n=>{let i=wa.join(t,e,n);try{return!k3(i).isDirectory()}catch{return!1}}):!1}function zye(e,t){if(!("accept-encoding"in e))return;let r=e["accept-encoding"].toLowerCase().replace(/\*/g,"gzip");return Lye.negotiate(r,Mye.filter(n=>!t.has(n)))}function P3(e){switch(e){case"br":return"br";case"gzip":return"gz"}}function A3(e){let t=0;for(t;t<e.length&&!(e[t]!=="/"&&e[t]!=="\\");t++);e="/"+e.substr(t);try{let r=new URL(e,"http://localhost.com/");return r.pathname+(r.pathname[r.pathname.length-1]!=="/"?"/":"")+(r.search||"")}catch{let n=new Error(`Invalid redirect URL: ${e}`);throw n.statusCode=400,n}}Jm.exports=jye(r1,{fastify:"4.x",name:"@fastify/static"});Jm.exports.default=r1;Jm.exports.fastifyStatic=r1});var I3=w((XOe,C3)=>{C3.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);Hye(i)?r.push.apply(r,i):r.push(i)}return r};var Hye=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var M3=w((QOe,F3)=>{var Uye=I3(),$3=fx();F3.exports=Wye;var N3="\0SLASH"+Math.random()+"\0",j3="\0OPEN"+Math.random()+"\0",i1="\0CLOSE"+Math.random()+"\0",q3="\0COMMA"+Math.random()+"\0",D3="\0PERIOD"+Math.random()+"\0";function n1(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function Vye(e){return e.split("\\\\").join(N3).split("\\{").join(j3).split("\\}").join(i1).split("\\,").join(q3).split("\\.").join(D3)}function Gye(e){return e.split(N3).join("\\").split(j3).join("{").split(i1).join("}").split(q3).join(",").split(D3).join(".")}function L3(e){if(!e)return[""];var t=[],r=$3("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=L3(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function Wye(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),lc(Vye(e),!0).map(Gye)):[]}function Kye(e){return"{"+e+"}"}function Jye(e){return/^-?0\d/.test(e)}function Yye(e,t){return e<=t}function Xye(e,t){return e>=t}function lc(e,t){var r=[],n=$3("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,a=n.body.indexOf(",")>=0;if(!o&&!a)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+i1+n.post,lc(e)):[e];var l;if(o)l=n.body.split(/\.\./);else if(l=L3(n.body),l.length===1&&(l=lc(l[0],!1).map(Kye),l.length===1)){var u=n.post.length?lc(n.post,!1):[""];return u.map(function(D){return n.pre+l[0]+D})}var c=n.pre,u=n.post.length?lc(n.post,!1):[""],d;if(o){var h=n1(l[0]),f=n1(l[1]),p=Math.max(l[0].length,l[1].length),m=l.length==3?Math.abs(n1(l[2])):1,v=Yye,y=f<h;y&&(m*=-1,v=Xye);var E=l.some(Jye);d=[];for(var b=h;v(b,f);b+=m){var g;if(s)g=String.fromCharCode(b),g==="\\"&&(g="");else if(g=String(b),E){var P=p-g.length;if(P>0){var O=new Array(P+1).join("0");b<0?g="-"+O+g.slice(1):g=O+g}}d.push(g)}}else d=Uye(l,function(F){return lc(F,!1)});for(var R=0;R<d.length;R++)for(var C=0;C<u.length;C++){var q=c+d[R]+u[C];(!t||o||q)&&r.push(q)}return r}});var Qm=w((ZOe,V3)=>{V3.exports=yn;yn.Minimatch=wr;var jf=function(){try{return L("path")}catch{}}()||{sep:"/"};yn.sep=jf.sep;var a1=yn.GLOBSTAR=wr.GLOBSTAR={},Qye=M3(),B3={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},s1="[^/]",o1=s1+"*?",Zye="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",e0e="(?:(?!(?:\\/|^)\\.).)*?",z3=t0e("().*{}+?[]^$\\!");function t0e(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var H3=/\/+/;yn.filter=r0e;function r0e(e,t){return t=t||{},function(r,n,i){return yn(r,e,t)}}function uo(e,t){t=t||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}yn.defaults=function(e){if(!e||typeof e!="object"||!Object.keys(e).length)return yn;var t=yn,r=function(i,s,o){return t(i,s,uo(e,o))};return r.Minimatch=function(i,s){return new t.Minimatch(i,uo(e,s))},r.Minimatch.defaults=function(i){return t.defaults(uo(e,i)).Minimatch},r.filter=function(i,s){return t.filter(i,uo(e,s))},r.defaults=function(i){return t.defaults(uo(e,i))},r.makeRe=function(i,s){return t.makeRe(i,uo(e,s))},r.braceExpand=function(i,s){return t.braceExpand(i,uo(e,s))},r.match=function(n,i,s){return t.match(n,i,uo(e,s))},r};wr.defaults=function(e){return yn.defaults(e).Minimatch};function yn(e,t,r){return Xm(t),r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:new wr(t,r).match(e)}function wr(e,t){if(!(this instanceof wr))return new wr(e,t);Xm(e),t||(t={}),e=e.trim(),!t.allowWindowsEscape&&jf.sep!=="/"&&(e=e.split(jf.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}wr.prototype.debug=function(){};wr.prototype.make=n0e;function n0e(){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(H3)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}wr.prototype.parseNegate=i0e;function i0e(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=e.length;i<s&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}yn.braceExpand=function(e,t){return U3(e,t)};wr.prototype.braceExpand=U3;function U3(e,t){return t||(this instanceof wr?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,Xm(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:Qye(e)}var s0e=1024*64,Xm=function(e){if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>s0e)throw new TypeError("pattern is too long")};wr.prototype.parse=o0e;var Ym={};function o0e(e,t){Xm(e);var r=this.options;if(e==="**")if(r.noglobstar)e="*";else return a1;if(e==="")return"";var n="",i=!!r.nocase,s=!1,o=[],a=[],l,c=!1,u=-1,d=-1,h=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",f=this;function p(){if(l){switch(l){case"*":n+=o1,i=!0;break;case"?":n+=s1,i=!0;break;default:n+="\\"+l;break}f.debug("clearStateChar %j %j",l,n),l=!1}}for(var m=0,v=e.length,y;m<v&&(y=e.charAt(m));m++){if(this.debug("%s	%s %s %j",e,m,n,y),s&&z3[y]){n+="\\"+y,s=!1;continue}switch(y){case"/":return!1;case"\\":p(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,m,n,y),c){this.debug("  in class"),y==="!"&&m===d+1&&(y="^"),n+=y;continue}f.debug("call clearStateChar %j",l),p(),l=y,r.noext&&p();continue;case"(":if(c){n+="(";continue}if(!l){n+="\\(";continue}o.push({type:l,start:m-1,reStart:n.length,open:B3[l].open,close:B3[l].close}),n+=l==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",l,n),l=!1;continue;case")":if(c||!o.length){n+="\\)";continue}p(),i=!0;var E=o.pop();n+=E.close,E.type==="!"&&a.push(E),E.reEnd=n.length;continue;case"|":if(c||!o.length||s){n+="\\|",s=!1;continue}p(),n+="|";continue;case"[":if(p(),c){n+="\\"+y;continue}c=!0,d=m,u=n.length,n+=y;continue;case"]":if(m===d+1||!c){n+="\\"+y,s=!1;continue}var b=e.substring(d+1,m);try{RegExp("["+b+"]")}catch{var g=this.parse(b,Ym);n=n.substr(0,u)+"\\["+g[0]+"\\]",i=i||g[1],c=!1;continue}i=!0,c=!1,n+=y;continue;default:p(),s?s=!1:z3[y]&&!(y==="^"&&c)&&(n+="\\"),n+=y}}for(c&&(b=e.substr(d+1),g=this.parse(b,Ym),n=n.substr(0,u)+"\\["+g[0],i=i||g[1]),E=o.pop();E;E=o.pop()){var P=n.slice(E.reStart+E.open.length);this.debug("setting tail",n,E),P=P.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Be,Mt,Oe){return Oe||(Oe="\\"),Mt+Mt+Oe+"|"}),this.debug(`tail=%j
   %s`,P,P,E,n);var O=E.type==="*"?o1:E.type==="?"?s1:"\\"+E.type;i=!0,n=n.slice(0,E.reStart)+O+"\\("+P}p(),s&&(n+="\\\\");var R=!1;switch(n.charAt(0)){case"[":case".":case"(":R=!0}for(var C=a.length-1;C>-1;C--){var q=a[C],F=n.slice(0,q.reStart),D=n.slice(q.reStart,q.reEnd-8),H=n.slice(q.reEnd-8,q.reEnd),G=n.slice(q.reEnd);H+=G;var he=F.split("(").length-1,we=G;for(m=0;m<he;m++)we=we.replace(/\)[+*?]?/,"");G=we;var Z="";G===""&&t!==Ym&&(Z="$");var ye=F+D+G+Z+H;n=ye}if(n!==""&&i&&(n="(?=.)"+n),R&&(n=h+n),t===Ym)return[n,i];if(!i)return l0e(e);var Ge=r.nocase?"i":"";try{var re=new RegExp("^"+n+"$",Ge)}catch{return new RegExp("$.")}return re._glob=e,re._src=n,re}yn.makeRe=function(e,t){return new wr(e,t||{}).makeRe()};wr.prototype.makeRe=a0e;function a0e(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?o1:t.dot?Zye:e0e,n=t.nocase?"i":"",i=e.map(function(s){return s.map(function(o){return o===a1?r:typeof o=="string"?c0e(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}yn.match=function(e,t,r){r=r||{};var n=new wr(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};wr.prototype.match=function(t,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;var n=this.options;jf.sep!=="/"&&(t=t.split(jf.sep).join("/")),t=t.split(H3),this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=t.length-1;o>=0&&(s=t[o],!s);o--);for(o=0;o<i.length;o++){var a=i[o],l=t;n.matchBase&&a.length===1&&(l=[s]);var c=this.matchOne(l,a,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};wr.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,o=e.length,a=t.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var l=t[s],c=e[i];if(this.debug(t,l,c),l===!1)return!1;if(l===a1){this.debug("GLOBSTAR",[t,l,c]);var u=i,d=s+1;if(d===a){for(this.debug("** at the end");i<o;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;u<o;){var h=e[u];if(this.debug(`
globstar while`,e,u,t,d,h),this.matchOne(e.slice(u),t.slice(d),r))return this.debug("globstar found match!",u,o,h),!0;if(h==="."||h===".."||!n.dot&&h.charAt(0)==="."){this.debug("dot detected!",e,u,t,d);break}this.debug("globstar swallow a segment, and continue"),u++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,u,t,d),u===o))}var f;if(typeof l=="string"?(f=c===l,this.debug("string match",l,c,f)):(f=c.match(l),this.debug("pattern match",l,c,f)),!f)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&e[i]==="";throw new Error("wtf?")};function l0e(e){return e.replace(/\\(.)/g,"$1")}function c0e(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var eg=w((eCe,Zm)=>{"use strict";function G3(e){return e.charAt(0)==="/"}function W3(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}Zm.exports=process.platform==="win32"?W3:G3;Zm.exports.posix=G3;Zm.exports.win32=W3});var c1=w(fo=>{fo.setopts=m0e;fo.ownProp=K3;fo.makeAbs=qf;fo.finish=g0e;fo.mark=y0e;fo.isIgnored=Y3;fo.childrenIgnored=b0e;function K3(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var u0e=L("fs"),cc=L("path"),f0e=Qm(),J3=eg(),l1=f0e.Minimatch;function d0e(e,t){return e.localeCompare(t,"en")}function h0e(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(p0e))}function p0e(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new l1(r,{dot:!0})}return{matcher:new l1(e,{dot:!0}),gmatcher:t}}function m0e(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||u0e,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),h0e(e,r),e.changedCwd=!1;var n=process.cwd();K3(r,"cwd")?(e.cwd=cc.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||cc.resolve(e.cwd,"/"),e.root=cc.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=J3(e.cwd)?e.cwd:qf(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,e.minimatch=new l1(t,r),e.options=e.minimatch.options}function g0e(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var s=e.matches[n];if(!s||Object.keys(s).length===0){if(e.nonull){var o=e.minimatch.globSet[n];t?r.push(o):r[o]=!0}}else{var a=Object.keys(s);t?r.push.apply(r,a):a.forEach(function(l){r[l]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(d0e)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(l){var c=!/\/$/.test(l),u=e.cache[l]||e.cache[qf(e,l)];return c&&u&&(c=u!=="DIR"&&!Array.isArray(u)),c}))}e.ignore.length&&(r=r.filter(function(l){return!Y3(e,l)})),e.found=r}function y0e(e,t){var r=qf(e,t),n=e.cache[r],i=t;if(n){var s=n==="DIR"||Array.isArray(n),o=t.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==t){var a=qf(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i}function qf(e,t){var r=t;return t.charAt(0)==="/"?r=cc.join(e.root,t):J3(t)||t===""?r=t:e.changedCwd?r=cc.resolve(e.cwd,t):r=cc.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Y3(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function b0e(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var t5=w((sCe,e5)=>{e5.exports=Z3;Z3.GlobSync=er;var v0e=Ef(),X3=Qm(),rCe=X3.Minimatch,nCe=d1().Glob,iCe=L("util"),u1=L("path"),Q3=L("assert"),tg=eg(),_a=c1(),w0e=_a.setopts,f1=_a.ownProp,_0e=_a.childrenIgnored,E0e=_a.isIgnored;function Z3(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new er(e,t).found}function er(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof er))return new er(e,t);if(w0e(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}er.prototype._finish=function(){if(Q3.ok(this instanceof er),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var s=v0e.realpathSync(i,e.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[e._makeAbs(i)]=!0;else throw o}})}_a.finish(this)};er.prototype._process=function(e,t,r){Q3.ok(this instanceof er);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var s=e.slice(n),o;i===null?o=".":((tg(i)||tg(e.map(function(c){return typeof c=="string"?c:"[*]"}).join("/")))&&(!i||!tg(i))&&(i="/"+i),o=i);var a=this._makeAbs(o);if(!_0e(this,o)){var l=s[0]===X3.GLOBSTAR;l?this._processGlobStar(i,o,a,s,t,r):this._processReaddir(i,o,a,s,t,r)}};er.prototype._processReaddir=function(e,t,r,n,i,s){var o=this._readdir(r,s);if(o){for(var a=n[0],l=!!this.minimatch.negate,c=a._glob,u=this.dot||c.charAt(0)===".",d=[],h=0;h<o.length;h++){var f=o[h];if(f.charAt(0)!=="."||u){var p;l&&!e?p=!f.match(a):p=f.match(a),p&&d.push(f)}}var m=d.length;if(m!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<m;h++){var f=d[h];e&&(e.slice(-1)!=="/"?f=e+"/"+f:f=e+f),f.charAt(0)==="/"&&!this.nomount&&(f=u1.join(this.root,f)),this._emitMatch(i,f)}return}n.shift();for(var h=0;h<m;h++){var f=d[h],v;e?v=[e,f]:v=[f],this._process(v.concat(n),i,s)}}}};er.prototype._emitMatch=function(e,t){if(!E0e(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};er.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};er.prototype._readdir=function(e,t){var r;if(t&&!f1(this.symlinks,e))return this._readdirInGlobStar(e);if(f1(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};er.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};er.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};er.prototype._processGlobStar=function(e,t,r,n,i,s){var o=this._readdir(r,s);if(o){var a=n.slice(1),l=e?[e]:[],c=l.concat(a);this._process(c,i,!1);var u=o.length,d=this.symlinks[r];if(!(d&&s))for(var h=0;h<u;h++){var f=o[h];if(!(f.charAt(0)==="."&&!this.dot)){var p=l.concat(o[h],a);this._process(p,i,!0);var m=l.concat(o[h],n);this._process(m,i,!0)}}}};er.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&tg(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=u1.join(this.root,e):(e=u1.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};er.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&f1(this.cache,t)){var o=this.cache[t];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[t];if(!i){var s;try{s=this.fs.lstatSync(t)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(t)}catch{i=s}else i=s}this.statCache[t]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,r&&o==="FILE"?!1:o};er.prototype._mark=function(e){return _a.mark(this,e)};er.prototype._makeAbs=function(e){return _a.makeAbs(this,e)}});var d1=w((lCe,n5)=>{n5.exports=Ea;var x0e=Ef(),r5=Qm(),oCe=r5.Minimatch,S0e=Cm(),R0e=L("events").EventEmitter,h1=L("path"),p1=L("assert"),Df=eg(),g1=t5(),xa=c1(),T0e=xa.setopts,m1=xa.ownProp,y1=kx(),aCe=L("util"),P0e=xa.childrenIgnored,A0e=xa.isIgnored,k0e=Nm();function Ea(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return g1(e,t)}return new Xe(e,t,r)}Ea.sync=g1;var O0e=Ea.GlobSync=g1.GlobSync;Ea.glob=Ea;function C0e(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}Ea.hasMagic=function(e,t){var r=C0e({},t);r.noprocess=!0;var n=new Xe(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};Ea.Glob=Xe;S0e(Xe,R0e);function Xe(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new O0e(e,t)}if(!(this instanceof Xe))return new Xe(e,t,r);T0e(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=k0e(r),this.on("error",r),this.on("end",function(l){r(null,l)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}Xe.prototype._finish=function(){if(p1(this instanceof Xe),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();xa.finish(this),this.emit("end",this.found)}};Xe.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e===0&&t._finish()}};Xe.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,s=n.length;if(s===0)return t();var o=this.matches[e]=Object.create(null);n.forEach(function(a,l){a=i._makeAbs(a),x0e.realpath(a,i.realpathCache,function(c,u){c?c.syscall==="stat"?o[a]=!0:i.emit("error",c):o[u]=!0,--s===0&&(i.matches[e]=o,t())})})};Xe.prototype._mark=function(e){return xa.mark(this,e)};Xe.prototype._makeAbs=function(e){return xa.makeAbs(this,e)};Xe.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Xe.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Xe.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};Xe.prototype._process=function(e,t,r,n){if(p1(this instanceof Xe),p1(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var s;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:s=null;break;default:s=e.slice(0,i).join("/");break}var o=e.slice(i),a;s===null?a=".":((Df(s)||Df(e.map(function(u){return typeof u=="string"?u:"[*]"}).join("/")))&&(!s||!Df(s))&&(s="/"+s),a=s);var l=this._makeAbs(a);if(P0e(this,a))return n();var c=o[0]===r5.GLOBSTAR;c?this._processGlobStar(s,a,l,o,t,r,n):this._processReaddir(s,a,l,o,t,r,n)}};Xe.prototype._processReaddir=function(e,t,r,n,i,s,o){var a=this;this._readdir(r,s,function(l,c){return a._processReaddir2(e,t,r,n,i,s,c,o)})};Xe.prototype._processReaddir2=function(e,t,r,n,i,s,o,a){if(!o)return a();for(var l=n[0],c=!!this.minimatch.negate,u=l._glob,d=this.dot||u.charAt(0)===".",h=[],f=0;f<o.length;f++){var p=o[f];if(p.charAt(0)!=="."||d){var m;c&&!e?m=!p.match(l):m=p.match(l),m&&h.push(p)}}var v=h.length;if(v===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<v;f++){var p=h[f];e&&(e!=="/"?p=e+"/"+p:p=e+p),p.charAt(0)==="/"&&!this.nomount&&(p=h1.join(this.root,p)),this._emitMatch(i,p)}return a()}n.shift();for(var f=0;f<v;f++){var p=h[f],y;e&&(e!=="/"?p=e+"/"+p:p=e+p),this._process([p].concat(n),i,s,a)}a()};Xe.prototype._emitMatch=function(e,t){if(!this.aborted&&!A0e(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Df(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};Xe.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=y1(r,s);i&&n.fs.lstat(e,i);function s(o,a){if(o&&o.code==="ENOENT")return t();var l=a&&a.isSymbolicLink();n.symlinks[e]=l,!l&&a&&!a.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};Xe.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=y1("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!m1(this.symlinks,e))return this._readdirInGlobStar(e,r);if(m1(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,I0e(this,e,r))}};function I0e(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}Xe.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};Xe.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};Xe.prototype._processGlobStar=function(e,t,r,n,i,s,o){var a=this;this._readdir(r,s,function(l,c){a._processGlobStar2(e,t,r,n,i,s,c,o)})};Xe.prototype._processGlobStar2=function(e,t,r,n,i,s,o,a){if(!o)return a();var l=n.slice(1),c=e?[e]:[],u=c.concat(l);this._process(u,i,!1,a);var d=this.symlinks[r],h=o.length;if(d&&s)return a();for(var f=0;f<h;f++){var p=o[f];if(!(p.charAt(0)==="."&&!this.dot)){var m=c.concat(o[f],l);this._process(m,i,!0,a);var v=c.concat(o[f],n);this._process(v,i,!0,a)}}a()};Xe.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,s){n._processSimple2(e,t,i,s,r)})};Xe.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&Df(e)&&!this.nomount){var s=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=h1.join(this.root,e):(e=h1.resolve(this.root,e),s&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};Xe.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&m1(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return t(null,o);var a=o.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?t():t(null,a,o)}var l=this,c=y1("stat\0"+r,u);c&&l.fs.lstat(r,c);function u(d,h){if(h&&h.isSymbolicLink())return l.fs.stat(r,function(f,p){f?l._stat2(e,r,null,h,t):l._stat2(e,r,f,p,t)});l._stat2(e,r,d,h,t)}};Xe.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var s=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,s&&o==="FILE"?i():i(null,o,n)}});var f5=w((cCe,u5)=>{var ut=L("assert"),a5=L("path"),i5=L("fs"),uc;try{uc=d1()}catch{}var $0e={nosort:!0,silent:!0},b1=0,Lf=process.platform==="win32",l5=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||i5[r],r=r+"Sync",e[r]=e[r]||i5[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&uc===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||$0e},w1=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),ut(e,"rimraf: missing path"),ut.equal(typeof e,"string","rimraf: path should be a string"),ut.equal(typeof r,"function","rimraf: callback function required"),ut(t,"rimraf: invalid options argument provided"),ut.equal(typeof t,"object","rimraf: options should be object"),l5(t);let n=0,i=null,s=0,o=l=>{i=i||l,--s===0&&r(i)},a=(l,c)=>{if(l)return r(l);if(s=c.length,s===0)return r();c.forEach(u=>{let d=h=>{if(h){if((h.code==="EBUSY"||h.code==="ENOTEMPTY"||h.code==="EPERM")&&n<t.maxBusyTries)return n++,setTimeout(()=>v1(u,t,d),n*100);if(h.code==="EMFILE"&&b1<t.emfileWait)return setTimeout(()=>v1(u,t,d),b1++);h.code==="ENOENT"&&(h=null)}b1=0,o(h)};v1(u,t,d)})};if(t.disableGlob||!uc.hasMagic(e))return a(null,[e]);t.lstat(e,(l,c)=>{if(!l)return a(null,[e]);uc(e,t.glob,a)})},v1=(e,t,r)=>{ut(e),ut(t),ut(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&Lf&&s5(e,t,n,r),i&&i.isDirectory())return rg(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return Lf?s5(e,t,s,r):rg(e,t,s,r);if(s.code==="EISDIR")return rg(e,t,s,r)}return r(s)})})},s5=(e,t,r,n)=>{ut(e),ut(t),ut(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?rg(e,t,r,n):t.unlink(e,n)})})},o5=(e,t,r)=>{ut(e),ut(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?ng(e,t,r):t.unlinkSync(e)},rg=(e,t,r,n)=>{ut(e),ut(t),ut(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?N0e(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},N0e=(e,t,r)=>{ut(e),ut(t),ut(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length;if(s===0)return t.rmdir(e,r);let o;i.forEach(a=>{w1(a5.join(e,a),t,l=>{if(!o){if(l)return r(o=l);--s===0&&t.rmdir(e,r)}})})})},c5=(e,t)=>{t=t||{},l5(t),ut(e,"rimraf: missing path"),ut.equal(typeof e,"string","rimraf: path should be a string"),ut(t,"rimraf: missing options"),ut.equal(typeof t,"object","rimraf: options should be object");let r;if(t.disableGlob||!uc.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch{r=uc.sync(e,t.glob)}if(r.length)for(let n=0;n<r.length;n++){let i=r[n],s;try{s=t.lstatSync(i)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&Lf&&o5(i,t,o)}try{s&&s.isDirectory()?ng(i,t,null):t.unlinkSync(i)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return Lf?o5(i,t,o):ng(i,t,o);if(o.code!=="EISDIR")throw o;ng(i,t,o)}}},ng=(e,t,r)=>{ut(e),ut(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&j0e(e,t)}},j0e=(e,t)=>{ut(e),ut(t),t.readdirSync(e).forEach(i=>c5(a5.join(e,i),t));let r=Lf?100:1,n=0;do{let i=!0;try{let s=t.rmdirSync(e,t);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)};u5.exports=w1;w1.sync=c5});var k5=w((uCe,ps)=>{var ur=L("fs"),R1=L("os"),bn=L("path"),d5=L("crypto"),Ci={fs:ur.constants,os:R1.constants},m5=f5(),h5="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",g5=/XXXXXX/,q0e=3,y5=(Ci.O_CREAT||Ci.fs.O_CREAT)|(Ci.O_EXCL||Ci.fs.O_EXCL)|(Ci.O_RDWR||Ci.fs.O_RDWR),D0e=R1.platform()==="win32",L0e=Ci.EBADF||Ci.os.errno.EBADF,F0e=Ci.ENOENT||Ci.os.errno.ENOENT,b5=448,v5=384,M0e="exit",fc=[],w5=ur.rmdirSync.bind(ur),_5=m5.sync,E5=!1;function T1(e,t){let r=dc(e,t),n=r[0],i=r[1];try{T5(n)}catch(o){return i(o)}let s=n.tries;(function o(){try{let a=R5(n);ur.stat(a,function(l){if(!l)return s-- >0?o():i(new Error("Could not get a unique tmp filename, max tries reached "+a));i(null,a)})}catch(a){i(a)}})()}function P1(e){let t=dc(e),r=t[0];T5(r);let n=r.tries;do{let i=R5(r);try{ur.statSync(i)}catch{return i}}while(n-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function B0e(e,t){let r=dc(e,t),n=r[0],i=r[1];T1(n,function(o,a){if(o)return i(o);ur.open(a,y5,n.mode||v5,function(c,u){if(c)return i(c);if(n.discardDescriptor)return ur.close(u,function(h){return i(h,a,void 0,E1(a,-1,n,!1))});{let d=n.discardDescriptor||n.detachDescriptor;i(null,a,u,E1(a,d?-1:u,n,!1))}})})}function z0e(e){let t=dc(e),r=t[0],n=r.discardDescriptor||r.detachDescriptor,i=P1(r);var s=ur.openSync(i,y5,r.mode||v5);return r.discardDescriptor&&(ur.closeSync(s),s=void 0),{name:i,fd:s,removeCallback:E1(i,n?-1:s,r,!0)}}function H0e(e,t){let r=dc(e,t),n=r[0],i=r[1];T1(n,function(o,a){if(o)return i(o);ur.mkdir(a,n.mode||b5,function(c){if(c)return i(c);i(null,a,x5(a,n,!1))})})}function U0e(e){let t=dc(e),r=t[0],n=P1(r);return ur.mkdirSync(n,r.mode||b5),{name:n,removeCallback:x5(n,r,!0)}}function V0e(e,t){let r=function(n){if(n&&!S1(n))return t(n);t()};0<=e[0]?ur.close(e[0],function(){ur.unlink(e[1],r)}):ur.unlink(e[1],r)}function G0e(e){let t=null;try{0<=e[0]&&ur.closeSync(e[0])}catch(r){if(!K0e(r)&&!S1(r))throw r}finally{try{ur.unlinkSync(e[1])}catch(r){S1(r)||(t=r)}}if(t!==null)throw t}function E1(e,t,r,n){let i=ig(G0e,[t,e],n),s=ig(V0e,[t,e],n,i);return r.keep||fc.unshift(i),n?i:s}function x5(e,t,r){let n=t.unsafeCleanup?m5:ur.rmdir.bind(ur),i=t.unsafeCleanup?_5:w5,s=ig(i,e,r),o=ig(n,e,r,s);return t.keep||fc.unshift(s),r?s:o}function ig(e,t,r,n){let i=!1;return function s(o){if(!i){let a=n||s,l=fc.indexOf(a);return l>=0&&fc.splice(l,1),i=!0,r||e===w5||e===_5?e(t):e(t,o||function(){})}}}function W0e(){if(E5)for(;fc.length;)try{fc[0]()}catch{}}function p5(e){let t=[],r=null;try{r=d5.randomBytes(e)}catch{r=d5.pseudoRandomBytes(e)}for(var n=0;n<e;n++)t.push(h5[r[n]%h5.length]);return t.join("")}function S5(e){return e===null||nn(e)||!e.trim()}function nn(e){return typeof e>"u"}function dc(e,t){if(typeof e=="function")return[{},e];if(nn(e))return[{},t];let r={};for(let n of Object.getOwnPropertyNames(e))r[n]=e[n];return[r,t]}function R5(e){let t=e.tmpdir;if(!nn(e.name))return bn.join(t,e.dir,e.name);if(!nn(e.template))return bn.join(t,e.dir,e.template).replace(g5,p5(6));let r=[e.prefix?e.prefix:"tmp","-",process.pid,"-",p5(12),e.postfix?"-"+e.postfix:""].join("");return bn.join(t,e.dir,r)}function T5(e){e.tmpdir=A5(e);let t=e.tmpdir;if(nn(e.name)||_1(e.name,"name",t),nn(e.dir)||_1(e.dir,"dir",t),!nn(e.template)&&(_1(e.template,"template",t),!e.template.match(g5)))throw new Error(`Invalid template, found "${e.template}".`);if(!nn(e.tries)&&isNaN(e.tries)||e.tries<0)throw new Error(`Invalid tries, found "${e.tries}".`);e.tries=nn(e.name)?e.tries||q0e:1,e.keep=!!e.keep,e.detachDescriptor=!!e.detachDescriptor,e.discardDescriptor=!!e.discardDescriptor,e.unsafeCleanup=!!e.unsafeCleanup,e.dir=nn(e.dir)?"":bn.relative(t,x1(e.dir,t)),e.template=nn(e.template)?void 0:bn.relative(t,x1(e.template,t)),e.template=S5(e.template)?void 0:bn.relative(e.dir,e.template),e.name=nn(e.name)?void 0:A1(e.name),e.prefix=nn(e.prefix)?"":e.prefix,e.postfix=nn(e.postfix)?"":e.postfix}function x1(e,t){let r=A1(e);return r.startsWith(t)?bn.resolve(r):bn.resolve(bn.join(t,r))}function A1(e){return S5(e)?e:e.replace(/["']/g,"")}function _1(e,t,r){if(t==="name"){if(bn.isAbsolute(e))throw new Error(`${t} option must not contain an absolute path, found "${e}".`);let n=bn.basename(e);if(n===".."||n==="."||n!==e)throw new Error(`${t} option must not contain a path, found "${e}".`)}else{if(bn.isAbsolute(e)&&!e.startsWith(r))throw new Error(`${t} option must be relative to "${r}", found "${e}".`);let n=x1(e,r);if(!n.startsWith(r))throw new Error(`${t} option must be relative to "${r}", found "${n}".`)}}function K0e(e){return P5(e,-L0e,"EBADF")}function S1(e){return P5(e,-F0e,"ENOENT")}function P5(e,t,r){return D0e?e.code===r:e.code===r&&e.errno===t}function J0e(){E5=!0}function A5(e){return bn.resolve(A1(e&&e.tmpdir||R1.tmpdir()))}process.addListener(M0e,W0e);Object.defineProperty(ps.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return A5()}});ps.exports.dir=H0e;ps.exports.dirSync=U0e;ps.exports.file=B0e;ps.exports.fileSync=z0e;ps.exports.tmpName=T1;ps.exports.tmpNameSync=P1;ps.exports.setGracefulCleanup=J0e});var Ii=w((hCe,I5)=>{"use strict";var C5=function(e){return typeof e<"u"&&e!==null},Y0e=function(e){return typeof e=="object"},X0e=function(e){return Object.prototype.toString.call(e)==="[object Object]"},Q0e=function(e){return typeof e=="function"},Z0e=function(e){return typeof e=="boolean"},ebe=function(e){return e instanceof Buffer},tbe=function(e){if(C5(e))switch(e.constructor){case Uint8Array:case Uint8ClampedArray:case Int8Array:case Uint16Array:case Int16Array:case Uint32Array:case Int32Array:case Float32Array:case Float64Array:return!0}return!1},rbe=function(e){return typeof e=="string"&&e.length>0},nbe=function(e){return typeof e=="number"&&!Number.isNaN(e)},ibe=function(e){return Number.isInteger(e)},sbe=function(e,t,r){return e>=t&&e<=r},obe=function(e,t){return t.includes(e)},abe=function(e,t,r){return new Error(`Expected ${t} for ${e} but received ${r} of type ${typeof r}`)};I5.exports={defined:C5,object:Y0e,plainObject:X0e,fn:Q0e,bool:Z0e,buffer:ebe,typedArray:tbe,string:rbe,number:nbe,integer:ibe,inRange:sbe,inArray:obe,invalidParameterError:abe}});var j5=w((pCe,N5)=>{"use strict";var $5=()=>process.platform==="linux",O1=null,lbe=()=>(O1||(O1=$5()&&process.report?process.report.getReport():{}),O1);N5.exports={isLinux:$5,getReport:lbe}});var C1=w((mCe,K5)=>{"use strict";var D5=L("child_process"),{isLinux:hc,getReport:L5}=j5(),F5="getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",ho="",M5=()=>ho||new Promise(e=>{D5.exec(F5,(t,r)=>{ho=t?" ":r,e(ho)})}),B5=()=>{if(!ho)try{ho=D5.execSync(F5,{encoding:"utf8"})}catch{ho=" "}return ho},Sa="glibc",Ff="musl",cbe=e=>e.includes("libc.musl-")||e.includes("ld-musl-"),z5=()=>{let e=L5();return e.header&&e.header.glibcVersionRuntime?Sa:Array.isArray(e.sharedObjects)&&e.sharedObjects.some(cbe)?Ff:null},H5=e=>{let[t,r]=e.split(/[\r\n]+/);return t&&t.includes(Sa)?Sa:r&&r.includes(Ff)?Ff:null},U5=async()=>{let e=null;if(hc()&&(e=z5(),!e)){let t=await M5();e=H5(t)}return e},V5=()=>{let e=null;if(hc()&&(e=z5(),!e)){let t=B5();e=H5(t)}return e},ube=async()=>hc()&&await U5()!==Sa,fbe=()=>hc()&&V5()!==Sa,G5=()=>{let e=L5();return e.header&&e.header.glibcVersionRuntime?e.header.glibcVersionRuntime:null},q5=e=>e.trim().split(/\s+/)[1],W5=e=>{let[t,r,n]=e.split(/[\r\n]+/);return t&&t.includes(Sa)?q5(t):r&&n&&r.includes(Ff)?q5(n):null},dbe=async()=>{let e=null;if(hc()&&(e=G5(),!e)){let t=await M5();e=W5(t)}return e},hbe=()=>{let e=null;if(hc()&&(e=G5(),!e)){let t=B5();e=W5(t)}return e};K5.exports={GLIBC:Sa,MUSL:Ff,family:U5,familySync:V5,isNonGlibcLinux:ube,isNonGlibcLinuxSync:fbe,version:dbe,versionSync:hbe}});var ag=w((gCe,J5)=>{"use strict";var I1=C1(),og=process.env;J5.exports=function(){let e=og.npm_config_arch||process.arch,t=og.npm_config_platform||process.platform,r=process.env.npm_config_libc||(I1.isNonGlibcLinuxSync()?I1.familySync():""),n=t!=="linux"||r===I1.GLIBC?"":r,i=[`${t}${n}`];if(e==="arm"){let s=process.versions.electron?"7":"6";i.push(`armv${og.npm_config_arm_version||process.config.variables.arm_version||s}`)}else e==="arm64"?i.push(`arm64v${og.npm_config_arm_version||"8"}`):i.push(e);return i.join("-")}});var Y5=w((yCe,pbe)=>{pbe.exports={name:"sharp",description:"High performance Node.js image processing, the fastest module to resize JPEG, PNG, WebP, GIF, AVIF and TIFF images",version:"0.31.3",author:"Lovell Fuller <npm@lovell.info>",homepage:"https://github.com/lovell/sharp",contributors:["Pierre Inglebert <pierre.inglebert@gmail.com>","Jonathan Ong <jonathanrichardong@gmail.com>","Chanon Sajjamanochai <chanon.s@gmail.com>","Juliano Julio <julianojulio@gmail.com>","Daniel Gasienica <daniel@gasienica.ch>","Julian Walker <julian@fiftythree.com>","Amit Pitaru <pitaru.amit@gmail.com>","Brandon Aaron <hello.brandon@aaron.sh>","Andreas Lind <andreas@one.com>","Maurus Cuelenaere <mcuelenaere@gmail.com>","Linus Unneb\xE4ck <linus@folkdatorn.se>","Victor Mateevitsi <mvictoras@gmail.com>","Alaric Holloway <alaric.holloway@gmail.com>","Bernhard K. Weisshuhn <bkw@codingforce.com>","Chris Riley <criley@primedia.com>","David Carley <dacarley@gmail.com>","John Tobin <john@limelightmobileinc.com>","Kenton Gray <kentongray@gmail.com>","Felix B\xFCnemann <Felix.Buenemann@gmail.com>","Samy Al Zahrani <samyalzahrany@gmail.com>","Chintan Thakkar <lemnisk8@gmail.com>","F. Orlando Galashan <frulo@gmx.de>","Kleis Auke Wolthuizen <info@kleisauke.nl>","Matt Hirsch <mhirsch@media.mit.edu>","Matthias Thoemmes <thoemmes@gmail.com>","Patrick Paskaris <patrick@paskaris.gr>","J\xE9r\xE9my Lal <kapouer@melix.org>","Rahul Nanwani <r.nanwani@gmail.com>","Alice Monday <alice0meta@gmail.com>","Kristo Jorgenson <kristo.jorgenson@gmail.com>","YvesBos <yves_bos@outlook.com>","Guy Maliar <guy@tailorbrands.com>","Nicolas Coden <nicolas@ncoden.fr>","Matt Parrish <matt.r.parrish@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Matthew McEachen <matthew+github@mceachen.org>","Jarda Kot\u011B\u0161ovec <jarda.kotesovec@gmail.com>","Kenric D'Souza <kenric.dsouza@gmail.com>","Oleh Aleinyk <oleg.aleynik@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Andrea Bianco <andrea.bianco@unibas.ch>","Rik Heywood <rik@rik.org>","Thomas Parisot <hi@oncletom.io>","Nathan Graves <nathanrgraves+github@gmail.com>","Tom Lokhorst <tom@lokhorst.eu>","Espen Hovlandsdal <espen@hovlandsdal.com>","Sylvain Dumont <sylvain.dumont35@gmail.com>","Alun Davies <alun.owain.davies@googlemail.com>","Aidan Hoolachan <ajhoolachan21@gmail.com>","Axel Eirola <axel.eirola@iki.fi>","Freezy <freezy@xbmc.org>","Daiz <taneli.vatanen@gmail.com>","Julian Aubourg <j@ubourg.net>","Keith Belovay <keith@picthrive.com>","Michael B. Klein <mbklein@gmail.com>","Jordan Prudhomme <jordan@raboland.fr>","Ilya Ovdin <iovdin@gmail.com>","Andargor <andargor@yahoo.com>","Paul Neave <paul.neave@gmail.com>","Brendan Kennedy <brenwken@gmail.com>","Brychan Bennett-Odlum <git@brychan.io>","Edward Silverton <e.silverton@gmail.com>","Roman Malieiev <aromaleev@gmail.com>","Tomas Szabo <tomas.szabo@deftomat.com>","Robert O'Rourke <robert@o-rourke.org>","Guillermo Alfonso Varela Chouci\xF1o <guillevch@gmail.com>","Christian Flintrup <chr@gigahost.dk>","Manan Jadhav <manan@motionden.com>","Leon Radley <leon@radley.se>","alza54 <alza54@thiocod.in>","Jacob Smith <jacob@frende.me>","Michael Nutt <michael@nutt.im>","Brad Parham <baparham@gmail.com>","Taneli Vatanen <taneli.vatanen@gmail.com>","Joris Dugu\xE9 <zaruike10@gmail.com>","Chris Banks <christopher.bradley.banks@gmail.com>","Ompal Singh <ompal.hitm09@gmail.com>","Brodan <christopher.hranj@gmail.com","Ankur Parihar <ankur.github@gmail.com>","Brahim Ait elhaj <brahima@gmail.com>","Mart Jansink <m.jansink@gmail.com>"],scripts:{install:"(node install/libvips && node install/dll-copy && prebuild-install) || (node install/can-compile && node-gyp rebuild && node install/dll-copy)",clean:"rm -rf node_modules/ build/ vendor/ .nyc_output/ coverage/ test/fixtures/output.*",test:"npm run test-lint && npm run test-unit && npm run test-licensing","test-lint":"semistandard && cpplint","test-unit":"nyc --reporter=lcov --reporter=text --check-coverage --branches=100 mocha","test-licensing":'license-checker --production --summary --onlyAllow="Apache-2.0;BSD;ISC;MIT"',"test-leak":"./test/leak/leak.sh","docs-build":"documentation lint lib && node docs/build && node docs/search-index/build","docs-serve":"cd docs && npx serve","docs-publish":"cd docs && npx firebase-tools deploy --project pixelplumbing --only hosting:pixelplumbing-sharp"},main:"lib/index.js",files:["binding.gyp","install/**","lib/**","src/**"],repository:{type:"git",url:"git://github.com/lovell/sharp"},keywords:["jpeg","png","webp","avif","tiff","gif","svg","jp2","dzi","image","resize","thumbnail","crop","embed","libvips","vips"],dependencies:{color:"^4.2.3","detect-libc":"^2.0.1","node-addon-api":"^5.0.0","prebuild-install":"^7.1.1",semver:"^7.3.8","simple-get":"^4.0.1","tar-fs":"^2.1.1","tunnel-agent":"^0.6.0"},devDependencies:{async:"^3.2.4",cc:"^3.0.1",documentation:"^14.0.1","exif-reader":"^1.0.3","extract-zip":"^2.0.1",icc:"^2.0.0","license-checker":"^25.0.1",mocha:"^10.2.0","mock-fs":"^5.2.0",nyc:"^15.1.0",prebuild:"^11.0.4",rimraf:"^3.0.2",semistandard:"^16.0.1"},license:"Apache-2.0",config:{libvips:"8.13.3",integrity:{"darwin-arm64v8":"sha512-xFgYt7CtQSZcWoyUdzPTDNHbioZIrZSEU+gkMxzH4Cgjhi4/N49UsonnIZhKQoTBGloAqEexHeMx4rYTQ2Kgvw==","darwin-x64":"sha512-6SivWKzu15aUMMohe0wg7sNYMPETVnOe40BuWsnKOgzl3o5FpQqNSgs+68Mi8Za3Qti9/DaR+H/fyD0x48Af2w==","linux-arm64v8":"sha512-b+iI9V/ehgDabXYRQcvqa5CEysh+1FQsgFmYc358StCrJCDahwNmsQdsiH1GOVd5WaWh5wHUGByPwMmFOO16Aw==","linux-armv6":"sha512-zRP2F+EiustLE4bXSH8AHCxwfemh9d+QuvmPjira/HL6uJOUuA7SyQgVV1TPwTQle2ioCNnKPm7FEB/MAiT+ug==","linux-armv7":"sha512-6OCChowE5lBXXXAZrnGdA9dVktg7UdODEBpE5qTroiAJYZv4yXRMgyDFYajok7du2NTgoklhxGk8d9+4vGv5hg==","linux-x64":"sha512-OTmlmP2r8ozGKdB96X+K5oQE1ojVZanqLqqKlwDpEnfixyIaDGYbVzcjWBNGU3ai/26bvkaCkjynnc2ecYcsuA==","linuxmusl-arm64v8":"sha512-Qh5Wi+bkKTohFYHzSPssfjMhIkD6z6EHbVmnwmWSsgY9zsUBStFp6+mKcNTQfP5YM5Mz06vJOkLHX2OzEr5TzA==","linuxmusl-x64":"sha512-DwB4Fs3+ISw9etaLCANkueZDdk758iOS+wNp4TKZkHdq0al6B/3Pk7OHLR8a9E3H6wYDD328u++dcJzip5tacA==","win32-arm64v8":"sha512-96r3W+O4BtX602B1MtxU5Ru4lKzRRTZqM4OQEBJ//TNL3fiCZdd9agD+RQBjaeR4KFIyBSt3F7IE425ZWmxz+w==","win32-ia32":"sha512-qfN1MsfQGek1QQd1UNW7JT+5K5Ne1suFQ2GpgpYm3JLSpIve/tz2vOGEGzvTVssOBADJvAkTDFt+yIi3PgU9pA==","win32-x64":"sha512-eb3aAmjbVVBVRbiYgebQwoxkAt69WI8nwmKlilSQ3kWqoc0pXfIe322rF2UR8ebbISCGvYRUfzD2r1k92RXISQ=="},runtime:"napi",target:7},engines:{node:">=14.15.0"},funding:{url:"https://opencollective.com/libvips"},binary:{napi_versions:[7]},semistandard:{env:["mocha"]},cc:{linelength:"120",filter:["build/include"]}}});var n6=w((bCe,r6)=>{"use strict";var Mf=L("fs"),mbe=L("os"),lg=L("path"),N1=L("child_process").spawnSync,gbe=ub(),ybe=Wc(),bbe=ag(),{config:X5}=Y5(),po=process.env,Q5=po.npm_package_config_libvips||X5.libvips,j1=gbe(Q5).version,q1={encoding:"utf8",shell:!0},Z5=lg.join(__dirname,"..","vendor",j1,bbe()),$1=function(e){try{Mf.mkdirSync(e,{recursive:!0})}catch(t){if(t.code!=="EEXIST")throw t}},vbe=function(){let e=po.npm_config_cache||(po.APPDATA?lg.join(po.APPDATA,"npm-cache"):lg.join(mbe.homedir(),".npm"));$1(e);let t=lg.join(e,"_libvips");return $1(t),t},wbe=function(e){return po[`npm_package_config_integrity_${e.replace("-","_")}`]||X5.integrity[e]},_be=function(e){e instanceof Error?console.error(`sharp: Installation error: ${e.message}`):console.log(`sharp: ${e}`)},Ebe=function(){return process.platform==="darwin"&&process.arch==="x64"?(N1("sysctl sysctl.proc_translated",q1).stdout||"").trim()==="sysctl.proc_translated: 1":!1},e6=function(){return process.platform!=="win32"?(N1("pkg-config --modversion vips-cpp",{...q1,env:{...po,PKG_CONFIG_PATH:t6()}}).stdout||"").trim():""},xbe=function(){return Mf.existsSync(Z5)},Sbe=function(){(Mf.rmSync?Mf.rmSync:Mf.rmdirSync)(Z5,{recursive:!0,maxRetries:3,force:!0})},t6=function(){return process.platform!=="win32"?[(N1('which brew >/dev/null 2>&1 && brew environment --plain | grep PKG_CONFIG_LIBDIR | cut -d" " -f2',q1).stdout||"").trim(),po.PKG_CONFIG_PATH,"/usr/local/lib/pkgconfig","/usr/lib/pkgconfig","/usr/local/libdata/pkgconfig","/usr/libdata/pkgconfig"].filter(Boolean).join(":"):""},Rbe=function(){if(Boolean(po.SHARP_IGNORE_GLOBAL_LIBVIPS)===!0||Ebe())return!1;let e=e6();return!!e&&ybe(e,j1)};r6.exports={minimumLibvipsVersion:j1,minimumLibvipsVersionLabelled:Q5,cachePath:vbe,integrity:wbe,log:_be,globalLibvipsVersion:e6,hasVendoredLibvips:xbe,removeVendoredLibvips:Sbe,pkgConfigPath:t6,useGlobalLibvips:Rbe,mkdirSync:$1}});var Bf=w((vCe,i6)=>{"use strict";var D1=ag()();try{i6.exports=L(`../build/Release/sharp-${D1}.node`)}catch(e){let t=["",'Something went wrong installing the "sharp" module',"",e.message,"","Possible solutions:"];if(/dylib/.test(e.message)&&/Incompatible library version/.test(e.message))t.push('- Update Homebrew: "brew update && brew upgrade vips"');else{let[r,n]=D1.split("-");r==="linux"&&/Module did not self-register/.test(e.message)&&t.push("- Using worker threads? See https://sharp.pixelplumbing.com/install#worker-threads"),t.push('- Install with verbose logging and look for errors: "npm install --ignore-scripts=false --foreground-scripts --verbose sharp"',`- Install for the current ${D1} runtime: "npm install --platform=${r} --arch=${n} sharp"`)}if(t.push("- Consult the installation documentation: https://sharp.pixelplumbing.com/install"),process.platform==="win32"||/symbol/.test(e.message)){let r=Object.keys(L.cache).find(n=>/[\\/]build[\\/]Release[\\/]sharp(.*)\.node$/.test(n));if(r){let[,n]=r.match(/node_modules[\\/]([^\\/]+)[\\/]/);t.push(`- Ensure the version of sharp aligns with the ${n} package: "npm ls sharp"`)}}throw new Error(t.join(`
`))}});var o6=w((_Ce,s6)=>{"use strict";var Tbe=L("util"),L1=L("stream"),Pbe=Ii();n6().hasVendoredLibvips();Bf();var Abe=Tbe.debuglog("sharp"),Ra=function(e,t){if(arguments.length===1&&!Pbe.defined(e))throw new Error("Invalid input");return this instanceof Ra?(L1.Duplex.call(this),this.options={topOffsetPre:-1,leftOffsetPre:-1,widthPre:-1,heightPre:-1,topOffsetPost:-1,leftOffsetPost:-1,widthPost:-1,heightPost:-1,width:-1,height:-1,canvas:"crop",position:0,resizeBackground:[0,0,0,255],useExifOrientation:!1,angle:0,rotationAngle:0,rotationBackground:[0,0,0,255],rotateBeforePreExtract:!1,flip:!1,flop:!1,extendTop:0,extendBottom:0,extendLeft:0,extendRight:0,extendBackground:[0,0,0,255],withoutEnlargement:!1,withoutReduction:!1,affineMatrix:[],affineBackground:[0,0,0,255],affineIdx:0,affineIdy:0,affineOdx:0,affineOdy:0,affineInterpolator:this.constructor.interpolators.bilinear,kernel:"lanczos3",fastShrinkOnLoad:!0,tintA:128,tintB:128,flatten:!1,flattenBackground:[0,0,0],negate:!1,negateAlpha:!0,medianSize:0,blurSigma:0,sharpenSigma:0,sharpenM1:1,sharpenM2:2,sharpenX1:2,sharpenY2:10,sharpenY3:20,threshold:0,thresholdGrayscale:!0,trimBackground:[],trimThreshold:0,gamma:0,gammaOut:0,greyscale:!1,normalise:!1,claheWidth:0,claheHeight:0,claheMaxSlope:3,brightness:1,saturation:1,hue:0,lightness:0,booleanBufferIn:null,booleanFileIn:"",joinChannelIn:[],extractChannel:-1,removeAlpha:!1,ensureAlpha:-1,colourspace:"srgb",colourspaceInput:"last",composite:[],fileOut:"",formatOut:"input",streamOut:!1,withMetadata:!1,withMetadataOrientation:-1,withMetadataDensity:0,withMetadataIcc:"",withMetadataStrs:{},resolveWithObject:!1,jpegQuality:80,jpegProgressive:!1,jpegChromaSubsampling:"4:2:0",jpegTrellisQuantisation:!1,jpegOvershootDeringing:!1,jpegOptimiseScans:!1,jpegOptimiseCoding:!0,jpegQuantisationTable:0,pngProgressive:!1,pngCompressionLevel:6,pngAdaptiveFiltering:!1,pngPalette:!1,pngQuality:100,pngEffort:7,pngBitdepth:8,pngDither:1,jp2Quality:80,jp2TileHeight:512,jp2TileWidth:512,jp2Lossless:!1,jp2ChromaSubsampling:"4:4:4",webpQuality:80,webpAlphaQuality:100,webpLossless:!1,webpNearLossless:!1,webpSmartSubsample:!1,webpEffort:4,webpMinSize:!1,webpMixed:!1,gifBitdepth:8,gifEffort:7,gifDither:1,gifInterFrameMaxError:0,gifInterPaletteMaxError:3,gifReoptimise:!1,tiffQuality:80,tiffCompression:"jpeg",tiffPredictor:"horizontal",tiffPyramid:!1,tiffBitdepth:8,tiffTile:!1,tiffTileHeight:256,tiffTileWidth:256,tiffXres:1,tiffYres:1,tiffResolutionUnit:"inch",heifQuality:50,heifLossless:!1,heifCompression:"av1",heifEffort:4,heifChromaSubsampling:"4:4:4",jxlDistance:1,jxlDecodingTier:0,jxlEffort:7,jxlLossless:!1,rawDepth:"uchar",tileSize:256,tileOverlap:0,tileContainer:"fs",tileLayout:"dz",tileFormat:"last",tileDepth:"last",tileAngle:0,tileSkipBlanks:-1,tileBackground:[255,255,255,255],tileCentre:!1,tileId:"https://example.com/iiif",tileBasename:"",timeoutSeconds:0,linearA:[],linearB:[],debuglog:r=>{this.emit("warning",r),Abe(r)},queueListener:function(r){Ra.queue.emit("change",r)}},this.options.input=this._createInputDescriptor(e,t,{allowStream:!0}),this):new Ra(e,t)};Object.setPrototypeOf(Ra.prototype,L1.Duplex.prototype);Object.setPrototypeOf(Ra,L1.Duplex);function kbe(){let e=this.constructor.call();return e.options=Object.assign({},this.options),this._isStreamInput()&&this.on("finish",()=>{this._flattenBufferIn(),e.options.bufferIn=this.options.bufferIn,e.emit("finish")}),e}Object.assign(Ra.prototype,{clone:kbe});s6.exports=Ra});var F1=w((ECe,a6)=>{"use strict";a6.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var c6=w((xCe,l6)=>{l6.exports=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}});var d6=w((SCe,f6)=>{"use strict";var Obe=c6(),Cbe=Array.prototype.concat,Ibe=Array.prototype.slice,u6=f6.exports=function(t){for(var r=[],n=0,i=t.length;n<i;n++){var s=t[n];Obe(s)?r=Cbe.call(r,Ibe.call(s)):r.push(s)}return r};u6.wrap=function(e){return function(){return e(u6(arguments))}}});var g6=w((RCe,m6)=>{var zf=F1(),Hf=d6(),h6=Object.hasOwnProperty,p6=Object.create(null);for(cg in zf)h6.call(zf,cg)&&(p6[zf[cg]]=cg);var cg,vn=m6.exports={to:{},get:{}};vn.get=function(e){var t=e.substring(0,3).toLowerCase(),r,n;switch(t){case"hsl":r=vn.get.hsl(e),n="hsl";break;case"hwb":r=vn.get.hwb(e),n="hwb";break;default:r=vn.get.rgb(e),n="rgb";break}return r?{model:n,value:r}:null};vn.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],a,l,c;if(a=e.match(r)){for(c=a[2],a=a[1],l=0;l<3;l++){var u=l*2;o[l]=parseInt(a.slice(u,u+2),16)}c&&(o[3]=parseInt(c,16)/255)}else if(a=e.match(t)){for(a=a[1],c=a[3],l=0;l<3;l++)o[l]=parseInt(a[l]+a[l],16);c&&(o[3]=parseInt(c+c,16)/255)}else if(a=e.match(n)){for(l=0;l<3;l++)o[l]=parseInt(a[l+1],0);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else if(a=e.match(i)){for(l=0;l<3;l++)o[l]=Math.round(parseFloat(a[l+1])*2.55);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else return(a=e.match(s))?a[1]==="transparent"?[0,0,0,0]:h6.call(zf,a[1])?(o=zf[a[1]],o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=mo(o[l],0,255);return o[3]=mo(o[3],0,1),o};vn.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=mo(parseFloat(r[2]),0,100),o=mo(parseFloat(r[3]),0,100),a=mo(isNaN(n)?1:n,0,1);return[i,s,o,a]}return null};vn.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=mo(parseFloat(r[2]),0,100),o=mo(parseFloat(r[3]),0,100),a=mo(isNaN(n)?1:n,0,1);return[i,s,o,a]}return null};vn.to.hex=function(){var e=Hf(arguments);return"#"+ug(e[0])+ug(e[1])+ug(e[2])+(e[3]<1?ug(Math.round(e[3]*255)):"")};vn.to.rgb=function(){var e=Hf(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};vn.to.rgb.percent=function(){var e=Hf(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"};vn.to.hsl=function(){var e=Hf(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};vn.to.hwb=function(){var e=Hf(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};vn.to.keyword=function(e){return p6[e.slice(0,3)]};function mo(e,t,r){return Math.min(Math.max(t,e),r)}function ug(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}});var M1=w((TCe,b6)=>{var Uf=F1(),y6={};for(let e of Object.keys(Uf))y6[Uf[e]]=e;var ce={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};b6.exports=ce;for(let e of Object.keys(ce)){if(!("channels"in ce[e]))throw new Error("missing channels property: "+e);if(!("labels"in ce[e]))throw new Error("missing channel labels property: "+e);if(ce[e].labels.length!==ce[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=ce[e];delete ce[e].channels,delete ce[e].labels,Object.defineProperty(ce[e],"channels",{value:t}),Object.defineProperty(ce[e],"labels",{value:r})}ce.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,l;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?l=0:c<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,c*100]};ce.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(o,a,l),u=c-Math.min(o,a,l),d=function(h){return(c-h)/6/u+1/2};return u===0?(i=0,s=0):(s=u/c,t=d(o),r=d(a),n=d(l),o===c?i=n-r:a===c?i=1/3+t-n:l===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};ce.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=ce.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};ce.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function $be(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}ce.rgb.keyword=function(e){let t=y6[e];if(t)return t;let r=1/0,n;for(let i of Object.keys(Uf)){let s=Uf[i],o=$be(e,s);o<r&&(r=o,n=i)}return n};ce.keyword.rgb=function(e){return Uf[e]};ce.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};ce.rgb.lab=function(e){let t=ce.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};ce.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,l=[0,0,0];for(let c=0;c<3;c++)s=t+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,l[c]=o*255;return l};ce.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};ce.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),l=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}};ce.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};ce.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,o&1&&(s=1-s);let l=r+s*(a-r),c,u,d;switch(o){default:case 6:case 0:c=a,u=l,d=r;break;case 1:c=l,u=a,d=r;break;case 2:c=r,u=a,d=l;break;case 3:c=r,u=l,d=a;break;case 4:c=l,u=r,d=a;break;case 5:c=a,u=r,d=l;break}return[c*255,u*255,d*255]};ce.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};ce.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};ce.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};ce.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=s**3,l=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};ce.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};ce.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};ce.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?ce.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};ce.hsv.ansi16=function(e){return ce.rgb.ansi16(ce.hsv.rgb(e),e[2])};ce.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};ce.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};ce.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};ce.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};ce.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};ce.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,l;return o<1?a=s/(1-o):a=0,o<=0?l=0:i===t?l=(r-n)/o%6:i===r?l=2+(n-t)/o:l=4+(t-r)/o,l/=6,l%=1,[l*360,o*100,a*100]};ce.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};ce.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};ce.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};ce.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};ce.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};ce.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};ce.hwb.hcg=function(e){let t=e[1]/100,n=1-e[2]/100,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};ce.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};ce.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};ce.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};ce.gray.hsl=function(e){return[0,0,e[0]]};ce.gray.hsv=ce.gray.hsl;ce.gray.hwb=function(e){return[0,100,e[0]]};ce.gray.cmyk=function(e){return[0,0,0,e[0]]};ce.gray.lab=function(e){return[e[0],0,0]};ce.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};ce.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var w6=w((PCe,v6)=>{var fg=M1();function Nbe(){let e={},t=Object.keys(fg);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function jbe(e){let t=Nbe(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(fg[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],l=t[a];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,r.unshift(a))}}return t}function qbe(e,t){return function(r){return t(e(r))}}function Dbe(e,t){let r=[t[e].parent,e],n=fg[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=qbe(fg[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}v6.exports=function(e){let t=jbe(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=Dbe(o,t))}return r}});var E6=w((ACe,_6)=>{var B1=M1(),Lbe=w6(),pc={},Fbe=Object.keys(B1);function Mbe(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function Bbe(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}Fbe.forEach(e=>{pc[e]={},Object.defineProperty(pc[e],"channels",{value:B1[e].channels}),Object.defineProperty(pc[e],"labels",{value:B1[e].labels});let t=Lbe(e);Object.keys(t).forEach(n=>{let i=t[n];pc[e][n]=Bbe(i),pc[e][n].raw=Mbe(i)})});_6.exports=pc});var hg=w((kCe,S6)=>{var mc=g6(),wn=E6(),x6=["keyword","gray","hex"],z1={};for(let e of Object.keys(wn))z1[[...wn[e].labels].sort().join("")]=e;var dg={};function fr(e,t){if(!(this instanceof fr))return new fr(e,t);if(t&&t in x6&&(t=null),t&&!(t in wn))throw new Error("Unknown model: "+t);let r,n;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof fr)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){let i=mc.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,n=wn[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(e.length>0){this.model=t||"rgb",n=wn[this.model].channels;let i=Array.prototype.slice.call(e,0,n);this.color=H1(i,n),this.valpha=typeof e[n]=="number"?e[n]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(e);"alpha"in e&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);let s=i.sort().join("");if(!(s in z1))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=z1[s];let{labels:o}=wn[this.model],a=[];for(r=0;r<o.length;r++)a.push(e[o[r]]);this.color=H1(a)}if(dg[this.model])for(n=wn[this.model].channels,r=0;r<n;r++){let i=dg[this.model][r];i&&(this.color[r]=i(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}fr.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in mc.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);let r=t.valpha===1?t.color:[...t.color,this.valpha];return mc.to[t.model](r)},percentString(e){let t=this.rgb().round(typeof e=="number"?e:1),r=t.valpha===1?t.color:[...t.color,this.valpha];return mc.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let e={},{channels:t}=wn[this.model],{labels:r}=wn[this.model];for(let n=0;n<t;n++)e[r[n]]=this.color[n];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){let e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){let e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new fr([...this.color.map(Hbe(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new fr([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:It("rgb",0,tr(255)),green:It("rgb",1,tr(255)),blue:It("rgb",2,tr(255)),hue:It(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:It("hsl",1,tr(100)),lightness:It("hsl",2,tr(100)),saturationv:It("hsv",1,tr(100)),value:It("hsv",2,tr(100)),chroma:It("hcg",1,tr(100)),gray:It("hcg",2,tr(100)),white:It("hwb",1,tr(100)),wblack:It("hwb",2,tr(100)),cyan:It("cmyk",0,tr(100)),magenta:It("cmyk",1,tr(100)),yellow:It("cmyk",2,tr(100)),black:It("cmyk",3,tr(100)),x:It("xyz",0,tr(95.047)),y:It("xyz",1,tr(100)),z:It("xyz",2,tr(108.833)),l:It("lab",0,tr(100)),a:It("lab",1),b:It("lab",2),keyword(e){return e!==void 0?new fr(e):wn[this.model].keyword(this.color)},hex(e){return e!==void 0?new fr(e):mc.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new fr(e);let t=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),mc.to.hex(t)+r},rgbNumber(){let e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){let e=this.rgb().color,t=[];for(let[r,n]of e.entries()){let i=n/255;t[r]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){let t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level(e){let t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){let e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){let t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){let t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){let t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){let t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){let t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){let t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){let e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return fr.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){let t=this.hsl(),r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);let r=e.rgb(),n=this.rgb(),i=t===void 0?.5:t,s=2*i-1,o=r.alpha()-n.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,l=1-a;return fr.rgb(a*r.red()+l*n.red(),a*r.green()+l*n.green(),a*r.blue()+l*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(let e of Object.keys(wn)){if(x6.includes(e))continue;let{channels:t}=wn[e];fr.prototype[e]=function(...r){return this.model===e?new fr(this):r.length>0?new fr(r,e):new fr([...Ube(wn[this.model][e].raw(this.color)),this.valpha],e)},fr[e]=function(...r){let n=r[0];return typeof n=="number"&&(n=H1(r,t)),new fr(n,e)}}function zbe(e,t){return Number(e.toFixed(t))}function Hbe(e){return function(t){return zbe(t,e)}}function It(e,t,r){e=Array.isArray(e)?e:[e];for(let n of e)(dg[n]||(dg[n]=[]))[t]=r;return e=e[0],function(n){let i;return n!==void 0?(r&&(n=r(n)),i=this[e](),i.color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function tr(e){return function(t){return Math.max(0,Math.min(e,t))}}function Ube(e){return Array.isArray(e)?e:[e]}function H1(e,t){for(let r=0;r<t;r++)typeof e[r]!="number"&&(e[r]=0);return e}S6.exports=fr});var P6=w((OCe,T6)=>{"use strict";var Vbe=hg(),W=Ii(),go=Bf(),Gbe={left:"low",center:"centre",centre:"centre",right:"high"};function R6(e){let{raw:t,density:r,limitInputPixels:n,unlimited:i,sequentialRead:s,failOn:o,failOnError:a,animated:l,page:c,pages:u,subifd:d}=e;return[t,r,n,i,s,o,a,l,c,u,d].some(W.defined)?{raw:t,density:r,limitInputPixels:n,unlimited:i,sequentialRead:s,failOn:o,failOnError:a,animated:l,page:c,pages:u,subifd:d}:void 0}function Wbe(e,t,r){let n={failOn:"warning",limitInputPixels:Math.pow(16383,2),unlimited:!1,sequentialRead:!1};if(W.string(e))n.file=e;else if(W.buffer(e)){if(e.length===0)throw Error("Input Buffer is empty");n.buffer=e}else if(W.typedArray(e)){if(e.length===0)throw Error("Input Bit Array is empty");n.buffer=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(W.plainObject(e)&&!W.defined(t))t=e,R6(t)&&(n.buffer=[]);else if(!W.defined(e)&&!W.defined(t)&&W.object(r)&&r.allowStream)n.buffer=[];else throw new Error(`Unsupported input '${e}' of type ${typeof e}${W.defined(t)?` when also providing options of type ${typeof t}`:""}`);if(W.object(t)){if(W.defined(t.failOnError))if(W.bool(t.failOnError))n.failOn=t.failOnError?"warning":"none";else throw W.invalidParameterError("failOnError","boolean",t.failOnError);if(W.defined(t.failOn))if(W.string(t.failOn)&&W.inArray(t.failOn,["none","truncated","error","warning"]))n.failOn=t.failOn;else throw W.invalidParameterError("failOn","one of: none, truncated, error, warning",t.failOn);if(W.defined(t.density))if(W.inRange(t.density,1,1e5))n.density=t.density;else throw W.invalidParameterError("density","number between 1 and 100000",t.density);if(W.defined(t.limitInputPixels))if(W.bool(t.limitInputPixels))n.limitInputPixels=t.limitInputPixels?Math.pow(16383,2):0;else if(W.integer(t.limitInputPixels)&&W.inRange(t.limitInputPixels,0,Number.MAX_SAFE_INTEGER))n.limitInputPixels=t.limitInputPixels;else throw W.invalidParameterError("limitInputPixels","positive integer",t.limitInputPixels);if(W.defined(t.unlimited))if(W.bool(t.unlimited))n.unlimited=t.unlimited;else throw W.invalidParameterError("unlimited","boolean",t.unlimited);if(W.defined(t.sequentialRead))if(W.bool(t.sequentialRead))n.sequentialRead=t.sequentialRead;else throw W.invalidParameterError("sequentialRead","boolean",t.sequentialRead);if(W.defined(t.raw))if(W.object(t.raw)&&W.integer(t.raw.width)&&t.raw.width>0&&W.integer(t.raw.height)&&t.raw.height>0&&W.integer(t.raw.channels)&&W.inRange(t.raw.channels,1,4))switch(n.rawWidth=t.raw.width,n.rawHeight=t.raw.height,n.rawChannels=t.raw.channels,n.rawPremultiplied=!!t.raw.premultiplied,e.constructor){case Uint8Array:case Uint8ClampedArray:n.rawDepth="uchar";break;case Int8Array:n.rawDepth="char";break;case Uint16Array:n.rawDepth="ushort";break;case Int16Array:n.rawDepth="short";break;case Uint32Array:n.rawDepth="uint";break;case Int32Array:n.rawDepth="int";break;case Float32Array:n.rawDepth="float";break;case Float64Array:n.rawDepth="double";break;default:n.rawDepth="uchar";break}else throw new Error("Expected width, height and channels for raw pixel input");if(W.defined(t.animated))if(W.bool(t.animated))n.pages=t.animated?-1:1;else throw W.invalidParameterError("animated","boolean",t.animated);if(W.defined(t.pages))if(W.integer(t.pages)&&W.inRange(t.pages,-1,1e5))n.pages=t.pages;else throw W.invalidParameterError("pages","integer between -1 and 100000",t.pages);if(W.defined(t.page))if(W.integer(t.page)&&W.inRange(t.page,0,1e5))n.page=t.page;else throw W.invalidParameterError("page","integer between 0 and 100000",t.page);if(W.defined(t.level))if(W.integer(t.level)&&W.inRange(t.level,0,256))n.level=t.level;else throw W.invalidParameterError("level","integer between 0 and 256",t.level);if(W.defined(t.subifd))if(W.integer(t.subifd)&&W.inRange(t.subifd,-1,1e5))n.subifd=t.subifd;else throw W.invalidParameterError("subifd","integer between -1 and 100000",t.subifd);if(W.defined(t.create))if(W.object(t.create)&&W.integer(t.create.width)&&t.create.width>0&&W.integer(t.create.height)&&t.create.height>0&&W.integer(t.create.channels)){if(n.createWidth=t.create.width,n.createHeight=t.create.height,n.createChannels=t.create.channels,W.defined(t.create.noise)){if(!W.object(t.create.noise))throw new Error("Expected noise to be an object");if(!W.inArray(t.create.noise.type,["gaussian"]))throw new Error("Only gaussian noise is supported at the moment");if(!W.inRange(t.create.channels,1,4))throw W.invalidParameterError("create.channels","number between 1 and 4",t.create.channels);if(n.createNoiseType=t.create.noise.type,W.number(t.create.noise.mean)&&W.inRange(t.create.noise.mean,0,1e4))n.createNoiseMean=t.create.noise.mean;else throw W.invalidParameterError("create.noise.mean","number between 0 and 10000",t.create.noise.mean);if(W.number(t.create.noise.sigma)&&W.inRange(t.create.noise.sigma,0,1e4))n.createNoiseSigma=t.create.noise.sigma;else throw W.invalidParameterError("create.noise.sigma","number between 0 and 10000",t.create.noise.sigma)}else if(W.defined(t.create.background)){if(!W.inRange(t.create.channels,3,4))throw W.invalidParameterError("create.channels","number between 3 and 4",t.create.channels);let i=Vbe(t.create.background);n.createBackground=[i.red(),i.green(),i.blue(),Math.round(i.alpha()*255)]}else throw new Error("Expected valid noise or background to create a new input image");delete n.buffer}else throw new Error("Expected valid width, height and channels to create a new input image");if(W.defined(t.text))if(W.object(t.text)&&W.string(t.text.text)){if(n.textValue=t.text.text,W.defined(t.text.height)&&W.defined(t.text.dpi))throw new Error("Expected only one of dpi or height");if(W.defined(t.text.font))if(W.string(t.text.font))n.textFont=t.text.font;else throw W.invalidParameterError("text.font","string",t.text.font);if(W.defined(t.text.fontfile))if(W.string(t.text.fontfile))n.textFontfile=t.text.fontfile;else throw W.invalidParameterError("text.fontfile","string",t.text.fontfile);if(W.defined(t.text.width))if(W.number(t.text.width))n.textWidth=t.text.width;else throw W.invalidParameterError("text.textWidth","number",t.text.width);if(W.defined(t.text.height))if(W.number(t.text.height))n.textHeight=t.text.height;else throw W.invalidParameterError("text.height","number",t.text.height);if(W.defined(t.text.align))if(W.string(t.text.align)&&W.string(this.constructor.align[t.text.align]))n.textAlign=this.constructor.align[t.text.align];else throw W.invalidParameterError("text.align","valid alignment",t.text.align);if(W.defined(t.text.justify))if(W.bool(t.text.justify))n.textJustify=t.text.justify;else throw W.invalidParameterError("text.justify","boolean",t.text.justify);if(W.defined(t.text.dpi))if(W.number(t.text.dpi)&&W.inRange(t.text.dpi,1,1e5))n.textDpi=t.text.dpi;else throw W.invalidParameterError("text.dpi","number between 1 and 100000",t.text.dpi);if(W.defined(t.text.rgba))if(W.bool(t.text.rgba))n.textRgba=t.text.rgba;else throw W.invalidParameterError("text.rgba","bool",t.text.rgba);if(W.defined(t.text.spacing))if(W.number(t.text.spacing))n.textSpacing=t.text.spacing;else throw W.invalidParameterError("text.spacing","number",t.text.spacing);delete n.buffer}else throw new Error("Expected a valid string to create an image with text.")}else if(W.defined(t))throw new Error("Invalid input options "+t);return n}function Kbe(e,t,r){Array.isArray(this.options.input.buffer)?W.buffer(e)?(this.options.input.buffer.length===0&&this.on("finish",()=>{this.streamInFinished=!0}),this.options.input.buffer.push(e),r()):r(new Error("Non-Buffer data on Writable Stream")):r(new Error("Unexpected data on Writable Stream"))}function Jbe(){this._isStreamInput()&&(this.options.input.buffer=Buffer.concat(this.options.input.buffer))}function Ybe(){return Array.isArray(this.options.input.buffer)}function Xbe(e){return W.fn(e)?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),go.metadata(this.options,e)}):go.metadata(this.options,e),this):this._isStreamInput()?new Promise((t,r)=>{let n=()=>{this._flattenBufferIn(),go.metadata(this.options,(i,s)=>{i?r(i):t(s)})};this.writableFinished?n():this.once("finish",n)}):new Promise((t,r)=>{go.metadata(this.options,(n,i)=>{n?r(n):t(i)})})}function Qbe(e){return W.fn(e)?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),go.stats(this.options,e)}):go.stats(this.options,e),this):this._isStreamInput()?new Promise((t,r)=>{this.on("finish",function(){this._flattenBufferIn(),go.stats(this.options,(n,i)=>{n?r(n):t(i)})})}):new Promise((t,r)=>{go.stats(this.options,(n,i)=>{n?r(n):t(i)})})}T6.exports=function(e){Object.assign(e.prototype,{_inputOptionsFromObject:R6,_createInputDescriptor:Wbe,_write:Kbe,_flattenBufferIn:Jbe,_isStreamInput:Ybe,metadata:Xbe,stats:Qbe}),e.align=Gbe}});var I6=w((CCe,C6)=>{"use strict";var pe=Ii(),A6={center:0,centre:0,north:1,east:2,south:3,west:4,northeast:5,southeast:6,southwest:7,northwest:8},k6={top:1,right:2,bottom:3,left:4,"right top":5,"right bottom":6,"left bottom":7,"left top":8},O6={entropy:16,attention:17},U1={nearest:"nearest",cubic:"cubic",mitchell:"mitchell",lanczos2:"lanczos2",lanczos3:"lanczos3"},Zbe={contain:"contain",cover:"cover",fill:"fill",inside:"inside",outside:"outside"},eve={contain:"embed",cover:"crop",fill:"ignore_aspect",inside:"max",outside:"min"};function V1(e){return e.angle%360!==0||e.useExifOrientation===!0||e.rotationAngle!==0}function pg(e){return e.width!==-1||e.height!==-1}function tve(e,t,r){if(pg(this.options)&&this.options.debuglog("ignoring previous resize options"),pe.defined(e))if(pe.object(e)&&!pe.defined(r))r=e;else if(pe.integer(e)&&e>0)this.options.width=e;else throw pe.invalidParameterError("width","positive integer",e);else this.options.width=-1;if(pe.defined(t))if(pe.integer(t)&&t>0)this.options.height=t;else throw pe.invalidParameterError("height","positive integer",t);else this.options.height=-1;if(pe.object(r)){if(pe.defined(r.width))if(pe.integer(r.width)&&r.width>0)this.options.width=r.width;else throw pe.invalidParameterError("width","positive integer",r.width);if(pe.defined(r.height))if(pe.integer(r.height)&&r.height>0)this.options.height=r.height;else throw pe.invalidParameterError("height","positive integer",r.height);if(pe.defined(r.fit)){let n=eve[r.fit];if(pe.string(n))this.options.canvas=n;else throw pe.invalidParameterError("fit","valid fit",r.fit)}if(pe.defined(r.position)){let n=pe.integer(r.position)?r.position:O6[r.position]||k6[r.position]||A6[r.position];if(pe.integer(n)&&(pe.inRange(n,0,8)||pe.inRange(n,16,17)))this.options.position=n;else throw pe.invalidParameterError("position","valid position/gravity/strategy",r.position)}if(this._setBackgroundColourOption("resizeBackground",r.background),pe.defined(r.kernel))if(pe.string(U1[r.kernel]))this.options.kernel=U1[r.kernel];else throw pe.invalidParameterError("kernel","valid kernel name",r.kernel);pe.defined(r.withoutEnlargement)&&this._setBooleanOption("withoutEnlargement",r.withoutEnlargement),pe.defined(r.withoutReduction)&&this._setBooleanOption("withoutReduction",r.withoutReduction),pe.defined(r.fastShrinkOnLoad)&&this._setBooleanOption("fastShrinkOnLoad",r.fastShrinkOnLoad)}return V1(this.options)&&pg(this.options)&&(this.options.rotateBeforePreExtract=!0),this}function rve(e){if(pe.integer(e)&&e>0)this.options.extendTop=e,this.options.extendBottom=e,this.options.extendLeft=e,this.options.extendRight=e;else if(pe.object(e)){if(pe.defined(e.top))if(pe.integer(e.top)&&e.top>=0)this.options.extendTop=e.top;else throw pe.invalidParameterError("top","positive integer",e.top);if(pe.defined(e.bottom))if(pe.integer(e.bottom)&&e.bottom>=0)this.options.extendBottom=e.bottom;else throw pe.invalidParameterError("bottom","positive integer",e.bottom);if(pe.defined(e.left))if(pe.integer(e.left)&&e.left>=0)this.options.extendLeft=e.left;else throw pe.invalidParameterError("left","positive integer",e.left);if(pe.defined(e.right))if(pe.integer(e.right)&&e.right>=0)this.options.extendRight=e.right;else throw pe.invalidParameterError("right","positive integer",e.right);this._setBackgroundColourOption("extendBackground",e.background)}else throw pe.invalidParameterError("extend","integer or object",e);return this}function nve(e){let t=pg(this.options)||this.options.widthPre!==-1?"Post":"Pre";return this.options[`width${t}`]!==-1&&this.options.debuglog("ignoring previous extract options"),["left","top","width","height"].forEach(function(r){let n=e[r];if(pe.integer(n)&&n>=0)this.options[r+(r==="left"||r==="top"?"Offset":"")+t]=n;else throw pe.invalidParameterError(r,"integer",n)},this),V1(this.options)&&!pg(this.options)&&(this.options.widthPre===-1||this.options.widthPost===-1)&&(this.options.rotateBeforePreExtract=!0),this}function ive(e){if(!pe.defined(e))this.options.trimThreshold=10;else if(pe.string(e))this._setBackgroundColourOption("trimBackground",e),this.options.trimThreshold=10;else if(pe.number(e))if(e>=0)this.options.trimThreshold=e;else throw pe.invalidParameterError("threshold","positive number",e);else if(pe.object(e))if(this._setBackgroundColourOption("trimBackground",e.background),!pe.defined(e.threshold))this.options.trimThreshold=10;else if(pe.number(e.threshold)&&e.threshold>=0)this.options.trimThreshold=e.threshold;else throw pe.invalidParameterError("threshold","positive number",e);else throw pe.invalidParameterError("trim","string, number or object",e);return V1(this.options)&&(this.options.rotateBeforePreExtract=!0),this}C6.exports=function(e){Object.assign(e.prototype,{resize:tve,extend:rve,extract:nve,trim:ive}),e.gravity=A6,e.strategy=O6,e.kernel=U1,e.fit=Zbe,e.position=k6}});var N6=w((ICe,$6)=>{"use strict";var st=Ii(),G1={clear:"clear",source:"source",over:"over",in:"in",out:"out",atop:"atop",dest:"dest","dest-over":"dest-over","dest-in":"dest-in","dest-out":"dest-out","dest-atop":"dest-atop",xor:"xor",add:"add",saturate:"saturate",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","colour-dodge":"colour-dodge","color-dodge":"colour-dodge","colour-burn":"colour-burn","color-burn":"colour-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion"};function sve(e){if(!Array.isArray(e))throw st.invalidParameterError("images to composite","array",e);return this.options.composite=e.map(t=>{if(!st.object(t))throw st.invalidParameterError("image to composite","object",t);let r=this._inputOptionsFromObject(t),n={input:this._createInputDescriptor(t.input,r,{allowStream:!1}),blend:"over",tile:!1,left:0,top:0,hasOffset:!1,gravity:0,premultiplied:!1};if(st.defined(t.blend))if(st.string(G1[t.blend]))n.blend=G1[t.blend];else throw st.invalidParameterError("blend","valid blend name",t.blend);if(st.defined(t.tile))if(st.bool(t.tile))n.tile=t.tile;else throw st.invalidParameterError("tile","boolean",t.tile);if(st.defined(t.left))if(st.integer(t.left))n.left=t.left;else throw st.invalidParameterError("left","integer",t.left);if(st.defined(t.top))if(st.integer(t.top))n.top=t.top;else throw st.invalidParameterError("top","integer",t.top);if(st.defined(t.top)!==st.defined(t.left))throw new Error("Expected both left and top to be set");if(n.hasOffset=st.integer(t.top)&&st.integer(t.left),st.defined(t.gravity))if(st.integer(t.gravity)&&st.inRange(t.gravity,0,8))n.gravity=t.gravity;else if(st.string(t.gravity)&&st.integer(this.constructor.gravity[t.gravity]))n.gravity=this.constructor.gravity[t.gravity];else throw st.invalidParameterError("gravity","valid gravity",t.gravity);if(st.defined(t.premultiplied))if(st.bool(t.premultiplied))n.premultiplied=t.premultiplied;else throw st.invalidParameterError("premultiplied","boolean",t.premultiplied);return n}),this}$6.exports=function(e){e.prototype.composite=sve,e.blend=G1}});var q6=w(($Ce,j6)=>{"use strict";var ove=hg(),z=Ii();function ave(e,t){if((this.options.useExifOrientation||this.options.angle||this.options.rotationAngle)&&this.options.debuglog("ignoring previous rotate options"),!z.defined(e))this.options.useExifOrientation=!0;else if(z.integer(e)&&!(e%90))this.options.angle=e;else if(z.number(e)){if(this.options.rotationAngle=e,z.object(t)&&t.background){let r=ove(t.background);this.options.rotationBackground=[r.red(),r.green(),r.blue(),Math.round(r.alpha()*255)]}}else throw z.invalidParameterError("angle","numeric",e);return this}function lve(e){return this.options.flip=z.bool(e)?e:!0,this}function cve(e){return this.options.flop=z.bool(e)?e:!0,this}function uve(e,t){let r=[].concat(...e);if(r.length===4&&r.every(z.number))this.options.affineMatrix=r;else throw z.invalidParameterError("matrix","1x4 or 2x2 array",e);if(z.defined(t))if(z.object(t)){if(this._setBackgroundColourOption("affineBackground",t.background),z.defined(t.idx))if(z.number(t.idx))this.options.affineIdx=t.idx;else throw z.invalidParameterError("options.idx","number",t.idx);if(z.defined(t.idy))if(z.number(t.idy))this.options.affineIdy=t.idy;else throw z.invalidParameterError("options.idy","number",t.idy);if(z.defined(t.odx))if(z.number(t.odx))this.options.affineOdx=t.odx;else throw z.invalidParameterError("options.odx","number",t.odx);if(z.defined(t.ody))if(z.number(t.ody))this.options.affineOdy=t.ody;else throw z.invalidParameterError("options.ody","number",t.ody);if(z.defined(t.interpolator))if(z.inArray(t.interpolator,Object.values(this.constructor.interpolators)))this.options.affineInterpolator=t.interpolator;else throw z.invalidParameterError("options.interpolator","valid interpolator name",t.interpolator)}else throw z.invalidParameterError("options","object",t);return this}function fve(e,t,r){if(!z.defined(e))this.options.sharpenSigma=-1;else if(z.bool(e))this.options.sharpenSigma=e?-1:0;else if(z.number(e)&&z.inRange(e,.01,1e4)){if(this.options.sharpenSigma=e,z.defined(t))if(z.number(t)&&z.inRange(t,0,1e4))this.options.sharpenM1=t;else throw z.invalidParameterError("flat","number between 0 and 10000",t);if(z.defined(r))if(z.number(r)&&z.inRange(r,0,1e4))this.options.sharpenM2=r;else throw z.invalidParameterError("jagged","number between 0 and 10000",r)}else if(z.plainObject(e)){if(z.number(e.sigma)&&z.inRange(e.sigma,1e-6,1e4))this.options.sharpenSigma=e.sigma;else throw z.invalidParameterError("options.sigma","number between 0.000001 and 10000",e.sigma);if(z.defined(e.m1))if(z.number(e.m1)&&z.inRange(e.m1,0,1e6))this.options.sharpenM1=e.m1;else throw z.invalidParameterError("options.m1","number between 0 and 1000000",e.m1);if(z.defined(e.m2))if(z.number(e.m2)&&z.inRange(e.m2,0,1e6))this.options.sharpenM2=e.m2;else throw z.invalidParameterError("options.m2","number between 0 and 1000000",e.m2);if(z.defined(e.x1))if(z.number(e.x1)&&z.inRange(e.x1,0,1e6))this.options.sharpenX1=e.x1;else throw z.invalidParameterError("options.x1","number between 0 and 1000000",e.x1);if(z.defined(e.y2))if(z.number(e.y2)&&z.inRange(e.y2,0,1e6))this.options.sharpenY2=e.y2;else throw z.invalidParameterError("options.y2","number between 0 and 1000000",e.y2);if(z.defined(e.y3))if(z.number(e.y3)&&z.inRange(e.y3,0,1e6))this.options.sharpenY3=e.y3;else throw z.invalidParameterError("options.y3","number between 0 and 1000000",e.y3)}else throw z.invalidParameterError("sigma","number between 0.01 and 10000",e);return this}function dve(e){if(!z.defined(e))this.options.medianSize=3;else if(z.integer(e)&&z.inRange(e,1,1e3))this.options.medianSize=e;else throw z.invalidParameterError("size","integer between 1 and 1000",e);return this}function hve(e){if(!z.defined(e))this.options.blurSigma=-1;else if(z.bool(e))this.options.blurSigma=e?-1:0;else if(z.number(e)&&z.inRange(e,.3,1e3))this.options.blurSigma=e;else throw z.invalidParameterError("sigma","number between 0.3 and 1000",e);return this}function pve(e){return this.options.flatten=z.bool(e)?e:!0,z.object(e)&&this._setBackgroundColourOption("flattenBackground",e.background),this}function mve(e,t){if(!z.defined(e))this.options.gamma=2.2;else if(z.number(e)&&z.inRange(e,1,3))this.options.gamma=e;else throw z.invalidParameterError("gamma","number between 1.0 and 3.0",e);if(!z.defined(t))this.options.gammaOut=this.options.gamma;else if(z.number(t)&&z.inRange(t,1,3))this.options.gammaOut=t;else throw z.invalidParameterError("gammaOut","number between 1.0 and 3.0",t);return this}function gve(e){if(this.options.negate=z.bool(e)?e:!0,z.plainObject(e)&&"alpha"in e)if(z.bool(e.alpha))this.options.negateAlpha=e.alpha;else throw z.invalidParameterError("alpha","should be boolean value",e.alpha);return this}function yve(e){return this.options.normalise=z.bool(e)?e:!0,this}function bve(e){return this.normalise(e)}function vve(e){if(!z.plainObject(e))throw z.invalidParameterError("options","plain object",e);if(!("width"in e)||!z.integer(e.width)||e.width<=0)throw z.invalidParameterError("width","integer above zero",e.width);if(this.options.claheWidth=e.width,!("height"in e)||!z.integer(e.height)||e.height<=0)throw z.invalidParameterError("height","integer above zero",e.height);if(this.options.claheHeight=e.height,!z.defined(e.maxSlope))this.options.claheMaxSlope=3;else{if(!z.integer(e.maxSlope)||e.maxSlope<0||e.maxSlope>100)throw z.invalidParameterError("maxSlope","integer 0-100",e.maxSlope);this.options.claheMaxSlope=e.maxSlope}return this}function wve(e){if(!z.object(e)||!Array.isArray(e.kernel)||!z.integer(e.width)||!z.integer(e.height)||!z.inRange(e.width,3,1001)||!z.inRange(e.height,3,1001)||e.height*e.width!==e.kernel.length)throw new Error("Invalid convolution kernel");return z.integer(e.scale)||(e.scale=e.kernel.reduce(function(t,r){return t+r},0)),e.scale<1&&(e.scale=1),z.integer(e.offset)||(e.offset=0),this.options.convKernel=e,this}function _ve(e,t){if(!z.defined(e))this.options.threshold=128;else if(z.bool(e))this.options.threshold=e?128:0;else if(z.integer(e)&&z.inRange(e,0,255))this.options.threshold=e;else throw z.invalidParameterError("threshold","integer between 0 and 255",e);return!z.object(t)||t.greyscale===!0||t.grayscale===!0?this.options.thresholdGrayscale=!0:this.options.thresholdGrayscale=!1,this}function Eve(e,t,r){if(this.options.boolean=this._createInputDescriptor(e,r),z.string(t)&&z.inArray(t,["and","or","eor"]))this.options.booleanOp=t;else throw z.invalidParameterError("operator","one of: and, or, eor",t);return this}function xve(e,t){if(!z.defined(e)&&z.number(t)?e=1:z.number(e)&&!z.defined(t)&&(t=0),!z.defined(e))this.options.linearA=[];else if(z.number(e))this.options.linearA=[e];else if(Array.isArray(e)&&e.length&&e.every(z.number))this.options.linearA=e;else throw z.invalidParameterError("a","number or array of numbers",e);if(!z.defined(t))this.options.linearB=[];else if(z.number(t))this.options.linearB=[t];else if(Array.isArray(t)&&t.length&&t.every(z.number))this.options.linearB=t;else throw z.invalidParameterError("b","number or array of numbers",t);if(this.options.linearA.length!==this.options.linearB.length)throw new Error("Expected a and b to be arrays of the same length");return this}function Sve(e){if(!Array.isArray(e)||e.length!==3||e[0].length!==3||e[1].length!==3||e[2].length!==3)throw new Error("Invalid recombination matrix");return this.options.recombMatrix=[e[0][0],e[0][1],e[0][2],e[1][0],e[1][1],e[1][2],e[2][0],e[2][1],e[2][2]].map(Number),this}function Rve(e){if(!z.plainObject(e))throw z.invalidParameterError("options","plain object",e);if("brightness"in e)if(z.number(e.brightness)&&e.brightness>=0)this.options.brightness=e.brightness;else throw z.invalidParameterError("brightness","number above zero",e.brightness);if("saturation"in e)if(z.number(e.saturation)&&e.saturation>=0)this.options.saturation=e.saturation;else throw z.invalidParameterError("saturation","number above zero",e.saturation);if("hue"in e)if(z.integer(e.hue))this.options.hue=e.hue%360;else throw z.invalidParameterError("hue","number",e.hue);if("lightness"in e)if(z.number(e.lightness))this.options.lightness=e.lightness;else throw z.invalidParameterError("lightness","number",e.lightness);return this}j6.exports=function(e){Object.assign(e.prototype,{rotate:ave,flip:lve,flop:cve,affine:uve,sharpen:fve,median:dve,blur:hve,flatten:pve,gamma:mve,negate:gve,normalise:yve,normalize:bve,clahe:vve,convolve:wve,threshold:_ve,boolean:Eve,linear:xve,recomb:Sve,modulate:Rve})}});var M6=w((NCe,F6)=>{"use strict";var L6=hg(),ms=Ii(),D6={multiband:"multiband","b-w":"b-w",bw:"b-w",cmyk:"cmyk",srgb:"srgb"};function Tve(e){let t=L6(e);return this.options.tintA=t.a(),this.options.tintB=t.b(),this}function Pve(e){return this.options.greyscale=ms.bool(e)?e:!0,this}function Ave(e){return this.greyscale(e)}function kve(e){if(!ms.string(e))throw ms.invalidParameterError("colourspace","string",e);return this.options.colourspaceInput=e,this}function Ove(e){return this.pipelineColourspace(e)}function Cve(e){if(!ms.string(e))throw ms.invalidParameterError("colourspace","string",e);return this.options.colourspace=e,this}function Ive(e){return this.toColourspace(e)}function $ve(e,t){if(ms.defined(t))if(ms.object(t)||ms.string(t)){let r=L6(t);this.options[e]=[r.red(),r.green(),r.blue(),Math.round(r.alpha()*255)]}else throw ms.invalidParameterError("background","object or string",t)}F6.exports=function(e){Object.assign(e.prototype,{tint:Tve,greyscale:Pve,grayscale:Ave,pipelineColourspace:kve,pipelineColorspace:Ove,toColourspace:Cve,toColorspace:Ive,_setBackgroundColourOption:$ve}),e.colourspace=D6,e.colorspace=D6}});var z6=w((jCe,B6)=>{"use strict";var $i=Ii(),Nve={and:"and",or:"or",eor:"eor"};function jve(){return this.options.removeAlpha=!0,this}function qve(e){if($i.defined(e))if($i.number(e)&&$i.inRange(e,0,1))this.options.ensureAlpha=e;else throw $i.invalidParameterError("alpha","number between 0 and 1",e);else this.options.ensureAlpha=1;return this}function Dve(e){let t={red:0,green:1,blue:2,alpha:3};if(Object.keys(t).includes(e)&&(e=t[e]),$i.integer(e)&&$i.inRange(e,0,4))this.options.extractChannel=e;else throw $i.invalidParameterError("channel","integer or one of: red, green, blue, alpha",e);return this}function Lve(e,t){return Array.isArray(e)?e.forEach(function(r){this.options.joinChannelIn.push(this._createInputDescriptor(r,t))},this):this.options.joinChannelIn.push(this._createInputDescriptor(e,t)),this}function Fve(e){if($i.string(e)&&$i.inArray(e,["and","or","eor"]))this.options.bandBoolOp=e;else throw $i.invalidParameterError("boolOp","one of: and, or, eor",e);return this}B6.exports=function(e){Object.assign(e.prototype,{removeAlpha:jve,ensureAlpha:qve,extractChannel:Dve,joinChannel:Lve,bandbool:Fve}),e.bool=Nve}});var J6=w((qCe,K6)=>{"use strict";var H6=L("path"),T=Ii(),gc=Bf(),U6=new Map([["heic","heif"],["heif","heif"],["avif","avif"],["jpeg","jpeg"],["jpg","jpeg"],["jpe","jpeg"],["tile","tile"],["dz","tile"],["png","png"],["raw","raw"],["tiff","tiff"],["tif","tiff"],["webp","webp"],["gif","gif"],["jp2","jp2"],["jpx","jp2"],["j2k","jp2"],["j2c","jp2"],["jxl","jxl"]]),Mve=/\.jp[2x]|j2[kc]$/i,V6=()=>new Error("JP2 output requires libvips with support for OpenJPEG"),G6=e=>1<<31-Math.clz32(Math.ceil(Math.log2(e)));function Bve(e,t){let r;if(T.string(e)?T.string(this.options.input.file)&&H6.resolve(this.options.input.file)===H6.resolve(e)?r=new Error("Cannot use same file for input and output"):Mve.test(e)&&!this.constructor.format.jp2k.output.file&&(r=V6()):r=new Error("Missing output file path"),r)if(T.fn(t))t(r);else return Promise.reject(r);else return this.options.fileOut=e,this._pipeline(t);return this}function zve(e,t){return T.object(e)?this._setBooleanOption("resolveWithObject",e.resolveWithObject):this.options.resolveWithObject&&(this.options.resolveWithObject=!1),this.options.fileOut="",this._pipeline(T.fn(e)?e:t)}function Hve(e){if(this.options.withMetadata=T.bool(e)?e:!0,T.object(e)){if(T.defined(e.orientation))if(T.integer(e.orientation)&&T.inRange(e.orientation,1,8))this.options.withMetadataOrientation=e.orientation;else throw T.invalidParameterError("orientation","integer between 1 and 8",e.orientation);if(T.defined(e.density))if(T.number(e.density)&&e.density>0)this.options.withMetadataDensity=e.density;else throw T.invalidParameterError("density","positive number",e.density);if(T.defined(e.icc))if(T.string(e.icc))this.options.withMetadataIcc=e.icc;else throw T.invalidParameterError("icc","string filesystem path to ICC profile",e.icc);if(T.defined(e.exif))if(T.object(e.exif))for(let[t,r]of Object.entries(e.exif))if(T.object(r))for(let[n,i]of Object.entries(r))if(T.string(i))this.options.withMetadataStrs[`exif-${t.toLowerCase()}-${n}`]=i;else throw T.invalidParameterError(`exif.${t}.${n}`,"string",i);else throw T.invalidParameterError(`exif.${t}`,"object",r);else throw T.invalidParameterError("exif","object",e.exif)}return this}function Uve(e,t){let r=U6.get((T.object(e)&&T.string(e.id)?e.id:e).toLowerCase());if(!r)throw T.invalidParameterError("format",`one of: ${[...U6.keys()].join(", ")}`,e);return this[r](t)}function Vve(e){if(T.object(e)){if(T.defined(e.quality))if(T.integer(e.quality)&&T.inRange(e.quality,1,100))this.options.jpegQuality=e.quality;else throw T.invalidParameterError("quality","integer between 1 and 100",e.quality);if(T.defined(e.progressive)&&this._setBooleanOption("jpegProgressive",e.progressive),T.defined(e.chromaSubsampling))if(T.string(e.chromaSubsampling)&&T.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))this.options.jpegChromaSubsampling=e.chromaSubsampling;else throw T.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling);let t=T.bool(e.optimizeCoding)?e.optimizeCoding:e.optimiseCoding;if(T.defined(t)&&this._setBooleanOption("jpegOptimiseCoding",t),T.defined(e.mozjpeg))if(T.bool(e.mozjpeg))e.mozjpeg&&(this.options.jpegTrellisQuantisation=!0,this.options.jpegOvershootDeringing=!0,this.options.jpegOptimiseScans=!0,this.options.jpegProgressive=!0,this.options.jpegQuantisationTable=3);else throw T.invalidParameterError("mozjpeg","boolean",e.mozjpeg);let r=T.bool(e.trellisQuantization)?e.trellisQuantization:e.trellisQuantisation;T.defined(r)&&this._setBooleanOption("jpegTrellisQuantisation",r),T.defined(e.overshootDeringing)&&this._setBooleanOption("jpegOvershootDeringing",e.overshootDeringing);let n=T.bool(e.optimizeScans)?e.optimizeScans:e.optimiseScans;T.defined(n)&&(this._setBooleanOption("jpegOptimiseScans",n),n&&(this.options.jpegProgressive=!0));let i=T.number(e.quantizationTable)?e.quantizationTable:e.quantisationTable;if(T.defined(i))if(T.integer(i)&&T.inRange(i,0,8))this.options.jpegQuantisationTable=i;else throw T.invalidParameterError("quantisationTable","integer between 0 and 8",i)}return this._updateFormatOut("jpeg",e)}function Gve(e){if(T.object(e)){if(T.defined(e.progressive)&&this._setBooleanOption("pngProgressive",e.progressive),T.defined(e.compressionLevel))if(T.integer(e.compressionLevel)&&T.inRange(e.compressionLevel,0,9))this.options.pngCompressionLevel=e.compressionLevel;else throw T.invalidParameterError("compressionLevel","integer between 0 and 9",e.compressionLevel);T.defined(e.adaptiveFiltering)&&this._setBooleanOption("pngAdaptiveFiltering",e.adaptiveFiltering);let t=e.colours||e.colors;if(T.defined(t))if(T.integer(t)&&T.inRange(t,2,256))this.options.pngBitdepth=G6(t);else throw T.invalidParameterError("colours","integer between 2 and 256",t);if(T.defined(e.palette)?this._setBooleanOption("pngPalette",e.palette):[e.quality,e.effort,e.colours,e.colors,e.dither].some(T.defined)&&this._setBooleanOption("pngPalette",!0),this.options.pngPalette){if(T.defined(e.quality))if(T.integer(e.quality)&&T.inRange(e.quality,0,100))this.options.pngQuality=e.quality;else throw T.invalidParameterError("quality","integer between 0 and 100",e.quality);if(T.defined(e.effort))if(T.integer(e.effort)&&T.inRange(e.effort,1,10))this.options.pngEffort=e.effort;else throw T.invalidParameterError("effort","integer between 1 and 10",e.effort);if(T.defined(e.dither))if(T.number(e.dither)&&T.inRange(e.dither,0,1))this.options.pngDither=e.dither;else throw T.invalidParameterError("dither","number between 0.0 and 1.0",e.dither)}}return this._updateFormatOut("png",e)}function Wve(e){if(T.object(e)){if(T.defined(e.quality))if(T.integer(e.quality)&&T.inRange(e.quality,1,100))this.options.webpQuality=e.quality;else throw T.invalidParameterError("quality","integer between 1 and 100",e.quality);if(T.defined(e.alphaQuality))if(T.integer(e.alphaQuality)&&T.inRange(e.alphaQuality,0,100))this.options.webpAlphaQuality=e.alphaQuality;else throw T.invalidParameterError("alphaQuality","integer between 0 and 100",e.alphaQuality);if(T.defined(e.lossless)&&this._setBooleanOption("webpLossless",e.lossless),T.defined(e.nearLossless)&&this._setBooleanOption("webpNearLossless",e.nearLossless),T.defined(e.smartSubsample)&&this._setBooleanOption("webpSmartSubsample",e.smartSubsample),T.defined(e.effort))if(T.integer(e.effort)&&T.inRange(e.effort,0,6))this.options.webpEffort=e.effort;else throw T.invalidParameterError("effort","integer between 0 and 6",e.effort);T.defined(e.minSize)&&this._setBooleanOption("webpMinSize",e.minSize),T.defined(e.mixed)&&this._setBooleanOption("webpMixed",e.mixed)}return W6(e,this.options),this._updateFormatOut("webp",e)}function Kve(e){if(T.object(e)){T.defined(e.reoptimise)?this._setBooleanOption("gifReoptimise",e.reoptimise):T.defined(e.reoptimize)&&this._setBooleanOption("gifReoptimise",e.reoptimize);let t=e.colours||e.colors;if(T.defined(t))if(T.integer(t)&&T.inRange(t,2,256))this.options.gifBitdepth=G6(t);else throw T.invalidParameterError("colours","integer between 2 and 256",t);if(T.defined(e.effort))if(T.number(e.effort)&&T.inRange(e.effort,1,10))this.options.gifEffort=e.effort;else throw T.invalidParameterError("effort","integer between 1 and 10",e.effort);if(T.defined(e.dither))if(T.number(e.dither)&&T.inRange(e.dither,0,1))this.options.gifDither=e.dither;else throw T.invalidParameterError("dither","number between 0.0 and 1.0",e.dither);if(T.defined(e.interFrameMaxError))if(T.number(e.interFrameMaxError)&&T.inRange(e.interFrameMaxError,0,32))this.options.gifInterFrameMaxError=e.interFrameMaxError;else throw T.invalidParameterError("interFrameMaxError","number between 0.0 and 32.0",e.interFrameMaxError);if(T.defined(e.interPaletteMaxError))if(T.number(e.interPaletteMaxError)&&T.inRange(e.interPaletteMaxError,0,256))this.options.gifInterPaletteMaxError=e.interPaletteMaxError;else throw T.invalidParameterError("interPaletteMaxError","number between 0.0 and 256.0",e.interPaletteMaxError)}return W6(e,this.options),this._updateFormatOut("gif",e)}function Jve(e){if(!this.constructor.format.jp2k.output.buffer)throw V6();if(T.object(e)){if(T.defined(e.quality))if(T.integer(e.quality)&&T.inRange(e.quality,1,100))this.options.jp2Quality=e.quality;else throw T.invalidParameterError("quality","integer between 1 and 100",e.quality);if(T.defined(e.lossless))if(T.bool(e.lossless))this.options.jp2Lossless=e.lossless;else throw T.invalidParameterError("lossless","boolean",e.lossless);if(T.defined(e.tileWidth))if(T.integer(e.tileWidth)&&T.inRange(e.tileWidth,1,32768))this.options.jp2TileWidth=e.tileWidth;else throw T.invalidParameterError("tileWidth","integer between 1 and 32768",e.tileWidth);if(T.defined(e.tileHeight))if(T.integer(e.tileHeight)&&T.inRange(e.tileHeight,1,32768))this.options.jp2TileHeight=e.tileHeight;else throw T.invalidParameterError("tileHeight","integer between 1 and 32768",e.tileHeight);if(T.defined(e.chromaSubsampling))if(T.string(e.chromaSubsampling)&&T.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))this.options.heifChromaSubsampling=e.chromaSubsampling;else throw T.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling)}return this._updateFormatOut("jp2",e)}function W6(e,t){if(T.object(e)&&T.defined(e.loop))if(T.integer(e.loop)&&T.inRange(e.loop,0,65535))t.loop=e.loop;else throw T.invalidParameterError("loop","integer between 0 and 65535",e.loop);if(T.object(e)&&T.defined(e.delay))if(T.integer(e.delay)&&T.inRange(e.delay,0,65535))t.delay=[e.delay];else if(Array.isArray(e.delay)&&e.delay.every(T.integer)&&e.delay.every(r=>T.inRange(r,0,65535)))t.delay=e.delay;else throw T.invalidParameterError("delay","integer or an array of integers between 0 and 65535",e.delay)}function Yve(e){if(T.object(e)){if(T.defined(e.quality))if(T.integer(e.quality)&&T.inRange(e.quality,1,100))this.options.tiffQuality=e.quality;else throw T.invalidParameterError("quality","integer between 1 and 100",e.quality);if(T.defined(e.bitdepth))if(T.integer(e.bitdepth)&&T.inArray(e.bitdepth,[1,2,4,8]))this.options.tiffBitdepth=e.bitdepth;else throw T.invalidParameterError("bitdepth","1, 2, 4 or 8",e.bitdepth);if(T.defined(e.tile)&&this._setBooleanOption("tiffTile",e.tile),T.defined(e.tileWidth))if(T.integer(e.tileWidth)&&e.tileWidth>0)this.options.tiffTileWidth=e.tileWidth;else throw T.invalidParameterError("tileWidth","integer greater than zero",e.tileWidth);if(T.defined(e.tileHeight))if(T.integer(e.tileHeight)&&e.tileHeight>0)this.options.tiffTileHeight=e.tileHeight;else throw T.invalidParameterError("tileHeight","integer greater than zero",e.tileHeight);if(T.defined(e.pyramid)&&this._setBooleanOption("tiffPyramid",e.pyramid),T.defined(e.xres))if(T.number(e.xres)&&e.xres>0)this.options.tiffXres=e.xres;else throw T.invalidParameterError("xres","number greater than zero",e.xres);if(T.defined(e.yres))if(T.number(e.yres)&&e.yres>0)this.options.tiffYres=e.yres;else throw T.invalidParameterError("yres","number greater than zero",e.yres);if(T.defined(e.compression))if(T.string(e.compression)&&T.inArray(e.compression,["none","jpeg","deflate","packbits","ccittfax4","lzw","webp","zstd","jp2k"]))this.options.tiffCompression=e.compression;else throw T.invalidParameterError("compression","one of: none, jpeg, deflate, packbits, ccittfax4, lzw, webp, zstd, jp2k",e.compression);if(T.defined(e.predictor))if(T.string(e.predictor)&&T.inArray(e.predictor,["none","horizontal","float"]))this.options.tiffPredictor=e.predictor;else throw T.invalidParameterError("predictor","one of: none, horizontal, float",e.predictor);if(T.defined(e.resolutionUnit))if(T.string(e.resolutionUnit)&&T.inArray(e.resolutionUnit,["inch","cm"]))this.options.tiffResolutionUnit=e.resolutionUnit;else throw T.invalidParameterError("resolutionUnit","one of: inch, cm",e.resolutionUnit)}return this._updateFormatOut("tiff",e)}function Xve(e){return this.heif({...e,compression:"av1"})}function Qve(e){if(T.object(e)){if(T.defined(e.quality))if(T.integer(e.quality)&&T.inRange(e.quality,1,100))this.options.heifQuality=e.quality;else throw T.invalidParameterError("quality","integer between 1 and 100",e.quality);if(T.defined(e.lossless))if(T.bool(e.lossless))this.options.heifLossless=e.lossless;else throw T.invalidParameterError("lossless","boolean",e.lossless);if(T.defined(e.compression))if(T.string(e.compression)&&T.inArray(e.compression,["av1","hevc"]))this.options.heifCompression=e.compression;else throw T.invalidParameterError("compression","one of: av1, hevc",e.compression);if(T.defined(e.effort))if(T.integer(e.effort)&&T.inRange(e.effort,0,9))this.options.heifEffort=e.effort;else throw T.invalidParameterError("effort","integer between 0 and 9",e.effort);if(T.defined(e.chromaSubsampling))if(T.string(e.chromaSubsampling)&&T.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))this.options.heifChromaSubsampling=e.chromaSubsampling;else throw T.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling)}return this._updateFormatOut("heif",e)}function Zve(e){if(T.object(e)){if(T.defined(e.quality))if(T.integer(e.quality)&&T.inRange(e.quality,1,100))this.options.jxlDistance=e.quality>=30?.1+(100-e.quality)*.09:53/3e3*e.quality*e.quality-23/20*e.quality+25;else throw T.invalidParameterError("quality","integer between 1 and 100",e.quality);else if(T.defined(e.distance))if(T.number(e.distance)&&T.inRange(e.distance,0,15))this.options.jxlDistance=e.distance;else throw T.invalidParameterError("distance","number between 0.0 and 15.0",e.distance);if(T.defined(e.decodingTier))if(T.integer(e.decodingTier)&&T.inRange(e.decodingTier,0,4))this.options.jxlDecodingTier=e.decodingTier;else throw T.invalidParameterError("decodingTier","integer between 0 and 4",e.decodingTier);if(T.defined(e.lossless))if(T.bool(e.lossless))this.options.jxlLossless=e.lossless;else throw T.invalidParameterError("lossless","boolean",e.lossless);if(T.defined(e.effort))if(T.integer(e.effort)&&T.inRange(e.effort,3,9))this.options.jxlEffort=e.effort;else throw T.invalidParameterError("effort","integer between 3 and 9",e.effort)}return this._updateFormatOut("jxl",e)}function ewe(e){if(T.object(e)&&T.defined(e.depth))if(T.string(e.depth)&&T.inArray(e.depth,["char","uchar","short","ushort","int","uint","float","complex","double","dpcomplex"]))this.options.rawDepth=e.depth;else throw T.invalidParameterError("depth","one of: char, uchar, short, ushort, int, uint, float, complex, double, dpcomplex",e.depth);return this._updateFormatOut("raw")}function twe(e){if(T.object(e)){if(T.defined(e.size))if(T.integer(e.size)&&T.inRange(e.size,1,8192))this.options.tileSize=e.size;else throw T.invalidParameterError("size","integer between 1 and 8192",e.size);if(T.defined(e.overlap))if(T.integer(e.overlap)&&T.inRange(e.overlap,0,8192)){if(e.overlap>this.options.tileSize)throw T.invalidParameterError("overlap",`<= size (${this.options.tileSize})`,e.overlap);this.options.tileOverlap=e.overlap}else throw T.invalidParameterError("overlap","integer between 0 and 8192",e.overlap);if(T.defined(e.container))if(T.string(e.container)&&T.inArray(e.container,["fs","zip"]))this.options.tileContainer=e.container;else throw T.invalidParameterError("container","one of: fs, zip",e.container);if(T.defined(e.layout))if(T.string(e.layout)&&T.inArray(e.layout,["dz","google","iiif","iiif3","zoomify"]))this.options.tileLayout=e.layout;else throw T.invalidParameterError("layout","one of: dz, google, iiif, iiif3, zoomify",e.layout);if(T.defined(e.angle))if(T.integer(e.angle)&&!(e.angle%90))this.options.tileAngle=e.angle;else throw T.invalidParameterError("angle","positive/negative multiple of 90",e.angle);if(this._setBackgroundColourOption("tileBackground",e.background),T.defined(e.depth))if(T.string(e.depth)&&T.inArray(e.depth,["onepixel","onetile","one"]))this.options.tileDepth=e.depth;else throw T.invalidParameterError("depth","one of: onepixel, onetile, one",e.depth);if(T.defined(e.skipBlanks))if(T.integer(e.skipBlanks)&&T.inRange(e.skipBlanks,-1,65535))this.options.tileSkipBlanks=e.skipBlanks;else throw T.invalidParameterError("skipBlanks","integer between -1 and 255/65535",e.skipBlanks);else T.defined(e.layout)&&e.layout==="google"&&(this.options.tileSkipBlanks=5);let t=T.bool(e.center)?e.center:e.centre;if(T.defined(t)&&this._setBooleanOption("tileCentre",t),T.defined(e.id))if(T.string(e.id))this.options.tileId=e.id;else throw T.invalidParameterError("id","string",e.id);if(T.defined(e.basename))if(T.string(e.basename))this.options.tileBasename=e.basename;else throw T.invalidParameterError("basename","string",e.basename)}if(T.inArray(this.options.formatOut,["jpeg","png","webp"]))this.options.tileFormat=this.options.formatOut;else if(this.options.formatOut!=="input")throw T.invalidParameterError("format","one of: jpeg, png, webp",this.options.formatOut);return this._updateFormatOut("dz")}function rwe(e){if(!T.plainObject(e))throw T.invalidParameterError("options","object",e);if(T.integer(e.seconds)&&T.inRange(e.seconds,0,3600))this.options.timeoutSeconds=e.seconds;else throw T.invalidParameterError("seconds","integer between 0 and 3600",e.seconds);return this}function nwe(e,t){return T.object(t)&&t.force===!1||(this.options.formatOut=e),this}function iwe(e,t){if(T.bool(t))this.options[e]=t;else throw T.invalidParameterError(e,"boolean",t)}function swe(){this.options.streamOut||(this.options.streamOut=!0,this._pipeline())}function owe(e){return typeof e=="function"?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),gc.pipeline(this.options,e)}):gc.pipeline(this.options,e),this):this.options.streamOut?(this._isStreamInput()?(this.once("finish",()=>{this._flattenBufferIn(),gc.pipeline(this.options,(t,r,n)=>{t?this.emit("error",t):(this.emit("info",n),this.push(r)),this.push(null),this.on("end",()=>this.emit("close"))})}),this.streamInFinished&&this.emit("finish")):gc.pipeline(this.options,(t,r,n)=>{t?this.emit("error",t):(this.emit("info",n),this.push(r)),this.push(null),this.on("end",()=>this.emit("close"))}),this):this._isStreamInput()?new Promise((t,r)=>{this.once("finish",()=>{this._flattenBufferIn(),gc.pipeline(this.options,(n,i,s)=>{n?r(n):this.options.resolveWithObject?t({data:i,info:s}):t(i)})})}):new Promise((t,r)=>{gc.pipeline(this.options,(n,i,s)=>{n?r(n):this.options.resolveWithObject?t({data:i,info:s}):t(i)})})}K6.exports=function(e){Object.assign(e.prototype,{toFile:Bve,toBuffer:zve,withMetadata:Hve,toFormat:Uve,jpeg:Vve,jp2:Jve,png:Gve,webp:Wve,tiff:Yve,avif:Xve,heif:Qve,jxl:Zve,gif:Kve,raw:ewe,tile:twe,timeout:rwe,_updateFormatOut:nwe,_setBooleanOption:iwe,_read:swe,_pipeline:owe})}});var rB=w((DCe,tB)=>{"use strict";var awe=L("fs"),lwe=L("path"),cwe=L("events"),Y6=C1(),mg=Ii(),X6=ag()(),ai=Bf(),Vf=ai.format();Vf.heif.output.alias=["avif","heic"];Vf.jpeg.output.alias=["jpe","jpg"];Vf.tiff.output.alias=["tif"];Vf.jp2k.output.alias=["j2c","j2k","jp2","jpx"];var uwe={nearest:"nearest",bilinear:"bilinear",bicubic:"bicubic",locallyBoundedBicubic:"lbb",nohalo:"nohalo",vertexSplitQuadraticBasisSpline:"vsqbs"},gg={vips:ai.libvipsVersion()};try{gg=L(`../vendor/${gg.vips}/${X6}/versions.json`)}catch{}var Q6={current:X6,installed:[]};try{Q6.installed=awe.readdirSync(lwe.join(__dirname,`../vendor/${gg.vips}`))}catch{}function Z6(e){return mg.bool(e)?e?ai.cache(50,20,100):ai.cache(0,0,0):mg.object(e)?ai.cache(e.memory,e.files,e.items):ai.cache()}Z6(!0);function fwe(e){return ai.concurrency(mg.integer(e)?e:null)}Y6.familySync()===Y6.GLIBC&&!ai._isUsingJemalloc()&&ai.concurrency(1);var dwe=new cwe.EventEmitter;function hwe(){return ai.counters()}function eB(e){return ai.simd(mg.bool(e)?e:null)}eB(!0);tB.exports=function(e){e.cache=Z6,e.concurrency=fwe,e.counters=hwe,e.simd=eB,e.format=Vf,e.interpolators=uwe,e.versions=gg,e.vendor=Q6,e.queue=dwe}});var W1=w((FCe,nB)=>{"use strict";var gs=o6();P6()(gs);I6()(gs);N6()(gs);q6()(gs);M6()(gs);z6()(gs);J6()(gs);rB()(gs);nB.exports=gs});var uB=w(Q1=>{Q1.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,c=l>>1,u=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=s*256+e[t+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=o*256+e[t+d],d+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(f?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(f?-1:1)*o*Math.pow(2,s-n)};Q1.write=function(e,t,r,n,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*l-1)*Math.pow(2,i),o=o+d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=a&255,f+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+f]=o&255,f+=p,o/=256,c-=8);e[r+f-p]|=m*128}});var ji=w(li=>{"use strict";var xB=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",xwe=xB+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",SB="["+xB+"]["+xwe+"]*",Swe=new RegExp("^"+SB+"$"),Rwe=function(e,t){let r=[],n=t.exec(e);for(;n;){let i=[];i.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let o=0;o<s;o++)i.push(n[o]);r.push(i),n=t.exec(e)}return r},Twe=function(e){let t=Swe.exec(e);return!(t===null||typeof t>"u")};li.isExist=function(e){return typeof e<"u"};li.isEmptyObject=function(e){return Object.keys(e).length===0};li.merge=function(e,t,r){if(t){let n=Object.keys(t),i=n.length;for(let s=0;s<i;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};li.getValue=function(e){return li.isExist(e)?e:""};li.buildOptions=function(e,t,r){let n={};if(!e)return t;for(let i=0;i<r.length;i++)e[r[i]]!==void 0?n[r[i]]=e[r[i]]:n[r[i]]=t[r[i]];return n};li.isTagNameInArrayMode=function(e,t,r){return t===!1?!1:t instanceof RegExp?t.test(e):typeof t=="function"?!!t(e,r):t==="strict"};li.isName=Twe;li.getAllMatches=Rwe;li.nameRegexp=SB});var TB=w(RB=>{"use strict";var Pa=ji(),tS=function(e,t,r){let n={};if(!t.alwaysCreateTextNode&&(!e.child||Pa.isEmptyObject(e.child))&&(!e.attrsMap||Pa.isEmptyObject(e.attrsMap)))return Pa.isExist(e.val)?e.val:"";if(Pa.isExist(e.val)&&!(typeof e.val=="string"&&(e.val===""||e.val===t.cdataPositionChar))){let s=Pa.isTagNameInArrayMode(e.tagname,t.arrayMode,r);n[t.textNodeName]=s?[e.val]:e.val}Pa.merge(n,e.attrsMap,t.arrayMode);let i=Object.keys(e.child);for(let s=0;s<i.length;s++){let o=i[s];if(e.child[o]&&e.child[o].length>1){n[o]=[];for(let a in e.child[o])e.child[o].hasOwnProperty(a)&&n[o].push(tS(e.child[o][a],t,o))}else{let a=tS(e.child[o][0],t,o),l=t.arrayMode===!0&&typeof a=="object"||Pa.isTagNameInArrayMode(o,t.arrayMode,r);n[o]=l?[a]:a}}return n};RB.convertToJson=tS});var AB=w((jIe,PB)=>{"use strict";PB.exports=function(e,t,r){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=r,this.addChild=function(n){Array.isArray(this.child[n.tagname])?this.child[n.tagname].push(n):this.child[n.tagname]=[n]}}});var OB=w((qIe,kB)=>{var Pwe=/^[-+]?0x[a-fA-F0-9]+$/,Awe=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var kwe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Owe(e,t={}){if(t=Object.assign({},kwe,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&Pwe.test(r))return Number.parseInt(r,16);{let n=Awe.exec(r);if(n){let i=n[1],s=n[2],o=Cwe(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!i&&r[1]!==".")return e;{let l=Number(r),c=""+l;return c.search(/[eE]/)!==-1||a?t.eNotation?l:e:r.indexOf(".")!==-1?c==="0"&&o===""||c===o||i&&c==="-"+o?l:e:s?o===c||i+o===c?l:e:r===c||r===i+c?l:e}}else return e}}function Cwe(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}kB.exports=Owe});var Wf=w(xg=>{"use strict";var Aa=ji(),Iwe=ji().buildOptions,_g=AB(),$we=OB(),DIe="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Aa.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var IB={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};xg.defaultOptions=IB;var $B=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];xg.props=$B;function Eg(e,t,r){return t&&(r.trimValues&&(t=t.trim()),t=r.tagValueProcessor(t,e),t=NB(t,r.parseNodeValue,r.numParseOptions)),t}function Nwe(e,t){if(t.ignoreNameSpace){let r=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(r[0]==="xmlns")return"";r.length===2&&(e=n+r[1])}return e}function NB(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:$we(e,r)}else return Aa.isExist(e)?e:""}var jwe=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function CB(e,t){if(!t.ignoreAttributes&&typeof e=="string"){e=e.replace(/\r?\n/g," ");let r=Aa.getAllMatches(e,jwe),n=r.length,i={};for(let s=0;s<n;s++){let o=Nwe(r[s][1],t);o.length&&(r[s][4]!==void 0?(t.trimValues&&(r[s][4]=r[s][4].trim()),r[s][4]=t.attrValueProcessor(r[s][4],o),i[t.attributeNamePrefix+o]=NB(r[s][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+o]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){let s={};return s[t.attrNodeName]=i,s}return i}}var qwe=function(e,t){e=e.replace(/\r\n?/g,`
`),t=Iwe(t,IB,$B);let r=new _g("!xml"),n=r,i="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=Gf(e,">",s,"Closing Tag is not closed."),l=e.substring(s+2,a).trim();if(t.ignoreNameSpace){let c=l.indexOf(":");c!==-1&&(l=l.substr(c+1))}n&&(n.val?n.val=Aa.getValue(n.val)+""+Eg(l,i,t):n.val=Eg(l,i,t)),t.stopNodes.length&&t.stopNodes.includes(n.tagname)&&(n.child=[],n.attrsMap==null&&(n.attrsMap={}),n.val=e.substr(n.startIndex+1,s-n.startIndex-1)),n=n.parent,i="",s=a}else if(e[s+1]==="?")s=Gf(e,"?>",s,"Pi Tag is not closed.");else if(e.substr(s+1,3)==="!--")s=Gf(e,"-->",s,"Comment is not closed.");else if(e.substr(s+1,2)==="!D"){let a=Gf(e,">",s,"DOCTYPE is not closed.");e.substring(s,a).indexOf("[")>=0?s=e.indexOf("]>",s)+1:s=a}else if(e.substr(s+1,2)==="!["){let a=Gf(e,"]]>",s,"CDATA is not closed.")-2,l=e.substring(s+9,a);if(i&&(n.val=Aa.getValue(n.val)+""+Eg(n.tagname,i,t),i=""),t.cdataTagName){let c=new _g(t.cdataTagName,n,l);n.addChild(c),n.val=Aa.getValue(n.val)+t.cdataPositionChar,l&&(c.val=l)}else n.val=(n.val||"")+(l||"");s=a+2}else{let a=Dwe(e,s+1),l=a.data,c=a.index,u=l.indexOf(" "),d=l,h=!0;if(u!==-1&&(d=l.substr(0,u).replace(/\s\s*$/,""),l=l.substr(u+1)),t.ignoreNameSpace){let f=d.indexOf(":");f!==-1&&(d=d.substr(f+1),h=d!==a.data.substr(f+1))}if(n&&i&&n.tagname!=="!xml"&&(n.val=Aa.getValue(n.val)+""+Eg(n.tagname,i,t)),l.length>0&&l.lastIndexOf("/")===l.length-1){d[d.length-1]==="/"?(d=d.substr(0,d.length-1),l=d):l=l.substr(0,l.length-1);let f=new _g(d,n,"");d!==l&&(f.attrsMap=CB(l,t)),n.addChild(f)}else{let f=new _g(d,n);t.stopNodes.length&&t.stopNodes.includes(f.tagname)&&(f.startIndex=c),d!==l&&h&&(f.attrsMap=CB(l,t)),n.addChild(f),n=f}i="",s=c}else i+=e[s];return r};function Dwe(e,t){let r,n="";for(let i=t;i<e.length;i++){let s=e[i];if(r)s===r&&(r="");else if(s==='"'||s==="'")r=s;else{if(s===">")return{data:n,index:i};s==="	"&&(s=" ")}n+=s}}function Gf(e,t,r,n){let i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}xg.getTraversalObj=qwe});var FB=w(LB=>{"use strict";var Rg=ji(),Lwe={allowBooleanAttributes:!1},Fwe=["allowBooleanAttributes"];LB.validate=function(e,t){t=Rg.buildOptions(t,Lwe,Fwe);let r=[],n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=jB(e,s),s.err)return s}else if(e[s]==="<"){let o=s;if(s++,e[s]==="!"){s=qB(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let l="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)l+=e[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!Wwe(l)){let d;return l.trim().length===0?d="Invalid space after '<'.":d="Tag '"+l+"' is an invalid name.",dr("InvalidTag",d,_n(e,s))}let c=zwe(e,s);if(c===!1)return dr("InvalidAttr","Attributes for '"+l+"' have open quote.",_n(e,s));let u=c.value;if(s=c.index,u[u.length-1]==="/"){let d=s-u.length;u=u.substring(0,u.length-1);let h=DB(u,t);if(h===!0)n=!0;else return dr(h.err.code,h.err.msg,_n(e,d+h.err.line))}else if(a)if(c.tagClosed){if(u.trim().length>0)return dr("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",_n(e,o));{let d=r.pop();if(l!==d.tagName){let h=_n(e,d.tagStartPos);return dr("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+l+"'.",_n(e,o))}r.length==0&&(i=!0)}}else return dr("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",_n(e,s));else{let d=DB(u,t);if(d!==!0)return dr(d.err.code,d.err.msg,_n(e,s-u.length+d.err.line));if(i===!0)return dr("InvalidXml","Multiple possible root nodes found.",_n(e,s));r.push({tagName:l,tagStartPos:o}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=qB(e,s);continue}else if(e[s+1]==="?"){if(s=jB(e,++s),s.err)return s}else break;else if(e[s]==="&"){let d=Vwe(e,s);if(d==-1)return dr("InvalidChar","char '&' is not expected.",_n(e,s));s=d}e[s]==="<"&&s--}}else{if(e[s]===" "||e[s]==="	"||e[s]===`
`||e[s]==="\r")continue;return dr("InvalidChar","char '"+e[s]+"' is not expected.",_n(e,s))}if(n){if(r.length==1)return dr("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",_n(e,r[0].tagStartPos));if(r.length>0)return dr("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return dr("InvalidXml","Start tag expected.",1);return!0};function jB(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return dr("InvalidXml","XML declaration allowed only at the start of the document.",_n(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function qB(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var Mwe='"',Bwe="'";function zwe(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===Mwe||e[t]===Bwe)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}var Hwe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function DB(e,t){let r=Rg.getAllMatches(e,Hwe),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return dr("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",Sg(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return dr("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",Sg(r[i]));let s=r[i][2];if(!Gwe(s))return dr("InvalidAttr","Attribute '"+s+"' is an invalid name.",Sg(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return dr("InvalidAttr","Attribute '"+s+"' is repeated.",Sg(r[i]))}return!0}function Uwe(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Vwe(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Uwe(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function dr(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Gwe(e){return Rg.isName(e)}function Wwe(e){return Rg.isName(e)}function _n(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Sg(e){return e.startIndex+e[1].length}});var HB=w(zB=>{"use strict";var qi=function(e){return String.fromCharCode(e)},Wt={nilChar:qi(176),missingChar:qi(201),nilPremitive:qi(175),missingPremitive:qi(200),emptyChar:qi(178),emptyValue:qi(177),boundryChar:qi(179),objStart:qi(198),arrStart:qi(204),arrayEnd:qi(185)},Kwe=[Wt.nilChar,Wt.nilPremitive,Wt.missingChar,Wt.missingPremitive,Wt.boundryChar,Wt.emptyChar,Wt.emptyValue,Wt.arrayEnd,Wt.objStart,Wt.arrStart],Kf=function(e,t,r){if(typeof t=="string")return e&&e[0]&&e[0].val!==void 0?rS(e[0].val,t):rS(e,t);{let n=Jwe(e);if(n===!0){let i="";if(Array.isArray(t)){i+=Wt.arrStart;let s=t[0],o=e.length;if(typeof s=="string")for(let a=0;a<o;a++){let l=rS(e[a].val,s);i=nS(i,l)}else for(let a=0;a<o;a++){let l=Kf(e[a],s,r);i=nS(i,l)}i+=Wt.arrayEnd}else{i+=Wt.objStart;let s=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let o in s){let a=s[o],l;!r.ignoreAttributes&&e.attrsMap&&e.attrsMap[a]?l=Kf(e.attrsMap[a],t[a],r):a===r.textNodeName?l=Kf(e.val,t[a],r):l=Kf(e.child[a],t[a],r),i=nS(i,l)}}return i}else return n}},rS=function(e){switch(e){case void 0:return Wt.missingPremitive;case null:return Wt.nilPremitive;case"":return Wt.emptyValue;default:return e}},nS=function(e,t){return!MB(t[0])&&!MB(e[e.length-1])&&(e+=Wt.boundryChar),e+t},MB=function(e){return Kwe.indexOf(e)!==-1};function Jwe(e){return e===void 0?Wt.missingChar:e===null?Wt.nilChar:e.child&&Object.keys(e.child).length===0&&(!e.attrsMap||Object.keys(e.attrsMap).length===0)?Wt.emptyChar:!0}var BB=Wf(),Ywe=ji().buildOptions,Xwe=function(e,t,r){return r=Ywe(r,BB.defaultOptions,BB.props),Kf(e,t,r)};zB.convert2nimn=Xwe});var GB=w(VB=>{"use strict";var Tg=ji(),Qwe=ji().buildOptions,UB=Wf(),Zwe=function(e,t){return t=Qwe(t,UB.defaultOptions,UB.props),t.indentBy=t.indentBy||"",iS(e,t,0)},iS=function(e,t,r){let n="{",i=Object.keys(e.child);for(let s=0;s<i.length;s++){let o=i[s];if(e.child[o]&&e.child[o].length>1){n+='"'+o+'" : [ ';for(let a in e.child[o])n+=iS(e.child[o][a],t)+" , ";n=n.substr(0,n.length-1)+" ] "}else n+='"'+o+'" : '+iS(e.child[o][0],t)+" ,"}return Tg.merge(n,e.attrsMap),Tg.isEmptyObject(n)?Tg.isExist(e.val)?e.val:"":(Tg.isExist(e.val)&&(typeof e.val=="string"&&(e.val===""||e.val===t.cdataPositionChar)||(n+='"'+t.textNodeName+'" : '+e_e(e.val))),n[n.length-1]===","&&(n=n.substr(0,n.length-2)),n+"}")};function e_e(e){return e===!0||e===!1||!isNaN(e)?e:'"'+e+'"'}VB.convertToJsonString=Zwe});var YB=w((zIe,JB)=>{"use strict";var t_e=ji().buildOptions,r_e={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},n_e=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function sS(e){this.options=t_e(e,r_e,n_e),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=u_e),this.options.cdataTagName?this.isCDATA=f_e:this.isCDATA=function(){return!1},this.replaceCDATAstr=s_e,this.replaceCDATAarr=o_e,this.processTextOrObjNode=i_e,this.options.format?(this.indentate=c_e,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=l_e,this.buildObjNode=a_e):(this.buildTextNode=KB,this.buildObjNode=WB),this.buildTextValNode=KB,this.buildObjectNode=WB}sS.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val};sS.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(!(typeof e[i]>"u"))if(e[i]===null)n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextNode(e[i],i,"",t);else if(typeof e[i]!="object"){let s=this.isAttribute(i);s?r+=" "+s+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?n+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):n+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(n+=this.options.tagValueProcessor(""+e[i])):n+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))n+=this.indentate(t),e[this.options.textNodeName]?n+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):n+=this.replaceCDATAarr("",e[i]);else{let s=e[i].length;for(let o=0;o<s;o++){let a=e[i][o];typeof a>"u"||(a===null?n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,i,t):n+=this.buildTextNode(a,i,"",t))}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){let s=Object.keys(e[i]),o=s.length;for(let a=0;a<o;a++)r+=" "+s[a]+'="'+this.options.attrValueProcessor(""+e[i][s[a]])+'"'}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}};function i_e(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextNode(n.val,t,n.attrStr,r):this.buildObjNode(n.val,t,n.attrStr,r)}function s_e(e,t){return e=this.options.tagValueProcessor(""+e),this.options.cdataPositionChar===""||e===""?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function o_e(e,t){if(e=this.options.tagValueProcessor(""+e),this.options.cdataPositionChar===""||e==="")return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let r in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[r]+"]]>");return e+this.newLine}function WB(e,t,r,n){return r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+">"+e+"</"+t+this.tagEndChar:this.indentate(n)+"<"+t+r+this.tagEndChar+e+this.indentate(n)+"</"+t+this.tagEndChar}function a_e(e,t,r,n){return e!==""?this.buildObjectNode(e,t,r,n):this.indentate(n)+"<"+t+r+"/"+this.tagEndChar}function KB(e,t,r,n){return this.indentate(n)+"<"+t+r+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function l_e(e,t,r,n){return e!==""?this.buildTextValNode(e,t,r,n):this.indentate(n)+"<"+t+r+"/"+this.tagEndChar}function c_e(e){return this.options.indentBy.repeat(e)}function u_e(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}function f_e(e){return e===this.options.cdataTagName}JB.exports=sS});var tz=w(ci=>{"use strict";var QB=TB(),ZB=Wf(),XB=Wf(),d_e=ji().buildOptions,ez=FB();ci.parse=function(e,t={},r){if(r){r===!0&&(r={});let s=ez.validate(e,r);if(s!==!0)throw Error(s.err.msg)}t.parseTrueNumberOnly&&t.parseNodeValue!==!1&&!t.numParseOptions&&(t.numParseOptions={leadingZeros:!1});let n=d_e(t,XB.defaultOptions,XB.props),i=ZB.getTraversalObj(e,n);return QB.convertToJson(i,n)};ci.convertTonimn=HB().convert2nimn;ci.getTraversalObj=ZB.getTraversalObj;ci.convertToJson=QB.convertToJson;ci.convertToJsonString=GB().convertToJsonString;ci.validate=ez.validate;ci.j2xParser=YB();ci.parseToNimn=function(e,t,r){return ci.convertTonimn(ci.getTraversalObj(e,r),t,r)}});var iz=w((UIe,oS)=>{"use strict";var rz=tz(),nz=e=>{if(e==null||(e=e.toString().trim().replace(/\n/g," "),e.length===0)||rz.validate(e)!==!0)return!1;let t;try{t=rz.parse(e)}catch{return!1}return!(!t||!("svg"in t))};oS.exports=nz;oS.exports.default=nz});var mz=w((uS,fS)=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});function A_e(e){return e.encrypted}var cS=(e,t)=>{let r;typeof t=="function"?r={connect:t}:r=t;let n=typeof r.connect=="function",i=typeof r.secureConnect=="function",s=typeof r.close=="function",o=()=>{n&&r.connect(),A_e(e)&&i&&(e.authorized?r.secureConnect():e.authorizationError||e.once("secureConnect",r.secureConnect)),s&&e.once("close",r.close)};e.writable&&!e.connecting?o():e.connecting?e.once("connect",o):e.destroyed&&s&&r.close(e._hadError)};uS.default=cS;fS.exports=cS;fS.exports.default=cS});var vz=w((s2e,bz)=>{"use strict";var{PassThrough:D_e}=L("stream");bz.exports=e=>{e={...e};let{array:t}=e,{encoding:r}=e,n=r==="buffer",i=!1;t?i=!(r||n):r=r||"utf8",n&&(r=null);let s=new D_e({objectMode:i});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",l=>{a.push(l),i?o=a.length:o+=l.length}),s.getBufferedValue=()=>t?a:n?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var mS=w((o2e,Qf)=>{"use strict";var{constants:L_e}=L("buffer"),F_e=L("stream"),{promisify:M_e}=L("util"),B_e=vz(),z_e=M_e(F_e.pipeline),Ig=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function pS(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:r}=t,n=B_e(t);return await new Promise((i,s)=>{let o=a=>{a&&n.getBufferedLength()<=L_e.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),s(a)};(async()=>{try{await z_e(e,n),i()}catch(a){o(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&o(new Ig)})}),n.getBufferedValue()}Qf.exports=pS;Qf.exports.buffer=(e,t)=>pS(e,{...t,encoding:"buffer"});Qf.exports.array=(e,t)=>pS(e,{...t,array:!0});Qf.exports.MaxBufferError=Ig});var _z=w((l2e,wz)=>{"use strict";var H_e=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),U_e=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),V_e=new Set([500,502,503,504]),G_e={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},W_e={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function ka(e){let t=parseInt(e,10);return isFinite(t)?t:0}function K_e(e){return e?V_e.has(e.status):!0}function gS(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);t[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return t}function J_e(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}wz.exports=class{constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=gS(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=gS(t.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":J_e(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&U_e.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||H_e.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=gS(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)G_e[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return ka(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return ka(this._rescc["s-maxage"])}if(this._rescc["max-age"])return ka(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+ka(this._rescc["stale-if-error"]),n=t+ka(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+ka(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+ka(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&K_e(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let o in this._resHeaders)i[o]=o in r.headers&&!W_e[o]?r.headers[o]:this._resHeaders[o];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Ez=w(yS=>{yS.stringify=function e(t){if(typeof t>"u")return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&typeof t=="object"){var r="",n=Array.isArray(t);r=n?"[":"{";var i=!0;for(var s in t){var o=typeof t[s]=="function"||!n&&typeof t[s]>"u";Object.hasOwnProperty.call(t,s)&&!o&&(i||(r+=","),i=!1,n?t[s]==null?r+="null":r+=e(t[s]):t[s]!==void 0&&(r+=e(s)+":"+e(t[s])))}return r+=n?"]":"}",r}else return typeof t=="string"?JSON.stringify(/^:/.test(t)?":"+t:t):typeof t>"u"?"null":JSON.stringify(t)};yS.parse=function(e){return JSON.parse(e,function(t,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var Tz=w((p2e,Rz)=>{"use strict";var X_e=L("events"),xz=Ez(),Q_e=e=>{let t={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(e.adapter||e.uri){let r=e.adapter||/^[^:+]*/.exec(e.uri)[0];return new(L(t[r]))(e)}return new Map},Sz=["sqlite","postgres","mysql","mongo","redis","tiered"],bS=class extends X_e{constructor(t,{emitErrors:r=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:xz.stringify,deserialize:xz.parse,...typeof t=="string"?{uri:t}:t,...n},!this.opts.store){let s={...this.opts};this.opts.store=Q_e(s)}if(this.opts.compression){let s=this.opts.compression;this.opts.serialize=s.serialize.bind(s),this.opts.deserialize=s.deserialize.bind(s)}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",s=>this.emit("error",s)),this.opts.store.namespace=this.opts.namespace;let i=s=>async function*(){for await(let[o,a]of typeof s=="function"?s(this.opts.store.namespace):s){let l=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof l.expires=="number"&&Date.now()>l.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),l.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=i(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=i(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return Sz.includes(this.opts.store.opts.dialect)||Sz.findIndex(t=>this.opts.store.opts.url.includes(t))>=0}_getKeyPrefix(t){return`${this.opts.namespace}:${t}`}_getKeyPrefixArray(t){return t.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(t){return t.split(":").splice(1).join(":")}get(t,r){let{store:n}=this.opts,i=Array.isArray(t),s=i?this._getKeyPrefixArray(t):this._getKeyPrefix(t);if(i&&n.getMany===void 0){let o=[];for(let a of s)o.push(Promise.resolve().then(()=>n.get(a)).then(l=>typeof l=="string"?this.opts.deserialize(l):this.opts.compression?this.opts.deserialize(l):l).then(l=>{if(l!=null)return typeof l.expires=="number"&&Date.now()>l.expires?this.delete(a).then(()=>{}):r&&r.raw?l:l.value}));return Promise.allSettled(o).then(a=>{let l=[];for(let c of a)l.push(c.value);return l})}return Promise.resolve().then(()=>i?n.getMany(s):n.get(s)).then(o=>typeof o=="string"?this.opts.deserialize(o):this.opts.compression?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(i){let a=[];for(let l of o){if(typeof l=="string"&&(l=this.opts.deserialize(l)),l==null){a.push(void 0);continue}typeof l.expires=="number"&&Date.now()>l.expires?(this.delete(t).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?l:l.value)}return a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(t).then(()=>{}):r&&r.raw?o:o.value}})}set(t,r,n){let i=this._getKeyPrefix(t);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:s}=this.opts;return Promise.resolve().then(()=>{let o=typeof n=="number"?Date.now()+n:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>s.set(i,o,n)).then(()=>!0)}delete(t){let{store:r}=this.opts;if(Array.isArray(t)){let i=this._getKeyPrefixArray(t);if(r.deleteMany===void 0){let s=[];for(let o of i)s.push(r.delete(o));return Promise.allSettled(s).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(i))}let n=this._getKeyPrefix(t);return Promise.resolve().then(()=>r.delete(n))}clear(){let{store:t}=this.opts;return Promise.resolve().then(()=>t.clear())}has(t){let r=this._getKeyPrefix(t),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(r):await n.get(r)!==void 0)}disconnect(){let{store:t}=this.opts;if(typeof t.disconnect=="function")return t.disconnect()}};Rz.exports=bS});var Cz=w((A2e,Oz)=>{"use strict";var aEe=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];Oz.exports=(e,t)=>{if(t._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(e).concat(aEe)),n={};for(let i of r)i in t||(n[i]={get(){let s=e[i];return typeof s=="function"?s.bind(e):s},set(s){e[i]=s},enumerable:!0,configurable:!1});return Object.defineProperties(t,n),e.once("aborted",()=>{t.destroy(),t.emit("aborted")}),e.once("close",()=>{e.complete&&t.readable?t.once("end",()=>{t.emit("close")}):t.emit("close")}),t}});var $z=w((k2e,Iz)=>{"use strict";var{Transform:lEe,PassThrough:cEe}=L("stream"),ES=L("zlib"),uEe=Cz();Iz.exports=e=>{let t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t))return e;let r=t==="br";if(r&&typeof ES.createBrotliDecompress!="function")return e.destroy(new Error("Brotli is not supported on Node.js < 12")),e;let n=!0,i=new lEe({transform(a,l,c){n=!1,c(null,a)},flush(a){a()}}),s=new cEe({autoDestroy:!1,destroy(a,l){e.destroy(),l(a)}}),o=r?ES.createBrotliDecompress():ES.createUnzip();return o.once("error",a=>{if(n&&!e.readable){s.end();return}s.destroy(a)}),uEe(e,s),e.pipe(i).pipe(o).pipe(s),s}});var NS=w((y$e,Kz)=>{"use strict";var $S=class{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,r){if(this.cache.set(t,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,i]of this.oldCache.entries())this.onEviction(n,i);this.oldCache=this.cache,this.cache=new Map}}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){let r=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,r),r}}set(t,r){return this.cache.has(t)?this.cache.set(t,r):this._set(t,r),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){let r=this.cache.delete(t);return r&&this._size--,this.oldCache.delete(t)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache)yield t;for(let t of this.oldCache){let[r]=t;this.cache.has(r)||(yield t)}}get size(){let t=0;for(let r of this.oldCache.keys())this.cache.has(r)||t++;return Math.min(this._size+t,this.maxSize)}};Kz.exports=$S});var jS=w((b$e,Jz)=>{"use strict";Jz.exports=e=>{if(e.listenerCount("error")!==0)return e;e.__destroy=e._destroy,e._destroy=(...r)=>{let n=r.pop();e.__destroy(...r,async i=>{await Promise.resolve(),n(i)})};let t=r=>{Promise.resolve().then(()=>{e.emit("error",r)})};return e.once("error",t),Promise.resolve().then(()=>{e.off("error",t)}),e}});var Ia=w((v$e,tH)=>{"use strict";var{URL:Yz}=L("url"),CEe=L("events"),IEe=L("tls"),$Ee=L("http2"),NEe=NS(),jEe=jS(),Br=Symbol("currentStreamCount"),Xz=Symbol("request"),zr=Symbol("cachedOriginSet"),wo=Symbol("gracefullyClosing"),Bg=Symbol("length"),Qz=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],qEe=(e,t,r)=>{let n=0,i=e.length;for(;n<i;){let s=n+i>>>1;r(e[s],t)?n=s+1:i=s}return n},DEe=(e,t)=>e.remoteSettings.maxConcurrentStreams>t.remoteSettings.maxConcurrentStreams,qS=(e,t)=>{for(let r=0;r<e.length;r++){let n=e[r];n[zr].length>0&&n[zr].length<t[zr].length&&n[zr].every(i=>t[zr].includes(i))&&n[Br]+t[Br]<=t.remoteSettings.maxConcurrentStreams&&eH(n)}},Zz=(e,t)=>{for(let r=0;r<e.length;r++){let n=e[r];if(t[zr].length>0&&t[zr].length<n[zr].length&&t[zr].every(i=>n[zr].includes(i))&&t[Br]+n[Br]<=n.remoteSettings.maxConcurrentStreams)return eH(t),!0}return!1},eH=e=>{e[wo]=!0,e[Br]===0&&e.close()},_o=class extends CEe{constructor({timeout:t=0,maxSessions:r=Number.POSITIVE_INFINITY,maxEmptySessions:n=10,maxCachedTlsSessions:i=100}={}){super(),this.sessions={},this.queue={},this.timeout=t,this.maxSessions=r,this.maxEmptySessions=n,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new NEe({maxSize:i})}get protocol(){return"https:"}normalizeOptions(t){let r="";for(let n=0;n<Qz.length;n++){let i=Qz[n];r+=":",t&&t[i]!==void 0&&(r+=t[i])}return r}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let t in this.queue)for(let r in this.queue[t]){let n=this.queue[t][r];n.completed||(n.completed=!0,n())}}_isBetterSession(t,r){return t>r}_accept(t,r,n,i){let s=0;for(;s<r.length&&t[Br]<t.remoteSettings.maxConcurrentStreams;)r[s].resolve(t),s++;r.splice(0,s),r.length>0&&(this.getSession(n,i,r),r.length=0)}getSession(t,r,n){return new Promise((i,s)=>{Array.isArray(n)&&n.length>0?(n=[...n],i()):n=[{resolve:i,reject:s}];try{if(typeof t=="string")t=new Yz(t);else if(!(t instanceof Yz))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(r){let{servername:u}=r,{hostname:d}=t;if(u&&d!==u)throw new Error(`Origin ${d} differs from servername ${u}`)}}catch(u){for(let d=0;d<n.length;d++)n[d].reject(u);return}let o=this.normalizeOptions(r),a=t.origin;if(o in this.sessions){let u=this.sessions[o],d=-1,h=-1,f;for(let p=0;p<u.length;p++){let m=u[p],v=m.remoteSettings.maxConcurrentStreams;if(v<d)break;if(!m[zr].includes(a))continue;let y=m[Br];y>=v||m[wo]||m.destroyed||(f||(d=v),this._isBetterSession(y,h)&&(f=m,h=y))}if(f){this._accept(f,n,a,r);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...n);return}}else this.queue[o]={[Bg]:0};let l=()=>{o in this.queue&&this.queue[o][a]===c&&(delete this.queue[o][a],--this.queue[o][Bg]===0&&delete this.queue[o])},c=async()=>{this._sessionCount++;let u=`${a}:${o}`,d=!1,h;try{let f={...r};f.settings===void 0&&(f.settings=this.settings),f.session===void 0&&(f.session=this.tlsSessionCache.get(u)),h=await(f.createConnection||this.createConnection).call(this,t,f),f.createConnection=()=>h;let m=$Ee.connect(t,f);m[Br]=0,m[wo]=!1;let v=()=>{let{socket:b}=m,g;return b.servername===!1?(b.servername=b.remoteAddress,g=m.originSet,b.servername=!1):g=m.originSet,g},y=()=>m[Br]<m.remoteSettings.maxConcurrentStreams;m.socket.once("session",b=>{this.tlsSessionCache.set(u,b)}),m.once("error",b=>{for(let g=0;g<n.length;g++)n[g].reject(b);this.tlsSessionCache.delete(u)}),m.setTimeout(this.timeout,()=>{m.destroy()}),m.once("close",()=>{if(this._sessionCount--,d){this._emptySessionCount--;let b=this.sessions[o];b.length===1?delete this.sessions[o]:b.splice(b.indexOf(m),1)}else{l();let b=new Error("Session closed without receiving a SETTINGS frame");b.code="HTTP2WRAPPER_NOSETTINGS";for(let g=0;g<n.length;g++)n[g].reject(b)}this._processQueue()});let E=()=>{let b=this.queue[o];if(!b)return;let g=m[zr];for(let P=0;P<g.length;P++){let O=g[P];if(O in b){let{listeners:R,completed:C}=b[O],q=0;for(;q<R.length&&y();)R[q].resolve(m),q++;if(b[O].listeners.splice(0,q),b[O].listeners.length===0&&!C&&(delete b[O],--b[Bg]===0)){delete this.queue[o];break}if(!y())break}}};m.on("origin",()=>{m[zr]=v()||[],m[wo]=!1,Zz(this.sessions[o],m),!(m[wo]||!y())&&(E(),y()&&qS(this.sessions[o],m))}),m.once("remoteSettings",()=>{if(c.destroyed){let b=new Error("Agent has been destroyed");for(let g=0;g<n.length;g++)n[g].reject(b);m.destroy();return}if(m.setLocalWindowSize&&m.setLocalWindowSize(1024*1024*4),m[zr]=v()||[],m.socket.encrypted){let b=m[zr][0];if(b!==a){let g=new Error(`Requested origin ${a} does not match server ${b}`);for(let P=0;P<n.length;P++)n[P].reject(g);m.destroy();return}}l();{let b=this.sessions;if(o in b){let g=b[o];g.splice(qEe(g,m,DEe),0,m)}else b[o]=[m]}d=!0,this._emptySessionCount++,this.emit("session",m),this._accept(m,n,a,r),m[Br]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),m.on("remoteSettings",()=>{y()&&(E(),y()&&qS(this.sessions[o],m))})}),m[Xz]=m.request,m.request=(b,g)=>{if(m[wo])throw new Error("The session is gracefully closing. No new streams are allowed.");let P=m[Xz](b,g);return m.ref(),m[Br]++===0&&this._emptySessionCount--,P.once("close",()=>{if(--m[Br]===0&&(this._emptySessionCount++,m.unref(),this._emptySessionCount>this.maxEmptySessions||m[wo])){m.close();return}m.destroyed||m.closed||y()&&!Zz(this.sessions[o],m)&&(qS(this.sessions[o],m),E(),m[Br]===0&&this._processQueue())}),P}}catch(f){l(),this._sessionCount--;for(let p=0;p<n.length;p++)n[p].reject(f)}};c.listeners=n,c.completed=!1,c.destroyed=!1,this.queue[o][a]=c,this.queue[o][Bg]++,this._processQueue()})}request(t,r,n,i){return new Promise((s,o)=>{this.getSession(t,r,[{reject:o,resolve:a=>{try{let l=a.request(n,i);jEe(l),s(l)}catch(l){o(l)}}}])})}async createConnection(t,r){return _o.connect(t,r)}static connect(t,r){r.ALPNProtocols=["h2"];let n=t.port||443,i=t.hostname;typeof r.servername>"u"&&(r.servername=i);let s=IEe.connect(n,i,r);return r.socket&&(s._peername={family:void 0,address:void 0,port:n}),s}closeEmptySessions(t=Number.POSITIVE_INFINITY){let r=0,{sessions:n}=this;for(let i in n){let s=n[i];for(let o=0;o<s.length;o++){let a=s[o];if(a[Br]===0&&(r++,a.close(),r>=t))return r}}return r}destroy(t){let{sessions:r,queue:n}=this;for(let i in r){let s=r[i];for(let o=0;o<s.length;o++)s[o].destroy(t)}for(let i in n){let s=n[i];for(let o in s)s[o].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};_o.kCurrentStreamCount=Br;_o.kGracefullyClosing=wo;tH.exports={Agent:_o,globalAgent:new _o}});var LS=w((w$e,rH)=>{"use strict";var{Readable:LEe}=L("stream"),DS=class extends LEe{constructor(t,r){super({emitClose:!1,autoDestroy:!0,highWaterMark:r}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=t,this._dumped=!1}get connection(){return this.socket}set connection(t){this.socket=t}_destroy(t,r){this.readableEnded||(this.aborted=!0),r(),this.req._request.destroy(t)}setTimeout(t,r){return this.req.setTimeout(t,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};rH.exports=DS});var iH=w((_$e,nH)=>{"use strict";nH.exports=(e,t,r)=>{for(let n of r)e.on(n,(...i)=>t.emit(n,...i))}});var ud=w((x$e,sH)=>{"use strict";var $a=(e,t,r)=>{sH.exports[t]=class extends e{constructor(...i){super(typeof r=="string"?r:r(i)),this.name=`${super.name} [${t}]`,this.code=t}}};$a(TypeError,"ERR_INVALID_ARG_TYPE",e=>{let t=e[0].includes(".")?"property":"argument",r=e[1],n=Array.isArray(r);return n&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${e[0]}" ${t} must be ${n?"one of":"of"} type ${r}. Received ${typeof e[2]}`});$a(TypeError,"ERR_INVALID_PROTOCOL",e=>`Protocol "${e[0]}" not supported. Expected "${e[1]}"`);$a(Error,"ERR_HTTP_HEADERS_SENT",e=>`Cannot ${e[0]} headers after they are sent to the client`);$a(TypeError,"ERR_INVALID_HTTP_TOKEN",e=>`${e[0]} must be a valid HTTP token [${e[1]}]`);$a(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",e=>`Invalid value "${e[0]} for header "${e[1]}"`);$a(TypeError,"ERR_INVALID_CHAR",e=>`Invalid character in ${e[0]} [${e[1]}]`);$a(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")});var aH=w((S$e,oH)=>{"use strict";oH.exports=e=>{switch(e){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var FS=w((R$e,lH)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:FEe}=ud(),MEe=aH(),BEe=/^[\^`\-\w!#$%&*+.|~]+$/;lH.exports=e=>{if(typeof e!="string"||!BEe.test(e)&&!MEe(e))throw new FEe("Header name",e)}});var MS=w((T$e,cH)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:zEe,ERR_INVALID_CHAR:HEe}=ud(),UEe=/[^\t\u0020-\u007E\u0080-\u00FF]/;cH.exports=(e,t)=>{if(typeof t>"u")throw new zEe(t,e);if(UEe.test(t))throw new HEe("header content",e)}});var dH=w((P$e,fH)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:uH}=ud(),VEe={has(e,t){let r=e.session===void 0?e:e.session.socket;return t in e||t in r},get(e,t){switch(t){case"on":case"once":case"end":case"emit":case"destroy":return e[t].bind(e);case"writable":case"destroyed":return e[t];case"readable":return e.destroyed?!1:e.readable;case"setTimeout":{let{session:r}=e;return r!==void 0?r.setTimeout.bind(r):e.setTimeout.bind(e)}case"write":case"read":case"pause":case"resume":throw new uH;default:{let r=e.session===void 0?e:e.session.socket,n=r[t];return typeof n=="function"?n.bind(r):n}}},getPrototypeOf(e){return e.session!==void 0?Reflect.getPrototypeOf(e.session.socket):Reflect.getPrototypeOf(e)},set(e,t,r){switch(t){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return e[t]=r,!0;case"setTimeout":{let{session:n}=e;return n===void 0?e.setTimeout=r:n.setTimeout=r,!0}case"write":case"read":case"pause":case"resume":throw new uH;default:{let n=e.session===void 0?e:e.session.socket;return n[t]=r,!0}}}};fH.exports=VEe});var US=w((A$e,bH)=>{"use strict";var{URL:BS,urlToHttpOptions:hH}=L("url"),GEe=L("http2"),{Writable:WEe}=L("stream"),{Agent:KEe,globalAgent:JEe}=Ia(),YEe=LS(),XEe=iH(),{ERR_INVALID_ARG_TYPE:zg,ERR_INVALID_PROTOCOL:QEe,ERR_HTTP_HEADERS_SENT:pH}=ud(),ZEe=FS(),exe=MS(),txe=dH(),{HTTP2_HEADER_STATUS:mH,HTTP2_HEADER_METHOD:gH,HTTP2_HEADER_PATH:yH,HTTP2_HEADER_AUTHORITY:fd,HTTP2_METHOD_CONNECT:rxe}=GEe.constants,_r=Symbol("headers"),Sc=Symbol("origin"),dd=Symbol("session"),zS=Symbol("options"),Hg=Symbol("flushedHeaders"),Rc=Symbol("jobs"),hd=Symbol("pendingAgentPromise"),HS=class extends WEe{constructor(t,r,n){if(super({autoDestroy:!1,emitClose:!1}),typeof t=="string"?t=hH(new BS(t)):t instanceof BS?t=hH(t):t={...t},typeof r=="function"||r===void 0?(n=r,r=t):r=Object.assign(t,r),r.h2session){if(this[dd]=r.h2session,this[dd].destroyed)throw new Error("The session has been closed already");this.protocol=this[dd].socket.encrypted?"https:":"http:"}else if(r.agent===!1)this.agent=new KEe({maxEmptySessions:0});else if(typeof r.agent>"u"||r.agent===null)this.agent=JEe;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new zg("options.agent",["http2wrapper.Agent-like Object","undefined","false"],r.agent);if(this.agent&&(this.protocol=this.agent.protocol),r.protocol&&r.protocol!==this.protocol)throw new QEe(r.protocol,this.protocol);r.port||(r.port=r.defaultPort||this.agent&&this.agent.defaultPort||443),r.host=r.hostname||r.host||"localhost",delete r.hostname;let{timeout:i}=r;r.timeout=void 0,this[_r]=Object.create(null),this[Rc]=[],this[hd]=void 0,this.socket=null,this.connection=null,this.method=r.method||"GET",this.method==="CONNECT"&&(r.path==="/"||r.path===void 0)||(this.path=r.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:s}=r;if(s)for(let a in s)this.setHeader(a,s[a]);r.auth&&!("authorization"in this[_r])&&(this[_r].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[zS]=r,this[Sc]=new BS(`${this.protocol}//${r.servername||r.host}:${r.port}`);let o=r._reuseSocket;o&&(r.createConnection=(...a)=>o.destroyed?this.agent.createConnection(...a):o,this.agent.getSession(this[Sc],this[zS]).catch(()=>{})),i&&this.setTimeout(i),n&&this.once("response",n),this[Hg]=!1}get method(){return this[_r][gH]}set method(t){t&&(this[_r][gH]=t.toUpperCase())}get path(){let t=this.method==="CONNECT"?fd:yH;return this[_r][t]}set path(t){if(t){let r=this.method==="CONNECT"?fd:yH;this[_r][r]=t}}get host(){return this[Sc].hostname}set host(t){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(t,r,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let i=()=>this._request.write(t,r,n);this._request?i():this[Rc].push(i)}_final(t){this.flushHeaders();let r=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){t();return}this._request.end(t)};this._request?r():this[Rc].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(t,r){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[hd]}catch(n){this.aborted&&(t=n)}r(t)}async flushHeaders(){if(this[Hg]||this.destroyed)return;this[Hg]=!0;let t=this.method===rxe,r=n=>{if(this._request=n,this.destroyed){n.destroy();return}t||XEe(n,this,["timeout","continue"]),n.once("error",s=>{this.destroy(s)}),n.once("aborted",()=>{let{res:s}=this;s?(s.aborted=!0,s.emit("aborted"),s.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let i=(s,o,a)=>{let l=new YEe(this.socket,n.readableHighWaterMark);this.res=l,l.url=`${this[Sc].origin}${this.path}`,l.req=this,l.statusCode=s[mH],l.headers=s,l.rawHeaders=a,l.once("end",()=>{l.complete=!0,l.socket=null,l.connection=null}),t?(l.upgrade=!0,this.emit("connect",l,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",c=>{!l._dumped&&!l.push(c)&&n.pause()}),n.once("end",()=>{this.aborted||l.push(null)}),this.emit("response",l)||l._dump())};n.once("response",i),n.once("headers",s=>this.emit("information",{statusCode:s[mH]})),n.once("trailers",(s,o,a)=>{let{res:l}=this;if(l===null){i(s,o,a);return}l.trailers=s,l.rawTrailers=a}),n.once("close",()=>{let{aborted:s,res:o}=this;if(o){s&&(o.aborted=!0,o.emit("aborted"),o.destroy());let a=()=>{o.emit("close"),this.destroy(),this.emit("close")};o.readable?o.once("end",a):a();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(n,txe);for(let s of this[Rc])s();this[Rc].length=0,this.emit("socket",this.socket)};if(!(fd in this[_r])&&!t&&(this[_r][fd]=this[Sc].host),this[dd])try{r(this[dd].request(this[_r]))}catch(n){this.destroy(n)}else{this.reusedSocket=!0;try{let n=this.agent.request(this[Sc],this[zS],this[_r]);this[hd]=n,r(await n),this[hd]=!1}catch(n){this[hd]=!1,this.destroy(n)}}}get connection(){return this.socket}set connection(t){this.socket=t}getHeaderNames(){return Object.keys(this[_r])}hasHeader(t){if(typeof t!="string")throw new zg("name","string",t);return Boolean(this[_r][t.toLowerCase()])}getHeader(t){if(typeof t!="string")throw new zg("name","string",t);return this[_r][t.toLowerCase()]}get headersSent(){return this[Hg]}removeHeader(t){if(typeof t!="string")throw new zg("name","string",t);if(this.headersSent)throw new pH("remove");delete this[_r][t.toLowerCase()]}setHeader(t,r){if(this.headersSent)throw new pH("set");ZEe(t),exe(t,r);let n=t.toLowerCase();if(n==="connection"){if(r.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${r}`)}n==="host"&&this.method==="CONNECT"?this[_r][fd]=r:this[_r][n]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(t,r){let n=()=>this._request.setTimeout(t,r);return this._request?n():this[Rc].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(t){}};bH.exports=HS});var wH=w((k$e,vH)=>{"use strict";var nxe=L("tls");vH.exports=(e={},t=nxe.connect)=>new Promise((r,n)=>{let i=!1,s,o=async()=>{await l,s.off("timeout",a),s.off("error",n),e.resolveSocket?(r({alpnProtocol:s.alpnProtocol,socket:s,timeout:i}),i&&(await Promise.resolve(),s.emit("timeout"))):(s.destroy(),r({alpnProtocol:s.alpnProtocol,timeout:i}))},a=async()=>{i=!0,o()},l=(async()=>{try{s=await t(e,o),s.on("error",n),s.once("timeout",a)}catch(c){n(c)}})()})});var EH=w((O$e,_H)=>{"use strict";var{isIP:ixe}=L("net"),sxe=L("assert"),oxe=e=>{if(e[0]==="["){let r=e.indexOf("]");return sxe(r!==-1),e.slice(1,r)}let t=e.indexOf(":");return t===-1?e:e.slice(0,t)};_H.exports=e=>{let t=oxe(e);return ixe(t)?"":t}});var OH=w((C$e,pd)=>{"use strict";var{URL:xH,urlToHttpOptions:SH}=L("url"),RH=L("http"),VS=L("https"),axe=wH(),lxe=NS(),{Agent:cxe,globalAgent:uxe}=Ia(),fxe=US(),dxe=EH(),TH=jS(),PH=new lxe({maxSize:100}),hxe=new Map,pxe=(e,t,r)=>{t._httpMessage={shouldKeepAlive:!0};let n=()=>{e.emit("free",t,r)};t.on("free",n);let i=()=>{e.removeSocket(t,r)};t.on("close",i);let s=()=>{let{freeSockets:a}=e;for(let l of Object.values(a))if(l.includes(t)){t.destroy();return}};t.on("timeout",s);let o=()=>{e.removeSocket(t,r),t.off("close",i),t.off("free",n),t.off("timeout",s),t.off("agentRemove",o)};t.on("agentRemove",o),e.emit("free",t,r)},AH=(e,t=new Map,r=void 0)=>async n=>{let i=`${n.host}:${n.port}:${n.ALPNProtocols.sort()}`;if(!e.has(i)){if(t.has(i))return{alpnProtocol:(await t.get(i)).alpnProtocol};let{path:s}=n;n.path=n.socketPath;let o=axe(n,r);t.set(i,o);try{let a=await o;return e.set(i,a.alpnProtocol),t.delete(i),n.path=s,a}catch(a){throw t.delete(i),n.path=s,a}}return{alpnProtocol:e.get(i)}},kH=AH(PH,hxe);pd.exports=async(e,t,r)=>{if(typeof e=="string"?e=SH(new xH(e)):e instanceof xH?e=SH(e):e={...e},typeof t=="function"||t===void 0?(r=t,t=e):t=Object.assign(e,t),t.ALPNProtocols=t.ALPNProtocols||["h2","http/1.1"],!Array.isArray(t.ALPNProtocols)||t.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");t.protocol=t.protocol||"https:";let n=t.protocol==="https:";t.host=t.hostname||t.host||"localhost",t.session=t.tlsSession,t.servername=t.servername||dxe(t.headers&&t.headers.host||t.host),t.port=t.port||(n?443:80),t._defaultAgent=n?VS.globalAgent:RH.globalAgent;let i=t.resolveProtocol||kH,{agent:s}=t;if(s!==void 0&&s!==!1&&s.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(n){t.resolveSocket=!0;let{socket:o,alpnProtocol:a,timeout:l}=await i(t);if(l){o&&o.destroy();let u=new Error(`Timed out resolving ALPN: ${t.timeout} ms`);throw u.code="ETIMEDOUT",u.ms=t.timeout,u}o&&t.createConnection&&(o.destroy(),o=void 0),delete t.resolveSocket;let c=a==="h2";if(s&&(s=c?s.http2:s.https,t.agent=s),s===void 0&&(s=c?uxe:VS.globalAgent),o)if(s===!1)o.destroy();else{let u=(c?cxe:VS.Agent).prototype.createConnection;s.createConnection===u?c?t._reuseSocket=o:pxe(s,o,t):o.destroy()}if(c)return TH(new fxe(t,r))}else s&&(t.agent=s.http);return TH(RH.request(t,r))};pd.exports.protocolCache=PH;pd.exports.resolveProtocol=kH;pd.exports.createResolveProtocol=AH});var GS=w((I$e,CH)=>{"use strict";var mxe=L("stream"),gxe=L("tls"),yxe=new gxe.TLSSocket(new mxe.PassThrough)._handle._parentWrap.constructor;CH.exports=yxe});var KS=w(($$e,IH)=>{"use strict";var WS=class extends Error{constructor(t,r=""){super(`The proxy server rejected the request with status code ${t} (${r||"empty status message"})`),this.statusCode=t,this.statusMessage=r}};IH.exports=WS});var NH=w((N$e,$H)=>{"use strict";var bxe=(e,t,r)=>{if(!r.some(i=>typeof i==="string"?typeof t===i:t instanceof i)){let i=r.map(s=>typeof s=="string"?s:s.name);throw new TypeError(`Expected '${e}' to be a type of ${i.join(" or ")}, got ${typeof t}`)}};$H.exports=bxe});var JS=w((j$e,qH)=>{"use strict";var{URL:jH}=L("url"),Ug=NH();qH.exports=(e,t)=>{Ug("proxyOptions",t,["object"]),Ug("proxyOptions.headers",t.headers,["object","undefined"]),Ug("proxyOptions.raw",t.raw,["boolean","undefined"]),Ug("proxyOptions.url",t.url,[jH,"string"]);let r=new jH(t.url);e.proxyOptions={raw:!0,...t,headers:{...t.headers},url:r}}});var Vg=w((q$e,DH)=>{"use strict";DH.exports=e=>{let{username:t,password:r}=e.proxyOptions.url;if(t||r){let n=`${t}:${r}`,i=`Basic ${Buffer.from(n).toString("base64")}`;return{"proxy-authorization":i,authorization:i}}return{}}});var zH=w((D$e,BH)=>{"use strict";var vxe=L("tls"),wxe=L("http"),LH=L("https"),_xe=GS(),{globalAgent:Exe}=Ia(),xxe=KS(),FH=JS(),Sxe=Vg(),MH=(e,t,r)=>{(async()=>{try{let{proxyOptions:n}=e,{url:i,headers:s,raw:o}=n,a=await Exe.request(i,n,{...Sxe(e),...s,":method":"CONNECT",":authority":`${t.host}:${t.port}`});a.once("error",r),a.once("response",l=>{let c=l[":status"];if(c!==200){r(new xxe(c,""));return}let u=e instanceof LH.Agent;if(o&&u){t.socket=a;let h=vxe.connect(t);h.once("close",()=>{a.destroy()}),r(null,h);return}let d=new _xe(a);d.encrypted=!1,d._handle.getpeername=h=>{h.family=void 0,h.address=void 0,h.port=void 0},r(null,d)})}catch(n){r(n)}})()},YS=class extends wxe.Agent{constructor(t){super(t),FH(this,t.proxyOptions)}createConnection(t,r){MH(this,t,r)}},XS=class extends LH.Agent{constructor(t){super(t),FH(this,t.proxyOptions)}createConnection(t,r){MH(this,t,r)}};BH.exports={HttpOverHttp2:YS,HttpsOverHttp2:XS}});var ZS=w((L$e,HH)=>{"use strict";var{Agent:Rxe}=Ia(),Txe=GS(),Pxe=KS(),Axe=JS(),QS=class extends Rxe{constructor(t){super(t),Axe(this,t.proxyOptions)}async createConnection(t,r){let n=`${t.hostname}:${t.port||443}`,[i,s,o]=await this._getProxyStream(n);if(s!==200)throw new Pxe(s,o);if(this.proxyOptions.raw)r.socket=i;else{let a=new Txe(i);return a.encrypted=!1,a._handle.getpeername=l=>{l.family=void 0,l.address=void 0,l.port=void 0},a}return super.createConnection(t,r)}};HH.exports=QS});var VH=w((F$e,UH)=>{"use strict";var{globalAgent:kxe}=Ia(),Oxe=ZS(),Cxe=Vg(),Ixe=e=>new Promise((t,r)=>{e.once("error",r),e.once("response",n=>{e.off("error",r),t(n[":status"])})}),eR=class extends Oxe{async _getProxyStream(t){let{proxyOptions:r}=this,n={...Cxe(this),...r.headers,":method":"CONNECT",":authority":t},i=await kxe.request(r.url,r,n),s=await Ixe(i);return[i,s,""]}};UH.exports=eR});var WH=w((M$e,GH)=>{"use strict";var $xe=L("http"),Nxe=L("https"),jxe=ZS(),qxe=Vg(),Dxe=e=>new Promise((t,r)=>{let n=(i,s,o)=>{s.unshift(o),e.off("error",r),t([s,i.statusCode,i.statusMessage])};e.once("error",r),e.once("connect",n)}),Gg=class extends jxe{async _getProxyStream(t){let{proxyOptions:r}=this,{url:n,headers:i}=this.proxyOptions,o=(n.protocol==="https:"?Nxe:$xe).request({...r,hostname:n.hostname,port:n.port,path:t,headers:{...qxe(this),...i,host:t},method:"CONNECT"}).end();return Dxe(o)}};GH.exports={Http2OverHttp:Gg,Http2OverHttps:Gg}});var JH=w((B$e,KH)=>{"use strict";var Lxe=L("http2"),{Agent:Fxe,globalAgent:Mxe}=Ia(),tR=US(),Bxe=LS(),zxe=OH(),{HttpOverHttp2:Hxe,HttpsOverHttp2:Uxe}=zH(),Vxe=VH(),{Http2OverHttp:Gxe,Http2OverHttps:Wxe}=WH(),Kxe=FS(),Jxe=MS(),Yxe=(e,t,r)=>new tR(e,t,r),Xxe=(e,t,r)=>{let n=new tR(e,t,r);return n.end(),n};KH.exports={...Lxe,ClientRequest:tR,IncomingMessage:Bxe,Agent:Fxe,globalAgent:Mxe,request:Yxe,get:Xxe,auto:zxe,proxies:{HttpOverHttp2:Hxe,HttpsOverHttp2:Uxe,Http2OverHttp2:Vxe,Http2OverHttp:Gxe,Http2OverHttps:Wxe},validateHeaderName:Kxe,validateHeaderValue:Jxe}});var oR=w(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.isCorrect=Pc.isInSubnet=void 0;function A1e(e){return this.subnetMask<e.subnetMask?!1:this.mask(e.subnetMask)===e.mask()}Pc.isInSubnet=A1e;function k1e(e){return function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===e&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)}}Pc.isCorrect=k1e});var aR=w(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.RE_SUBNET_STRING=Li.RE_ADDRESS=Li.GROUPS=Li.BITS=void 0;Li.BITS=32;Li.GROUPS=4;Li.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g;Li.RE_SUBNET_STRING=/\/\d{1,2}$/});var lR=w(Ac=>{"use strict";var O1e=Ac&&Ac.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.AddressError=void 0;var C1e=function(e){O1e(t,e);function t(r,n){var i=e.call(this,r)||this;return i.name="AddressError",n!==null&&(i.parseMessage=n),i}return t}(Error);Ac.AddressError=C1e});var ey=w((Zg,cU)=>{(function(){var e,t=0xdeadbeefcafe,r=(t&16777215)==15715070;function n(_,x,S){_!=null&&(typeof _=="number"?this.fromNumber(_,x,S):x==null&&typeof _!="string"?this.fromString(_,256):this.fromString(_,x))}function i(){return new n(null)}function s(_,x,S,j,V,J){for(;--J>=0;){var ie=x*this[_++]+S[j]+V;V=Math.floor(ie/67108864),S[j++]=ie&67108863}return V}function o(_,x,S,j,V,J){for(var ie=x&32767,se=x>>15;--J>=0;){var We=this[_]&32767,qt=this[_++]>>15,Wr=se*We+qt*ie;We=ie*We+((Wr&32767)<<15)+S[j]+(V&1073741823),V=(We>>>30)+(Wr>>>15)+se*qt+(V>>>30),S[j++]=We&1073741823}return V}function a(_,x,S,j,V,J){for(var ie=x&16383,se=x>>14;--J>=0;){var We=this[_]&16383,qt=this[_++]>>14,Wr=se*We+qt*ie;We=ie*We+((Wr&16383)<<14)+S[j]+V,V=(We>>28)+(Wr>>14)+se*qt,S[j++]=We&268435455}return V}var l=typeof navigator<"u";l&&r&&navigator.appName=="Microsoft Internet Explorer"?(n.prototype.am=o,e=30):l&&r&&navigator.appName!="Netscape"?(n.prototype.am=s,e=26):(n.prototype.am=a,e=28),n.prototype.DB=e,n.prototype.DM=(1<<e)-1,n.prototype.DV=1<<e;var c=52;n.prototype.FV=Math.pow(2,c),n.prototype.F1=c-e,n.prototype.F2=2*e-c;var u="0123456789abcdefghijklmnopqrstuvwxyz",d=new Array,h,f;for(h="0".charCodeAt(0),f=0;f<=9;++f)d[h++]=f;for(h="a".charCodeAt(0),f=10;f<36;++f)d[h++]=f;for(h="A".charCodeAt(0),f=10;f<36;++f)d[h++]=f;function p(_){return u.charAt(_)}function m(_,x){var S=d[_.charCodeAt(x)];return S??-1}function v(_){for(var x=this.t-1;x>=0;--x)_[x]=this[x];_.t=this.t,_.s=this.s}function y(_){this.t=1,this.s=_<0?-1:0,_>0?this[0]=_:_<-1?this[0]=_+this.DV:this.t=0}function E(_){var x=i();return x.fromInt(_),x}function b(_,x){var S;if(x==16)S=4;else if(x==8)S=3;else if(x==256)S=8;else if(x==2)S=1;else if(x==32)S=5;else if(x==4)S=2;else{this.fromRadix(_,x);return}this.t=0,this.s=0;for(var j=_.length,V=!1,J=0;--j>=0;){var ie=S==8?_[j]&255:m(_,j);if(ie<0){_.charAt(j)=="-"&&(V=!0);continue}V=!1,J==0?this[this.t++]=ie:J+S>this.DB?(this[this.t-1]|=(ie&(1<<this.DB-J)-1)<<J,this[this.t++]=ie>>this.DB-J):this[this.t-1]|=ie<<J,J+=S,J>=this.DB&&(J-=this.DB)}S==8&&_[0]&128&&(this.s=-1,J>0&&(this[this.t-1]|=(1<<this.DB-J)-1<<J)),this.clamp(),V&&n.ZERO.subTo(this,this)}function g(){for(var _=this.s&this.DM;this.t>0&&this[this.t-1]==_;)--this.t}function P(_){if(this.s<0)return"-"+this.negate().toString(_);var x;if(_==16)x=4;else if(_==8)x=3;else if(_==2)x=1;else if(_==32)x=5;else if(_==4)x=2;else return this.toRadix(_);var S=(1<<x)-1,j,V=!1,J="",ie=this.t,se=this.DB-ie*this.DB%x;if(ie-- >0)for(se<this.DB&&(j=this[ie]>>se)>0&&(V=!0,J=p(j));ie>=0;)se<x?(j=(this[ie]&(1<<se)-1)<<x-se,j|=this[--ie]>>(se+=this.DB-x)):(j=this[ie]>>(se-=x)&S,se<=0&&(se+=this.DB,--ie)),j>0&&(V=!0),V&&(J+=p(j));return V?J:"0"}function O(){var _=i();return n.ZERO.subTo(this,_),_}function R(){return this.s<0?this.negate():this}function C(_){var x=this.s-_.s;if(x!=0)return x;var S=this.t;if(x=S-_.t,x!=0)return this.s<0?-x:x;for(;--S>=0;)if((x=this[S]-_[S])!=0)return x;return 0}function q(_){var x=1,S;return(S=_>>>16)!=0&&(_=S,x+=16),(S=_>>8)!=0&&(_=S,x+=8),(S=_>>4)!=0&&(_=S,x+=4),(S=_>>2)!=0&&(_=S,x+=2),(S=_>>1)!=0&&(_=S,x+=1),x}function F(){return this.t<=0?0:this.DB*(this.t-1)+q(this[this.t-1]^this.s&this.DM)}function D(_,x){var S;for(S=this.t-1;S>=0;--S)x[S+_]=this[S];for(S=_-1;S>=0;--S)x[S]=0;x.t=this.t+_,x.s=this.s}function H(_,x){for(var S=_;S<this.t;++S)x[S-_]=this[S];x.t=Math.max(this.t-_,0),x.s=this.s}function G(_,x){var S=_%this.DB,j=this.DB-S,V=(1<<j)-1,J=Math.floor(_/this.DB),ie=this.s<<S&this.DM,se;for(se=this.t-1;se>=0;--se)x[se+J+1]=this[se]>>j|ie,ie=(this[se]&V)<<S;for(se=J-1;se>=0;--se)x[se]=0;x[J]=ie,x.t=this.t+J+1,x.s=this.s,x.clamp()}function he(_,x){x.s=this.s;var S=Math.floor(_/this.DB);if(S>=this.t){x.t=0;return}var j=_%this.DB,V=this.DB-j,J=(1<<j)-1;x[0]=this[S]>>j;for(var ie=S+1;ie<this.t;++ie)x[ie-S-1]|=(this[ie]&J)<<V,x[ie-S]=this[ie]>>j;j>0&&(x[this.t-S-1]|=(this.s&J)<<V),x.t=this.t-S,x.clamp()}function we(_,x){for(var S=0,j=0,V=Math.min(_.t,this.t);S<V;)j+=this[S]-_[S],x[S++]=j&this.DM,j>>=this.DB;if(_.t<this.t){for(j-=_.s;S<this.t;)j+=this[S],x[S++]=j&this.DM,j>>=this.DB;j+=this.s}else{for(j+=this.s;S<_.t;)j-=_[S],x[S++]=j&this.DM,j>>=this.DB;j-=_.s}x.s=j<0?-1:0,j<-1?x[S++]=this.DV+j:j>0&&(x[S++]=j),x.t=S,x.clamp()}function Z(_,x){var S=this.abs(),j=_.abs(),V=S.t;for(x.t=V+j.t;--V>=0;)x[V]=0;for(V=0;V<j.t;++V)x[V+S.t]=S.am(0,j[V],x,V,0,S.t);x.s=0,x.clamp(),this.s!=_.s&&n.ZERO.subTo(x,x)}function ye(_){for(var x=this.abs(),S=_.t=2*x.t;--S>=0;)_[S]=0;for(S=0;S<x.t-1;++S){var j=x.am(S,x[S],_,2*S,0,1);(_[S+x.t]+=x.am(S+1,2*x[S],_,2*S+1,j,x.t-S-1))>=x.DV&&(_[S+x.t]-=x.DV,_[S+x.t+1]=1)}_.t>0&&(_[_.t-1]+=x.am(S,x[S],_,2*S,0,1)),_.s=0,_.clamp()}function Ge(_,x,S){var j=_.abs();if(!(j.t<=0)){var V=this.abs();if(V.t<j.t){x?.fromInt(0),S!=null&&this.copyTo(S);return}S==null&&(S=i());var J=i(),ie=this.s,se=_.s,We=this.DB-q(j[j.t-1]);We>0?(j.lShiftTo(We,J),V.lShiftTo(We,S)):(j.copyTo(J),V.copyTo(S));var qt=J.t,Wr=J[qt-1];if(Wr!=0){var $r=Wr*(1<<this.F1)+(qt>1?J[qt-2]>>this.F2:0),Un=this.FV/$r,Cc=(1<<this.F1)/$r,Sn=1<<this.F2,Rn=S.t,Ic=Rn-qt,Wi=x??i();for(J.dlShiftTo(Ic,Wi),S.compareTo(Wi)>=0&&(S[S.t++]=1,S.subTo(Wi,S)),n.ONE.dlShiftTo(qt,Wi),Wi.subTo(J,J);J.t<qt;)J[J.t++]=0;for(;--Ic>=0;){var Od=S[--Rn]==Wr?this.DM:Math.floor(S[Rn]*Un+(S[Rn-1]+Sn)*Cc);if((S[Rn]+=J.am(0,Od,S,Ic,0,qt))<Od)for(J.dlShiftTo(Ic,Wi),S.subTo(Wi,S);S[Rn]<--Od;)S.subTo(Wi,S)}x!=null&&(S.drShiftTo(qt,x),ie!=se&&n.ZERO.subTo(x,x)),S.t=qt,S.clamp(),We>0&&S.rShiftTo(We,S),ie<0&&n.ZERO.subTo(S,S)}}}function re(_){var x=i();return this.abs().divRemTo(_,null,x),this.s<0&&x.compareTo(n.ZERO)>0&&_.subTo(x,x),x}function Be(_){this.m=_}function Mt(_){return _.s<0||_.compareTo(this.m)>=0?_.mod(this.m):_}function Oe(_){return _}function Tr(_){_.divRemTo(this.m,null,_)}function Jt(_,x,S){_.multiplyTo(x,S),this.reduce(S)}function De(_,x){_.squareTo(x),this.reduce(x)}Be.prototype.convert=Mt,Be.prototype.revert=Oe,Be.prototype.reduce=Tr,Be.prototype.mulTo=Jt,Be.prototype.sqrTo=De;function be(){if(this.t<1)return 0;var _=this[0];if(!(_&1))return 0;var x=_&3;return x=x*(2-(_&15)*x)&15,x=x*(2-(_&255)*x)&255,x=x*(2-((_&65535)*x&65535))&65535,x=x*(2-_*x%this.DV)%this.DV,x>0?this.DV-x:-x}function rt(_){this.m=_,this.mp=_.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<_.DB-15)-1,this.mt2=2*_.t}function Fe(_){var x=i();return _.abs().dlShiftTo(this.m.t,x),x.divRemTo(this.m,null,x),_.s<0&&x.compareTo(n.ZERO)>0&&this.m.subTo(x,x),x}function U(_){var x=i();return _.copyTo(x),this.reduce(x),x}function X(_){for(;_.t<=this.mt2;)_[_.t++]=0;for(var x=0;x<this.m.t;++x){var S=_[x]&32767,j=S*this.mpl+((S*this.mph+(_[x]>>15)*this.mpl&this.um)<<15)&_.DM;for(S=x+this.m.t,_[S]+=this.m.am(0,j,_,x,0,this.m.t);_[S]>=_.DV;)_[S]-=_.DV,_[++S]++}_.clamp(),_.drShiftTo(this.m.t,_),_.compareTo(this.m)>=0&&_.subTo(this.m,_)}function ee(_,x){_.squareTo(x),this.reduce(x)}function ne(_,x,S){_.multiplyTo(x,S),this.reduce(S)}rt.prototype.convert=Fe,rt.prototype.revert=U,rt.prototype.reduce=X,rt.prototype.mulTo=ne,rt.prototype.sqrTo=ee;function nt(){return(this.t>0?this[0]&1:this.s)==0}function ue(_,x){if(_>4294967295||_<1)return n.ONE;var S=i(),j=i(),V=x.convert(this),J=q(_)-1;for(V.copyTo(S);--J>=0;)if(x.sqrTo(S,j),(_&1<<J)>0)x.mulTo(j,V,S);else{var ie=S;S=j,j=ie}return x.revert(S)}function Qe(_,x){var S;return _<256||x.isEven()?S=new Be(x):S=new rt(x),this.exp(_,S)}n.prototype.copyTo=v,n.prototype.fromInt=y,n.prototype.fromString=b,n.prototype.clamp=g,n.prototype.dlShiftTo=D,n.prototype.drShiftTo=H,n.prototype.lShiftTo=G,n.prototype.rShiftTo=he,n.prototype.subTo=we,n.prototype.multiplyTo=Z,n.prototype.squareTo=ye,n.prototype.divRemTo=Ge,n.prototype.invDigit=be,n.prototype.isEven=nt,n.prototype.exp=ue,n.prototype.toString=P,n.prototype.negate=O,n.prototype.abs=R,n.prototype.compareTo=C,n.prototype.bitLength=F,n.prototype.mod=re,n.prototype.modPowInt=Qe,n.ZERO=E(0),n.ONE=E(1);function wt(){var _=i();return this.copyTo(_),_}function Ze(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function rr(){return this.t==0?this.s:this[0]<<24>>24}function fy(){return this.t==0?this.s:this[0]<<16>>16}function _t(_){return Math.floor(Math.LN2*this.DB/Math.log(_))}function Nt(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function Ed(_){if(_==null&&(_=10),this.signum()==0||_<2||_>36)return"0";var x=this.chunkSize(_),S=Math.pow(_,x),j=E(S),V=i(),J=i(),ie="";for(this.divRemTo(j,V,J);V.signum()>0;)ie=(S+J.intValue()).toString(_).substr(1)+ie,V.divRemTo(j,V,J);return J.intValue().toString(_)+ie}function an(_,x){this.fromInt(0),x==null&&(x=10);for(var S=this.chunkSize(x),j=Math.pow(x,S),V=!1,J=0,ie=0,se=0;se<_.length;++se){var We=m(_,se);if(We<0){_.charAt(se)=="-"&&this.signum()==0&&(V=!0);continue}ie=x*ie+We,++J>=S&&(this.dMultiply(j),this.dAddOffset(ie,0),J=0,ie=0)}J>0&&(this.dMultiply(Math.pow(x,J)),this.dAddOffset(ie,0)),V&&n.ZERO.subTo(this,this)}function Mn(_,x,S){if(typeof x=="number")if(_<2)this.fromInt(1);else for(this.fromNumber(_,S),this.testBit(_-1)||this.bitwiseTo(n.ONE.shiftLeft(_-1),et,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(x);)this.dAddOffset(2,0),this.bitLength()>_&&this.subTo(n.ONE.shiftLeft(_-1),this);else{var j=new Array,V=_&7;j.length=(_>>3)+1,x.nextBytes(j),V>0?j[0]&=(1<<V)-1:j[0]=0,this.fromString(j,256)}}function xo(){var _=this.t,x=new Array;x[0]=this.s;var S=this.DB-_*this.DB%8,j,V=0;if(_-- >0)for(S<this.DB&&(j=this[_]>>S)!=(this.s&this.DM)>>S&&(x[V++]=j|this.s<<this.DB-S);_>=0;)S<8?(j=(this[_]&(1<<S)-1)<<8-S,j|=this[--_]>>(S+=this.DB-8)):(j=this[_]>>(S-=8)&255,S<=0&&(S+=this.DB,--_)),j&128&&(j|=-256),V==0&&(this.s&128)!=(j&128)&&++V,(V>0||j!=this.s)&&(x[V++]=j);return x}function di(_){return this.compareTo(_)==0}function ln(_){return this.compareTo(_)<0?this:_}function So(_){return this.compareTo(_)>0?this:_}function nr(_,x,S){var j,V,J=Math.min(_.t,this.t);for(j=0;j<J;++j)S[j]=x(this[j],_[j]);if(_.t<this.t){for(V=_.s&this.DM,j=J;j<this.t;++j)S[j]=x(this[j],V);S.t=this.t}else{for(V=this.s&this.DM,j=J;j<_.t;++j)S[j]=x(V,_[j]);S.t=_.t}S.s=x(this.s,_.s),S.clamp()}function Fa(_,x){return _&x}function hi(_){var x=i();return this.bitwiseTo(_,Fa,x),x}function et(_,x){return _|x}function Pr(_){var x=i();return this.bitwiseTo(_,et,x),x}function xd(_,x){return _^x}function Ar(_){var x=i();return this.bitwiseTo(_,xd,x),x}function jt(_,x){return _&~x}function dy(_){var x=i();return this.bitwiseTo(_,jt,x),x}function kt(){for(var _=i(),x=0;x<this.t;++x)_[x]=this.DM&~this[x];return _.t=this.t,_.s=~this.s,_}function Bi(_){var x=i();return _<0?this.rShiftTo(-_,x):this.lShiftTo(_,x),x}function hy(_){var x=i();return _<0?this.lShiftTo(-_,x):this.rShiftTo(_,x),x}function cn(_){if(_==0)return-1;var x=0;return _&65535||(_>>=16,x+=16),_&255||(_>>=8,x+=8),_&15||(_>>=4,x+=4),_&3||(_>>=2,x+=2),_&1||++x,x}function kr(){for(var _=0;_<this.t;++_)if(this[_]!=0)return _*this.DB+cn(this[_]);return this.s<0?this.t*this.DB:-1}function Bn(_){for(var x=0;_!=0;)_&=_-1,++x;return x}function pi(){for(var _=0,x=this.s&this.DM,S=0;S<this.t;++S)_+=Bn(this[S]^x);return _}function mi(_){var x=Math.floor(_/this.DB);return x>=this.t?this.s!=0:(this[x]&1<<_%this.DB)!=0}function Ma(_,x){var S=n.ONE.shiftLeft(_);return this.bitwiseTo(S,x,S),S}function En(_){return this.changeBit(_,et)}function Sd(_){return this.changeBit(_,jt)}function py(_){return this.changeBit(_,xd)}function Rd(_,x){for(var S=0,j=0,V=Math.min(_.t,this.t);S<V;)j+=this[S]+_[S],x[S++]=j&this.DM,j>>=this.DB;if(_.t<this.t){for(j+=_.s;S<this.t;)j+=this[S],x[S++]=j&this.DM,j>>=this.DB;j+=this.s}else{for(j+=this.s;S<_.t;)j+=_[S],x[S++]=j&this.DM,j>>=this.DB;j+=_.s}x.s=j<0?-1:0,j>0?x[S++]=j:j<-1&&(x[S++]=this.DV+j),x.t=S,x.clamp()}function my(_){var x=i();return this.addTo(_,x),x}function Td(_){var x=i();return this.subTo(_,x),x}function I(_){var x=i();return this.multiplyTo(_,x),x}function A(){var _=i();return this.squareTo(_),_}function N(_){var x=i();return this.divRemTo(_,x,null),x}function M(_){var x=i();return this.divRemTo(_,null,x),x}function B(_){var x=i(),S=i();return this.divRemTo(_,x,S),new Array(x,S)}function oe(_){this[this.t]=this.am(0,_-1,this,0,0,this.t),++this.t,this.clamp()}function _e(_,x){if(_!=0){for(;this.t<=x;)this[this.t++]=0;for(this[x]+=_;this[x]>=this.DV;)this[x]-=this.DV,++x>=this.t&&(this[this.t++]=0),++this[x]}}function Te(){}function ze(_){return _}function Ot(_,x,S){_.multiplyTo(x,S)}function Ne(_,x){_.squareTo(x)}Te.prototype.convert=ze,Te.prototype.revert=ze,Te.prototype.mulTo=Ot,Te.prototype.sqrTo=Ne;function pt(_){return this.exp(_,new Te)}function Ct(_,x,S){var j=Math.min(this.t+_.t,x);for(S.s=0,S.t=j;j>0;)S[--j]=0;var V;for(V=S.t-this.t;j<V;++j)S[j+this.t]=this.am(0,_[j],S,j,0,this.t);for(V=Math.min(_.t,x);j<V;++j)this.am(0,_[j],S,j,0,x-j);S.clamp()}function ft(_,x,S){--x;var j=S.t=this.t+_.t-x;for(S.s=0;--j>=0;)S[j]=0;for(j=Math.max(x-this.t,0);j<_.t;++j)S[this.t+j-x]=this.am(x-j,_[j],S,0,0,this.t+j-x);S.clamp(),S.drShiftTo(1,S)}function xe(_){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*_.t,this.r2),this.mu=this.r2.divide(_),this.m=_}function mt(_){if(_.s<0||_.t>2*this.m.t)return _.mod(this.m);if(_.compareTo(this.m)<0)return _;var x=i();return _.copyTo(x),this.reduce(x),x}function Ke(_){return _}function zi(_){for(_.drShiftTo(this.m.t-1,this.r2),_.t>this.m.t+1&&(_.t=this.m.t+1,_.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);_.compareTo(this.r2)<0;)_.dAddOffset(1,this.m.t+1);for(_.subTo(this.r2,_);_.compareTo(this.m)>=0;)_.subTo(this.m,_)}function Or(_,x){_.squareTo(x),this.reduce(x)}function Vr(_,x,S){_.multiplyTo(x,S),this.reduce(S)}xe.prototype.convert=mt,xe.prototype.revert=Ke,xe.prototype.reduce=zi,xe.prototype.mulTo=Vr,xe.prototype.sqrTo=Or;function tt(_,x){var S=_.bitLength(),j,V=E(1),J;if(S<=0)return V;S<18?j=1:S<48?j=3:S<144?j=4:S<768?j=5:j=6,S<8?J=new Be(x):x.isEven()?J=new xe(x):J=new rt(x);var ie=new Array,se=3,We=j-1,qt=(1<<j)-1;if(ie[1]=J.convert(this),j>1){var Wr=i();for(J.sqrTo(ie[1],Wr);se<=qt;)ie[se]=i(),J.mulTo(Wr,ie[se-2],ie[se]),se+=2}var $r=_.t-1,Un,Cc=!0,Sn=i(),Rn;for(S=q(_[$r])-1;$r>=0;){for(S>=We?Un=_[$r]>>S-We&qt:(Un=(_[$r]&(1<<S+1)-1)<<We-S,$r>0&&(Un|=_[$r-1]>>this.DB+S-We)),se=j;!(Un&1);)Un>>=1,--se;if((S-=se)<0&&(S+=this.DB,--$r),Cc)ie[Un].copyTo(V),Cc=!1;else{for(;se>1;)J.sqrTo(V,Sn),J.sqrTo(Sn,V),se-=2;se>0?J.sqrTo(V,Sn):(Rn=V,V=Sn,Sn=Rn),J.mulTo(Sn,ie[Un],V)}for(;$r>=0&&!(_[$r]&1<<S);)J.sqrTo(V,Sn),Rn=V,V=Sn,Sn=Rn,--S<0&&(S=this.DB-1,--$r)}return J.revert(V)}function Cr(_){var x=this.s<0?this.negate():this.clone(),S=_.s<0?_.negate():_.clone();if(x.compareTo(S)<0){var j=x;x=S,S=j}var V=x.getLowestSetBit(),J=S.getLowestSetBit();if(J<0)return x;for(V<J&&(J=V),J>0&&(x.rShiftTo(J,x),S.rShiftTo(J,S));x.signum()>0;)(V=x.getLowestSetBit())>0&&x.rShiftTo(V,x),(V=S.getLowestSetBit())>0&&S.rShiftTo(V,S),x.compareTo(S)>=0?(x.subTo(S,x),x.rShiftTo(1,x)):(S.subTo(x,S),S.rShiftTo(1,S));return J>0&&S.lShiftTo(J,S),S}function Gr(_){if(_<=0)return 0;var x=this.DV%_,S=this.s<0?_-1:0;if(this.t>0)if(x==0)S=this[0]%_;else for(var j=this.t-1;j>=0;--j)S=(x*S+this[j])%_;return S}function xn(_){var x=_.isEven();if(this.isEven()&&x||_.signum()==0)return n.ZERO;for(var S=_.clone(),j=this.clone(),V=E(1),J=E(0),ie=E(0),se=E(1);S.signum()!=0;){for(;S.isEven();)S.rShiftTo(1,S),x?((!V.isEven()||!J.isEven())&&(V.addTo(this,V),J.subTo(_,J)),V.rShiftTo(1,V)):J.isEven()||J.subTo(_,J),J.rShiftTo(1,J);for(;j.isEven();)j.rShiftTo(1,j),x?((!ie.isEven()||!se.isEven())&&(ie.addTo(this,ie),se.subTo(_,se)),ie.rShiftTo(1,ie)):se.isEven()||se.subTo(_,se),se.rShiftTo(1,se);S.compareTo(j)>=0?(S.subTo(j,S),x&&V.subTo(ie,V),J.subTo(se,J)):(j.subTo(S,j),x&&ie.subTo(V,ie),se.subTo(J,se))}if(j.compareTo(n.ONE)!=0)return n.ZERO;if(se.compareTo(_)>=0)return se.subtract(_);if(se.signum()<0)se.addTo(_,se);else return se;return se.signum()<0?se.add(_):se}var xt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],zn=(1<<26)/xt[xt.length-1];function Ro(_){var x,S=this.abs();if(S.t==1&&S[0]<=xt[xt.length-1]){for(x=0;x<xt.length;++x)if(S[0]==xt[x])return!0;return!1}if(S.isEven())return!1;for(x=1;x<xt.length;){for(var j=xt[x],V=x+1;V<xt.length&&j<zn;)j*=xt[V++];for(j=S.modInt(j);x<V;)if(j%xt[x++]==0)return!1}return S.millerRabin(_)}function Ba(_){var x=this.subtract(n.ONE),S=x.getLowestSetBit();if(S<=0)return!1;var j=x.shiftRight(S);_=_+1>>1,_>xt.length&&(_=xt.length);for(var V=i(),J=0;J<_;++J){V.fromInt(xt[Math.floor(Math.random()*xt.length)]);var ie=V.modPow(j,this);if(ie.compareTo(n.ONE)!=0&&ie.compareTo(x)!=0){for(var se=1;se++<S&&ie.compareTo(x)!=0;)if(ie=ie.modPowInt(2,this),ie.compareTo(n.ONE)==0)return!1;if(ie.compareTo(x)!=0)return!1}}return!0}n.prototype.chunkSize=_t,n.prototype.toRadix=Ed,n.prototype.fromRadix=an,n.prototype.fromNumber=Mn,n.prototype.bitwiseTo=nr,n.prototype.changeBit=Ma,n.prototype.addTo=Rd,n.prototype.dMultiply=oe,n.prototype.dAddOffset=_e,n.prototype.multiplyLowerTo=Ct,n.prototype.multiplyUpperTo=ft,n.prototype.modInt=Gr,n.prototype.millerRabin=Ba,n.prototype.clone=wt,n.prototype.intValue=Ze,n.prototype.byteValue=rr,n.prototype.shortValue=fy,n.prototype.signum=Nt,n.prototype.toByteArray=xo,n.prototype.equals=di,n.prototype.min=ln,n.prototype.max=So,n.prototype.and=hi,n.prototype.or=Pr,n.prototype.xor=Ar,n.prototype.andNot=dy,n.prototype.not=kt,n.prototype.shiftLeft=Bi,n.prototype.shiftRight=hy,n.prototype.getLowestSetBit=kr,n.prototype.bitCount=pi,n.prototype.testBit=mi,n.prototype.setBit=En,n.prototype.clearBit=Sd,n.prototype.flipBit=py,n.prototype.add=my,n.prototype.subtract=Td,n.prototype.multiply=I,n.prototype.divide=N,n.prototype.remainder=M,n.prototype.divideAndRemainder=B,n.prototype.modPow=tt,n.prototype.modInverse=xn,n.prototype.pow=pt,n.prototype.gcd=Cr,n.prototype.isProbablePrime=Ro,n.prototype.square=A,n.prototype.Barrett=xe;var Hi,Bt,gt;function Hn(_){Bt[gt++]^=_&255,Bt[gt++]^=_>>8&255,Bt[gt++]^=_>>16&255,Bt[gt++]^=_>>24&255,gt>=za&&(gt-=za)}function Ui(){Hn(new Date().getTime())}if(Bt==null){Bt=new Array,gt=0;var Ir;if(typeof window<"u"&&window.crypto){if(window.crypto.getRandomValues){var gi=new Uint8Array(32);for(window.crypto.getRandomValues(gi),Ir=0;Ir<32;++Ir)Bt[gt++]=gi[Ir]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var Pd=window.crypto.random(32);for(Ir=0;Ir<Pd.length;++Ir)Bt[gt++]=Pd.charCodeAt(Ir)&255}}for(;gt<za;)Ir=Math.floor(65536*Math.random()),Bt[gt++]=Ir>>>8,Bt[gt++]=Ir&255;gt=0,Ui()}function gy(){if(Hi==null){for(Ui(),Hi=yy(),Hi.init(Bt),gt=0;gt<Bt.length;++gt)Bt[gt]=0;gt=0}return Hi.next()}function Ad(_){var x;for(x=0;x<_.length;++x)_[x]=gy()}function Vi(){}Vi.prototype.nextBytes=Ad;function Gi(){this.i=0,this.j=0,this.S=new Array}function kd(_){var x,S,j;for(x=0;x<256;++x)this.S[x]=x;for(S=0,x=0;x<256;++x)S=S+this.S[x]+_[x%_.length]&255,j=this.S[x],this.S[x]=this.S[S],this.S[S]=j;this.i=0,this.j=0}function To(){var _;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,_=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=_,this.S[_+this.S[this.i]&255]}Gi.prototype.init=kd,Gi.prototype.next=To;function yy(){return new Gi}var za=256;typeof Zg<"u"?Zg=cU.exports={default:n,BigInteger:n,SecureRandom:Vi}:this.jsbn={BigInteger:n,SecureRandom:Vi}}).call(Zg)});var gd=w(ty=>{(function(){"use strict";var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(o){return n(s(o),arguments)}function r(o,a){return t.apply(null,[o].concat(a||[]))}function n(o,a){var l=1,c=o.length,u,d="",h,f,p,m,v,y,E,b;for(h=0;h<c;h++)if(typeof o[h]=="string")d+=o[h];else if(typeof o[h]=="object"){if(p=o[h],p.keys)for(u=a[l],f=0;f<p.keys.length;f++){if(u==null)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',p.keys[f],p.keys[f-1]));u=u[p.keys[f]]}else p.param_no?u=a[p.param_no]:u=a[l++];if(e.not_type.test(p.type)&&e.not_primitive.test(p.type)&&u instanceof Function&&(u=u()),e.numeric_arg.test(p.type)&&typeof u!="number"&&isNaN(u))throw new TypeError(t("[sprintf] expecting number but found %T",u));switch(e.number.test(p.type)&&(E=u>=0),p.type){case"b":u=parseInt(u,10).toString(2);break;case"c":u=String.fromCharCode(parseInt(u,10));break;case"d":case"i":u=parseInt(u,10);break;case"j":u=JSON.stringify(u,null,p.width?parseInt(p.width):0);break;case"e":u=p.precision?parseFloat(u).toExponential(p.precision):parseFloat(u).toExponential();break;case"f":u=p.precision?parseFloat(u).toFixed(p.precision):parseFloat(u);break;case"g":u=p.precision?String(Number(u.toPrecision(p.precision))):parseFloat(u);break;case"o":u=(parseInt(u,10)>>>0).toString(8);break;case"s":u=String(u),u=p.precision?u.substring(0,p.precision):u;break;case"t":u=String(!!u),u=p.precision?u.substring(0,p.precision):u;break;case"T":u=Object.prototype.toString.call(u).slice(8,-1).toLowerCase(),u=p.precision?u.substring(0,p.precision):u;break;case"u":u=parseInt(u,10)>>>0;break;case"v":u=u.valueOf(),u=p.precision?u.substring(0,p.precision):u;break;case"x":u=(parseInt(u,10)>>>0).toString(16);break;case"X":u=(parseInt(u,10)>>>0).toString(16).toUpperCase();break}e.json.test(p.type)?d+=u:(e.number.test(p.type)&&(!E||p.sign)?(b=E?"+":"-",u=u.toString().replace(e.sign,"")):b="",v=p.pad_char?p.pad_char==="0"?"0":p.pad_char.charAt(1):" ",y=p.width-(b+u).length,m=p.width&&y>0?v.repeat(y):"",d+=p.align?b+u+m:v==="0"?b+m+u:m+b+u)}return d}var i=Object.create(null);function s(o){if(i[o])return i[o];for(var a=o,l,c=[],u=0;a;){if((l=e.text.exec(a))!==null)c.push(l[0]);else if((l=e.modulo.exec(a))!==null)c.push("%");else if((l=e.placeholder.exec(a))!==null){if(l[2]){u|=1;var d=[],h=l[2],f=[];if((f=e.key.exec(h))!==null)for(d.push(f[1]);(h=h.substring(f[0].length))!=="";)if((f=e.key_access.exec(h))!==null)d.push(f[1]);else if((f=e.index_access.exec(h))!==null)d.push(f[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");l[2]=d}else u|=2;if(u===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c.push({placeholder:l[0],param_no:l[1],keys:l[2],sign:l[3],pad_char:l[4],align:l[5],width:l[6],precision:l[7],type:l[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");a=a.substring(l[0].length)}return i[o]=c}typeof ty<"u"&&(ty.sprintf=t,ty.vsprintf=r),typeof window<"u"&&(window.sprintf=t,window.vsprintf=r,typeof define=="function"&&define.amd&&define(function(){return{sprintf:t,vsprintf:r}}))})()});var cR=w(Fi=>{"use strict";var I1e=Fi&&Fi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$1e=Fi&&Fi.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dU=Fi&&Fi.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&I1e(t,e,r);return $1e(t,e),t};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.Address4=void 0;var uU=dU(oR()),ui=dU(aR()),fU=lR(),yd=ey(),bd=gd(),N1e=function(){function e(t){this.groups=ui.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=uU.isCorrect(ui.BITS),this.isInSubnet=uU.isInSubnet,this.address=t;var r=ui.RE_SUBNET_STRING.exec(t);if(r){if(this.parsedSubnet=r[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,this.subnetMask<0||this.subnetMask>ui.BITS)throw new fU.AddressError("Invalid subnet mask.");t=t.replace(ui.RE_SUBNET_STRING,"")}this.addressMinusSuffix=t,this.parsedAddress=this.parse(t)}return e.isValid=function(t){try{return new e(t),!0}catch{return!1}},e.prototype.parse=function(t){var r=t.split(".");if(!t.match(ui.RE_ADDRESS))throw new fU.AddressError("Invalid IPv4 address.");return r},e.prototype.correctForm=function(){return this.parsedAddress.map(function(t){return parseInt(t,10)}).join(".")},e.fromHex=function(t){var r=t.replace(/:/g,"").padStart(8,"0"),n=[],i;for(i=0;i<8;i+=2){var s=r.slice(i,i+2);n.push(parseInt(s,16))}return new e(n.join("."))},e.fromInteger=function(t){return e.fromHex(t.toString(16))},e.prototype.toHex=function(){return this.parsedAddress.map(function(t){return bd.sprintf("%02x",parseInt(t,10))}).join(":")},e.prototype.toArray=function(){return this.parsedAddress.map(function(t){return parseInt(t,10)})},e.prototype.toGroup6=function(){var t=[],r;for(r=0;r<ui.GROUPS;r+=2){var n=bd.sprintf("%02x%02x",parseInt(this.parsedAddress[r],10),parseInt(this.parsedAddress[r+1],10));t.push(bd.sprintf("%x",parseInt(n,16)))}return t.join(":")},e.prototype.bigInteger=function(){return new yd.BigInteger(this.parsedAddress.map(function(t){return bd.sprintf("%02x",parseInt(t,10))}).join(""),16)},e.prototype._startAddress=function(){return new yd.BigInteger(this.mask()+"0".repeat(ui.BITS-this.subnetMask),2)},e.prototype.startAddress=function(){return e.fromBigInteger(this._startAddress())},e.prototype.startAddressExclusive=function(){var t=new yd.BigInteger("1");return e.fromBigInteger(this._startAddress().add(t))},e.prototype._endAddress=function(){return new yd.BigInteger(this.mask()+"1".repeat(ui.BITS-this.subnetMask),2)},e.prototype.endAddress=function(){return e.fromBigInteger(this._endAddress())},e.prototype.endAddressExclusive=function(){var t=new yd.BigInteger("1");return e.fromBigInteger(this._endAddress().subtract(t))},e.fromBigInteger=function(t){return e.fromInteger(parseInt(t.toString(),10))},e.prototype.mask=function(t){return t===void 0&&(t=this.subnetMask),this.getBitsBase2(0,t)},e.prototype.getBitsBase2=function(t,r){return this.binaryZeroPad().slice(t,r)},e.prototype.isMulticast=function(){return this.isInSubnet(new e("224.0.0.0/4"))},e.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(ui.BITS,"0")},e.prototype.groupForV6=function(){var t=this.parsedAddress;return this.address.replace(ui.RE_ADDRESS,bd.sprintf('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',t.slice(0,2).join("."),t.slice(2,4).join(".")))},e}();Fi.Address4=N1e});var uR=w($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.RE_URL_WITH_PORT=$t.RE_URL=$t.RE_ZONE_STRING=$t.RE_SUBNET_STRING=$t.RE_BAD_ADDRESS=$t.RE_BAD_CHARACTERS=$t.TYPES=$t.SCOPES=$t.GROUPS=$t.BITS=void 0;$t.BITS=128;$t.GROUPS=8;$t.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"};$t.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"};$t.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi;$t.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi;$t.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/;$t.RE_ZONE_STRING=/%.*$/;$t.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/);$t.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)});var fR=w(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.simpleGroup=Mi.spanLeadingZeroes=Mi.spanAll=Mi.spanAllZeroes=void 0;var hU=gd();function pU(e){return e.replace(/(0+)/g,'<span class="zero">$1</span>')}Mi.spanAllZeroes=pU;function j1e(e,t){t===void 0&&(t=0);var r=e.split("");return r.map(function(n,i){return hU.sprintf('<span class="digit value-%s position-%d">%s</span>',n,i+t,pU(n))}).join("")}Mi.spanAll=j1e;function mU(e){return e.replace(/^(0+)/,'<span class="zero">$1</span>')}function q1e(e){var t=e.split(":");return t.map(function(r){return mU(r)}).join(":")}Mi.spanLeadingZeroes=q1e;function D1e(e,t){t===void 0&&(t=0);var r=e.split(":");return r.map(function(n,i){return/group-v4/.test(n)?n:hU.sprintf('<span class="hover-group group-%d">%s</span>',i+t,mU(n))})}Mi.simpleGroup=D1e});var gU=w(hr=>{"use strict";var L1e=hr&&hr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),F1e=hr&&hr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),M1e=hr&&hr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&L1e(t,e,r);return F1e(t,e),t};Object.defineProperty(hr,"__esModule",{value:!0});hr.possibleElisions=hr.simpleRegularExpression=hr.ADDRESS_BOUNDARY=hr.padGroup=hr.groupPossibilities=void 0;var B1e=M1e(uR()),kc=gd();function ny(e){return kc.sprintf("(%s)",e.join("|"))}hr.groupPossibilities=ny;function ry(e){return e.length<4?kc.sprintf("0{0,%d}%s",4-e.length,e):e}hr.padGroup=ry;hr.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]";function z1e(e){var t=[];e.forEach(function(n,i){var s=parseInt(n,16);s===0&&t.push(i)});var r=t.map(function(n){return e.map(function(i,s){if(s===n){var o=s===0||s===B1e.GROUPS-1?":":"";return ny([ry(i),o])}return ry(i)}).join(":")});return r.push(e.map(ry).join(":")),ny(r)}hr.simpleRegularExpression=z1e;function H1e(e,t,r){var n=t?"":":",i=r?"":":",s=[];!t&&!r&&s.push("::"),t&&r&&s.push(""),(r&&!t||!r&&t)&&s.push(":"),s.push(kc.sprintf("%s(:0{1,4}){1,%d}",n,e-1)),s.push(kc.sprintf("(0{1,4}:){1,%d}%s",e-1,i)),s.push(kc.sprintf("(0{1,4}:){%d}0{1,4}",e-1));for(var o=1;o<e-1;o++)for(var a=1;a<e-o;a++)s.push(kc.sprintf("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",a,e-a-o-1));return ny(s)}hr.possibleElisions=H1e});var wU=w(Fn=>{"use strict";var U1e=Fn&&Fn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),V1e=Fn&&Fn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sy=Fn&&Fn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&U1e(t,e,r);return V1e(t,e),t},G1e=Fn&&Fn.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.Address6=void 0;var yU=sy(oR()),dR=sy(aR()),ht=sy(uR()),hR=sy(fR()),Na=cR(),ja=gU(),Es=lR(),Hr=ey(),Ur=gd();function iy(e){if(!e)throw new Error("Assertion failed.")}function W1e(e){for(var t=/(\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}function K1e(e){return e=e.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),e=e.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),e}function J1e(e,t){var r=[],n=[],i;for(i=0;i<e.length;i++)i<t[0]?r.push(e[i]):i>t[1]&&n.push(e[i]);return r.concat(["compact"]).concat(n)}function bU(e){return Ur.sprintf("%04x",parseInt(e,16))}function vU(e){return e&255}var Y1e=function(){function e(t,r){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=yU.isInSubnet,this.isCorrect=yU.isCorrect(ht.BITS),r===void 0?this.groups=ht.GROUPS:this.groups=r,this.address=t;var n=ht.RE_SUBNET_STRING.exec(t);if(n){if(this.parsedSubnet=n[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>ht.BITS)throw new Es.AddressError("Invalid subnet mask.");t=t.replace(ht.RE_SUBNET_STRING,"")}else if(/\//.test(t))throw new Es.AddressError("Invalid subnet mask.");var i=ht.RE_ZONE_STRING.exec(t);i&&(this.zone=i[0],t=t.replace(ht.RE_ZONE_STRING,"")),this.addressMinusSuffix=t,this.parsedAddress=this.parse(this.addressMinusSuffix)}return e.isValid=function(t){try{return new e(t),!0}catch{return!1}},e.fromBigInteger=function(t){var r=t.toString(16).padStart(32,"0"),n=[],i;for(i=0;i<ht.GROUPS;i++)n.push(r.slice(i*4,(i+1)*4));return new e(n.join(":"))},e.fromURL=function(t){var r,n=null,i;if(t.indexOf("[")!==-1&&t.indexOf("]:")!==-1){if(i=ht.RE_URL_WITH_PORT.exec(t),i===null)return{error:"failed to parse address with port",address:null,port:null};r=i[1],n=i[2]}else if(t.indexOf("/")!==-1){if(t=t.replace(/^[a-z0-9]+:\/\//,""),i=ht.RE_URL.exec(t),i===null)return{error:"failed to parse address from URL",address:null,port:null};r=i[1]}else r=t;return n?(n=parseInt(n,10),(n<0||n>65536)&&(n=null)):n=null,{address:new e(r),port:n}},e.fromAddress4=function(t){var r=new Na.Address4(t),n=ht.BITS-(dR.BITS-r.subnetMask);return new e("::ffff:"+r.correctForm()+"/"+n)},e.fromArpa=function(t){var r=t.replace(/(\.ip6\.arpa)?\.$/,""),n=7;if(r.length!==63)throw new Es.AddressError("Invalid 'ip6.arpa' form.");for(var i=r.split(".").reverse(),s=n;s>0;s--){var o=s*4;i.splice(o,0,":")}return r=i.join(""),new e(r)},e.prototype.microsoftTranscription=function(){return Ur.sprintf("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))},e.prototype.mask=function(t){return t===void 0&&(t=this.subnetMask),this.getBitsBase2(0,t)},e.prototype.possibleSubnets=function(t){t===void 0&&(t=128);var r=ht.BITS-this.subnetMask,n=Math.abs(t-ht.BITS),i=r-n;return i<0?"0":W1e(new Hr.BigInteger("2",10).pow(i).toString(10))},e.prototype._startAddress=function(){return new Hr.BigInteger(this.mask()+"0".repeat(ht.BITS-this.subnetMask),2)},e.prototype.startAddress=function(){return e.fromBigInteger(this._startAddress())},e.prototype.startAddressExclusive=function(){var t=new Hr.BigInteger("1");return e.fromBigInteger(this._startAddress().add(t))},e.prototype._endAddress=function(){return new Hr.BigInteger(this.mask()+"1".repeat(ht.BITS-this.subnetMask),2)},e.prototype.endAddress=function(){return e.fromBigInteger(this._endAddress())},e.prototype.endAddressExclusive=function(){var t=new Hr.BigInteger("1");return e.fromBigInteger(this._endAddress().subtract(t))},e.prototype.getScope=function(){var t=ht.SCOPES[this.getBits(12,16).intValue()];return this.getType()==="Global unicast"&&t!=="Link local"&&(t="Global"),t||"Unknown"},e.prototype.getType=function(){for(var t=0,r=Object.keys(ht.TYPES);t<r.length;t++){var n=r[t];if(this.isInSubnet(new e(n)))return ht.TYPES[n]}return"Global unicast"},e.prototype.getBits=function(t,r){return new Hr.BigInteger(this.getBitsBase2(t,r),2)},e.prototype.getBitsBase2=function(t,r){return this.binaryZeroPad().slice(t,r)},e.prototype.getBitsBase16=function(t,r){var n=r-t;if(n%4!==0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(t,r).toString(16).padStart(n/4,"0")},e.prototype.getBitsPastSubnet=function(){return this.getBitsBase2(this.subnetMask,ht.BITS)},e.prototype.reverseForm=function(t){t||(t={});var r=Math.floor(this.subnetMask/4),n=this.canonicalForm().replace(/:/g,"").split("").slice(0,r).reverse().join(".");return r>0?t.omitSuffix?n:Ur.sprintf("%s.ip6.arpa.",n):t.omitSuffix?"":"ip6.arpa."},e.prototype.correctForm=function(){var t,r=[],n=0,i=[];for(t=0;t<this.parsedAddress.length;t++){var s=parseInt(this.parsedAddress[t],16);s===0&&n++,s!==0&&n>0&&(n>1&&i.push([t-n,t-1]),n=0)}n>1&&i.push([this.parsedAddress.length-n,this.parsedAddress.length-1]);var o=i.map(function(c){return c[1]-c[0]+1});if(i.length>0){var a=o.indexOf(Math.max.apply(Math,o));r=J1e(this.parsedAddress,i[a])}else r=this.parsedAddress;for(t=0;t<r.length;t++)r[t]!=="compact"&&(r[t]=parseInt(r[t],16).toString(16));var l=r.join(":");return l=l.replace(/^compact$/,"::"),l=l.replace(/^compact|compact$/,":"),l=l.replace(/compact/,""),l},e.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(ht.BITS,"0")},e.prototype.parse4in6=function(t){var r=t.split(":"),n=r.slice(-1)[0],i=n.match(dR.RE_ADDRESS);if(i){this.parsedAddress4=i[0],this.address4=new Na.Address4(this.parsedAddress4);for(var s=0;s<this.address4.groups;s++)if(/^0[0-9]+/.test(this.address4.parsedAddress[s]))throw new Es.AddressError("IPv4 addresses can't have leading zeroes.",t.replace(dR.RE_ADDRESS,this.address4.parsedAddress.map(K1e).join(".")));this.v4=!0,r[r.length-1]=this.address4.toGroup6(),t=r.join(":")}return t},e.prototype.parse=function(t){t=this.parse4in6(t);var r=t.match(ht.RE_BAD_CHARACTERS);if(r)throw new Es.AddressError(Ur.sprintf("Bad character%s detected in address: %s",r.length>1?"s":"",r.join("")),t.replace(ht.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));var n=t.match(ht.RE_BAD_ADDRESS);if(n)throw new Es.AddressError(Ur.sprintf("Address failed regex: %s",n.join("")),t.replace(ht.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));var i=[],s=t.split("::");if(s.length===2){var o=s[0].split(":"),a=s[1].split(":");o.length===1&&o[0]===""&&(o=[]),a.length===1&&a[0]===""&&(a=[]);var l=this.groups-(o.length+a.length);if(!l)throw new Es.AddressError("Error parsing groups");this.elidedGroups=l,this.elisionBegin=o.length,this.elisionEnd=o.length+this.elidedGroups,i=i.concat(o);for(var c=0;c<l;c++)i.push("0");i=i.concat(a)}else if(s.length===1)i=t.split(":"),this.elidedGroups=0;else throw new Es.AddressError("Too many :: groups found");if(i=i.map(function(u){return Ur.sprintf("%x",parseInt(u,16))}),i.length!==this.groups)throw new Es.AddressError("Incorrect number of groups found");return i},e.prototype.canonicalForm=function(){return this.parsedAddress.map(bU).join(":")},e.prototype.decimal=function(){return this.parsedAddress.map(function(t){return Ur.sprintf("%05d",parseInt(t,16))}).join(":")},e.prototype.bigInteger=function(){return new Hr.BigInteger(this.parsedAddress.map(bU).join(""),16)},e.prototype.to4=function(){var t=this.binaryZeroPad().split("");return Na.Address4.fromHex(new Hr.BigInteger(t.slice(96,128).join(""),2).toString(16))},e.prototype.to4in6=function(){var t=this.to4(),r=new e(this.parsedAddress.slice(0,6).join(":"),6),n=r.correctForm(),i="";return/:$/.test(n)||(i=":"),n+i+t.address},e.prototype.inspectTeredo=function(){var t=this.getBitsBase16(0,32),r=this.getBits(80,96).xor(new Hr.BigInteger("ffff",16)).toString(),n=Na.Address4.fromHex(this.getBitsBase16(32,64)),i=Na.Address4.fromHex(this.getBits(96,128).xor(new Hr.BigInteger("ffffffff",16)).toString(16)),s=this.getBits(64,80),o=this.getBitsBase2(64,80),a=s.testBit(15),l=s.testBit(14),c=s.testBit(8),u=s.testBit(9),d=new Hr.BigInteger(o.slice(2,6)+o.slice(8,16),2).toString(10);return{prefix:Ur.sprintf("%s:%s",t.slice(0,4),t.slice(4,8)),server4:n.address,client4:i.address,flags:o,coneNat:a,microsoft:{reserved:l,universalLocal:u,groupIndividual:c,nonce:d},udpPort:r}},e.prototype.inspect6to4=function(){var t=this.getBitsBase16(0,16),r=Na.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:Ur.sprintf("%s",t.slice(0,4)),gateway:r.address}},e.prototype.to6to4=function(){if(!this.is4())return null;var t=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new e(t)},e.prototype.toByteArray=function(){var t=this.bigInteger().toByteArray();return t.length===17&&t[0]===0?t.slice(1):t},e.prototype.toUnsignedByteArray=function(){return this.toByteArray().map(vU)},e.fromByteArray=function(t){return this.fromUnsignedByteArray(t.map(vU))},e.fromUnsignedByteArray=function(t){for(var r=new Hr.BigInteger("256",10),n=new Hr.BigInteger("0",10),i=new Hr.BigInteger("1",10),s=t.length-1;s>=0;s--)n=n.add(i.multiply(new Hr.BigInteger(t[s].toString(10),10))),i=i.multiply(r);return e.fromBigInteger(n)},e.prototype.isCanonical=function(){return this.addressMinusSuffix===this.canonicalForm()},e.prototype.isLinkLocal=function(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"},e.prototype.isMulticast=function(){return this.getType()==="Multicast"},e.prototype.is4=function(){return this.v4},e.prototype.isTeredo=function(){return this.isInSubnet(new e("2001::/32"))},e.prototype.is6to4=function(){return this.isInSubnet(new e("2002::/16"))},e.prototype.isLoopback=function(){return this.getType()==="Loopback"},e.prototype.href=function(t){return t===void 0?t="":t=Ur.sprintf(":%s",t),Ur.sprintf("http://[%s]%s/",this.correctForm(),t)},e.prototype.link=function(t){t||(t={}),t.className===void 0&&(t.className=""),t.prefix===void 0&&(t.prefix="/#address="),t.v4===void 0&&(t.v4=!1);var r=this.correctForm;return t.v4&&(r=this.to4in6),t.className?Ur.sprintf('<a href="%1$s%2$s" class="%3$s">%2$s</a>',t.prefix,r.call(this),t.className):Ur.sprintf('<a href="%1$s%2$s">%2$s</a>',t.prefix,r.call(this))},e.prototype.group=function(){if(this.elidedGroups===0)return hR.simpleGroup(this.address).join(":");iy(typeof this.elidedGroups=="number"),iy(typeof this.elisionBegin=="number");var t=[],r=this.address.split("::"),n=r[0],i=r[1];n.length?t.push.apply(t,hR.simpleGroup(n)):t.push("");for(var s=["hover-group"],o=this.elisionBegin;o<this.elisionBegin+this.elidedGroups;o++)s.push(Ur.sprintf("group-%d",o));return t.push(Ur.sprintf('<span class="%s"></span>',s.join(" "))),i.length?t.push.apply(t,hR.simpleGroup(i,this.elisionEnd)):t.push(""),this.is4()&&(iy(this.address4 instanceof Na.Address4),t.pop(),t.push(this.address4.groupForV6())),t.join(":")},e.prototype.regularExpressionString=function(t){t===void 0&&(t=!1);var r=[],n=new e(this.correctForm());if(n.elidedGroups===0)r.push(ja.simpleRegularExpression(n.parsedAddress));else if(n.elidedGroups===ht.GROUPS)r.push(ja.possibleElisions(ht.GROUPS));else{var i=n.address.split("::");i[0].length&&r.push(ja.simpleRegularExpression(i[0].split(":"))),iy(typeof n.elidedGroups=="number"),r.push(ja.possibleElisions(n.elidedGroups,i[0].length!==0,i[1].length!==0)),i[1].length&&r.push(ja.simpleRegularExpression(i[1].split(":"))),r=[r.join(":")]}return t||(r=G1e(["(?=^|",ja.ADDRESS_BOUNDARY,"|[^\\w\\:])("],r,[")(?=[^\\w\\:]|",ja.ADDRESS_BOUNDARY,"|$)"])),r.join("")},e.prototype.regularExpression=function(t){return t===void 0&&(t=!1),new RegExp(this.regularExpressionString(t),"i")},e}();Fn.Address6=Y1e});var _U=w(on=>{"use strict";var X1e=on&&on.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Q1e=on&&on.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Z1e=on&&on.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&X1e(t,e,r);return Q1e(t,e),t};Object.defineProperty(on,"__esModule",{value:!0});on.v6=on.Address6=on.Address4=void 0;var eSe=cR();Object.defineProperty(on,"Address4",{enumerable:!0,get:function(){return eSe.Address4}});var tSe=wU();Object.defineProperty(on,"Address6",{enumerable:!0,get:function(){return tSe.Address6}});var rSe=Z1e(fR());on.v6={helpers:rSe}});var xU=w((aje,EU)=>{"use strict";var oy=_U(),qa=ey().BigInteger,Da=class{constructor(t){if(typeof t!="string"||!t.match("/"))throw new Error("Invalid CIDR address.");let r=this.constructor.createAddress(t);this.cidr=r.address,this.ipAddressType=r.constructor,this.address=r,this.addressStart=r.startAddress(),this.addressEnd=r.endAddress(),this.addressStart.subnet=this.addressEnd.subnet=this.address.subnet,this.addressStart.subnetMask=this.addressEnd.subnetMask=this.address.subnetMask,this.size=new qa(this.addressEnd.bigInteger().subtract(this.addressStart.bigInteger()).add(new qa("1")).toString())}contains(t){try{return!(t instanceof oy.Address6)&&!(t instanceof oy.Address4)&&(typeof t=="object"?t=this.ipAddressType.fromBigInteger(t):t=this.constructor.createAddress(t)),t.isInSubnet(this.address)}catch{return!1}}start(t){return this.constructor.formatIP(this.addressStart,t)}end(t){return this.constructor.formatIP(this.addressEnd,t)}toString(){return this.cidr}toRange(t){return[this.constructor.formatIP(this.addressStart,t),this.constructor.formatIP(this.addressEnd,t)]}toObject(t){return{start:this.constructor.formatIP(this.addressStart,t),end:this.constructor.formatIP(this.addressEnd,t)}}toArray(t,r){t=t||{};let n=[],i=this.constructor.formatIP(this.addressStart,{type:"bigInteger"}),o=this.constructor.formatIP(this.addressEnd,{type:"bigInteger"}).subtract(i).add(new qa("1")),a=this.getChunkInfo(o,t);return r&&Object.assign(r,a),this.loopInfo(a,l=>{let c=i.add(l),u=this.constructor.formatIP(this.ipAddressType.fromBigInteger(c),t);n.push(u)}),n}loop(t,r,n){r=r||{};let i=[],s=this.constructor.formatIP(this.addressStart,{type:"bigInteger"}),a=this.constructor.formatIP(this.addressEnd,{type:"bigInteger"}).subtract(s).add(new qa("1")),l=this.getChunkInfo(a,r);return n&&Object.assign(n,l),this.loopInfo(l,c=>{let u=s.add(c),d=this.constructor.formatIP(this.ipAddressType.fromBigInteger(u),r);i.push(t(d))}),Promise.all(i)}loopInfo(t,r){let n=t.from;for(;n.compareTo(t.to)<0;)r(n),n=n.add(new qa("1"))}getChunkInfo(t,r){let n=r.from,i=r.limit,s=r.to,o,a=this.constructor.formatIP(this.address,{type:"bigInteger"}),l=c=>typeof c=="string"&&c.match(/:|\./)?this.constructor.formatIP(this.constructor.createAddress(c),{type:"bigInteger"}).subtract(a):typeof c!="object"?new qa(c+""):c;return n=l(n!==void 0?n:0),s!==void 0?(s=l(s),i=s.subtract(n)):i=i!==void 0?l(i):t,o=t.subtract(n),i.compareTo(o)>0&&(i=o),s=n.add(i),{from:n,to:s,limit:i,length:t}}};Da.formatIP=function(e,t){return t=t||{},t.type=="bigInteger"?new qa(e.bigInteger().toString()):t.type=="addressObject"?e:e.addressMinusSuffix};Da.createAddress=function(e){if(typeof e!="string")throw new Error("Invalid IP address.");e.match(/:.\./)&&(e=e.split(":").pop());let t=e.match(":")?oy.Address6:oy.Address4,r=new t(e);if(r.v4&&e.match(":")&&r.address4&&(r=r.address4),r.v4){let n=r.addressMinusSuffix.split(".");for(let i=0;i<n.length;i++){let s=n[i].split("/")[0];if(s[0]=="0"&&s.length>1)throw new Error("Invalid IPv4 address.")}}return r};Da.isValidAddress=function(e){try{return!!this.createAddress(e)}catch{return!1}};Da.isValidCIDR=function(e){if(typeof e!="string"||!e.match("/"))return!1;try{return!!this.createAddress(e)}catch{return!1}};EU.exports=Da});var SU=w(vd=>{(function(){var e,t,r,n,i,s,o,a;a=function(l){var c,u,d,h;return c=(l&255<<24)>>>24,u=(l&255<<16)>>>16,d=(l&255<<8)>>>8,h=l&255,[c,u,d,h].join(".")},o=function(l){var c,u,d,h,f,p;for(c=[],d=h=0;h<=3&&l.length!==0;d=++h){if(d>0){if(l[0]!==".")throw new Error("Invalid IP");l=l.substring(1)}p=t(l),f=p[0],u=p[1],l=l.substring(u),c.push(f)}if(l.length!==0)throw new Error("Invalid IP");switch(c.length){case 1:if(c[0]>4294967295)throw new Error("Invalid IP");return c[0]>>>0;case 2:if(c[0]>255||c[1]>16777215)throw new Error("Invalid IP");return(c[0]<<24|c[1])>>>0;case 3:if(c[0]>255||c[1]>255||c[2]>65535)throw new Error("Invalid IP");return(c[0]<<24|c[1]<<16|c[2])>>>0;case 4:if(c[0]>255||c[1]>255||c[2]>255||c[3]>255)throw new Error("Invalid IP");return(c[0]<<24|c[1]<<16|c[2]<<8|c[3])>>>0;default:throw new Error("Invalid IP")}},r=function(l){return l.charCodeAt(0)},n=r("0"),s=r("a"),i=r("A"),t=function(l){var c,u,d,h,f;for(h=0,c=10,u="9",d=0,l.length>1&&l[d]==="0"&&(l[d+1]==="x"||l[d+1]==="X"?(d+=2,c=16):"0"<=l[d+1]&&l[d+1]<="9"&&(d++,c=8,u="7")),f=d;d<l.length;){if("0"<=l[d]&&l[d]<=u)h=h*c+(r(l[d])-n)>>>0;else if(c===16)if("a"<=l[d]&&l[d]<="f")h=h*c+(10+r(l[d])-s)>>>0;else if("A"<=l[d]&&l[d]<="F")h=h*c+(10+r(l[d])-i)>>>0;else break;else break;if(h>4294967295)throw new Error("too large");d++}if(d===f)throw new Error("empty octet");return[h,d]},e=function(){function l(c,u){var d,h,f,p;if(typeof c!="string")throw new Error("Missing `net' parameter");if(u||(p=c.split("/",2),c=p[0],u=p[1]),u||(u=32),typeof u=="string"&&u.indexOf(".")>-1){try{this.maskLong=o(u)}catch(m){throw d=m,new Error("Invalid mask: "+u)}for(h=f=32;f>=0;h=--f)if(this.maskLong===4294967295<<32-h>>>0){this.bitmask=h;break}}else if(u||u===0)this.bitmask=parseInt(u,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(o(c)&this.maskLong)>>>0}catch(m){throw d=m,new Error("Invalid net address: "+c)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+u);this.size=Math.pow(2,32-this.bitmask),this.base=a(this.netLong),this.mask=a(this.maskLong),this.hostmask=a(~this.maskLong),this.first=this.bitmask<=30?a(this.netLong+1):this.base,this.last=this.bitmask<=30?a(this.netLong+this.size-2):a(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?a(this.netLong+this.size-1):void 0}return l.prototype.contains=function(c){return typeof c=="string"&&(c.indexOf("/")>0||c.split(".").length!==4)&&(c=new l(c)),c instanceof l?this.contains(c.base)&&this.contains(c.broadcast||c.last):(o(c)&this.maskLong)>>>0===(this.netLong&this.maskLong)>>>0},l.prototype.next=function(c){return c==null&&(c=1),new l(a(this.netLong+this.size*c),this.mask)},l.prototype.forEach=function(c){var u,d,h;for(h=o(this.first),d=o(this.last),u=0;h<=d;)c(a(h),h,u),u++,h++},l.prototype.toString=function(){return this.base+"/"+this.bitmask},l}(),vd.ip2long=o,vd.long2ip=a,vd.Netmask=e}).call(vd)});var kU=w((AU,ly)=>{(function(e){"use strict";let t="(0?\\d+|0x[a-f0-9]+)",r={fourOctet:new RegExp(`^${t}\\.${t}\\.${t}\\.${t}$`,"i"),threeOctet:new RegExp(`^${t}\\.${t}\\.${t}$`,"i"),twoOctet:new RegExp(`^${t}\\.${t}$`,"i"),longValue:new RegExp(`^${t}$`,"i")},n=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),s="%[0-9a-z]{1,}",o="(?:[0-9a-f]+::?)+",a={zoneIndex:new RegExp(s,"i"),native:new RegExp(`^(::)?(${o})?([0-9a-f]+)?(::)?(${s})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${t}\\.${t}\\.${t}\\.${t}(${s})?)$`,"i"),transitional:new RegExp(`^((?:${o})|(?:::)(?:${o})?)${t}\\.${t}\\.${t}\\.${t}(${s})?$`,"i")};function l(f,p){if(f.indexOf("::")!==f.lastIndexOf("::"))return null;let m=0,v=-1,y=(f.match(a.zoneIndex)||[])[0],E,b;for(y&&(y=y.substring(1),f=f.replace(/%.+$/,""));(v=f.indexOf(":",v+1))>=0;)m++;if(f.substr(0,2)==="::"&&m--,f.substr(-2,2)==="::"&&m--,m>p)return null;for(b=p-m,E=":";b--;)E+="0:";return f=f.replace("::",E),f[0]===":"&&(f=f.slice(1)),f[f.length-1]===":"&&(f=f.slice(0,-1)),p=function(){let g=f.split(":"),P=[];for(let O=0;O<g.length;O++)P.push(parseInt(g[O],16));return P}(),{parts:p,zoneId:y}}function c(f,p,m,v){if(f.length!==p.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let y=0,E;for(;v>0;){if(E=m-v,E<0&&(E=0),f[y]>>E!==p[y]>>E)return!1;v-=m,y+=1}return!0}function u(f){if(i.test(f))return parseInt(f,16);if(f[0]==="0"&&!isNaN(parseInt(f[1],10))){if(n.test(f))return parseInt(f,8);throw new Error(`ipaddr: cannot parse ${f} as octal`)}return parseInt(f,10)}function d(f,p){for(;f.length<p;)f=`0${f}`;return f}let h={};h.IPv4=function(){function f(p){if(p.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let m,v;for(m=0;m<p.length;m++)if(v=p[m],!(0<=v&&v<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=p}return f.prototype.SpecialRanges={unspecified:[[new f([0,0,0,0]),8]],broadcast:[[new f([255,255,255,255]),32]],multicast:[[new f([224,0,0,0]),4]],linkLocal:[[new f([169,254,0,0]),16]],loopback:[[new f([127,0,0,0]),8]],carrierGradeNat:[[new f([100,64,0,0]),10]],private:[[new f([10,0,0,0]),8],[new f([172,16,0,0]),12],[new f([192,168,0,0]),16]],reserved:[[new f([192,0,0,0]),24],[new f([192,0,2,0]),24],[new f([192,88,99,0]),24],[new f([198,51,100,0]),24],[new f([203,0,113,0]),24],[new f([240,0,0,0]),4]]},f.prototype.kind=function(){return"ipv4"},f.prototype.match=function(p,m){let v;if(m===void 0&&(v=p,p=v[0],m=v[1]),p.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return c(this.octets,p.octets,8,m)},f.prototype.prefixLengthFromSubnetMask=function(){let p=0,m=!1,v={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},y,E,b;for(y=3;y>=0;y-=1)if(E=this.octets[y],E in v){if(b=v[E],m&&b!==0)return null;b!==8&&(m=!0),p+=b}else return null;return 32-p},f.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},f.prototype.toByteArray=function(){return this.octets.slice(0)},f.prototype.toIPv4MappedAddress=function(){return h.IPv6.parse(`::ffff:${this.toString()}`)},f.prototype.toNormalizedString=function(){return this.toString()},f.prototype.toString=function(){return this.octets.join(".")},f}(),h.IPv4.broadcastAddressFromCIDR=function(f){try{let p=this.parseCIDR(f),m=p[0].toByteArray(),v=this.subnetMaskFromPrefixLength(p[1]).toByteArray(),y=[],E=0;for(;E<4;)y.push(parseInt(m[E],10)|parseInt(v[E],10)^255),E++;return new this(y)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},h.IPv4.isIPv4=function(f){return this.parser(f)!==null},h.IPv4.isValid=function(f){try{return new this(this.parser(f)),!0}catch{return!1}},h.IPv4.isValidFourPartDecimal=function(f){return!!(h.IPv4.isValid(f)&&f.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},h.IPv4.networkAddressFromCIDR=function(f){let p,m,v,y,E;try{for(p=this.parseCIDR(f),v=p[0].toByteArray(),E=this.subnetMaskFromPrefixLength(p[1]).toByteArray(),y=[],m=0;m<4;)y.push(parseInt(v[m],10)&parseInt(E[m],10)),m++;return new this(y)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},h.IPv4.parse=function(f){let p=this.parser(f);if(p===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(p)},h.IPv4.parseCIDR=function(f){let p;if(p=f.match(/^(.+)\/(\d+)$/)){let m=parseInt(p[2]);if(m>=0&&m<=32){let v=[this.parse(p[1]),m];return Object.defineProperty(v,"toString",{value:function(){return this.join("/")}}),v}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},h.IPv4.parser=function(f){let p,m,v;if(p=f.match(r.fourOctet))return function(){let y=p.slice(1,6),E=[];for(let b=0;b<y.length;b++)m=y[b],E.push(u(m));return E}();if(p=f.match(r.longValue)){if(v=u(p[1]),v>4294967295||v<0)throw new Error("ipaddr: address outside defined range");return function(){let y=[],E;for(E=0;E<=24;E+=8)y.push(v>>E&255);return y}().reverse()}else return(p=f.match(r.twoOctet))?function(){let y=p.slice(1,4),E=[];if(v=u(y[1]),v>16777215||v<0)throw new Error("ipaddr: address outside defined range");return E.push(u(y[0])),E.push(v>>16&255),E.push(v>>8&255),E.push(v&255),E}():(p=f.match(r.threeOctet))?function(){let y=p.slice(1,5),E=[];if(v=u(y[2]),v>65535||v<0)throw new Error("ipaddr: address outside defined range");return E.push(u(y[0])),E.push(u(y[1])),E.push(v>>8&255),E.push(v&255),E}():null},h.IPv4.subnetMaskFromPrefixLength=function(f){if(f=parseInt(f),f<0||f>32)throw new Error("ipaddr: invalid IPv4 prefix length");let p=[0,0,0,0],m=0,v=Math.floor(f/8);for(;m<v;)p[m]=255,m++;return v<4&&(p[v]=Math.pow(2,f%8)-1<<8-f%8),new this(p)},h.IPv6=function(){function f(p,m){let v,y;if(p.length===16)for(this.parts=[],v=0;v<=14;v+=2)this.parts.push(p[v]<<8|p[v+1]);else if(p.length===8)this.parts=p;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(v=0;v<this.parts.length;v++)if(y=this.parts[v],!(0<=y&&y<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");m&&(this.zoneId=m)}return f.prototype.SpecialRanges={unspecified:[new f([0,0,0,0,0,0,0,0]),128],linkLocal:[new f([65152,0,0,0,0,0,0,0]),10],multicast:[new f([65280,0,0,0,0,0,0,0]),8],loopback:[new f([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new f([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new f([0,0,0,0,0,65535,0,0]),96],rfc6145:[new f([0,0,0,0,65535,0,0,0]),96],rfc6052:[new f([100,65435,0,0,0,0,0,0]),96],"6to4":[new f([8194,0,0,0,0,0,0,0]),16],teredo:[new f([8193,0,0,0,0,0,0,0]),32],reserved:[[new f([8193,3512,0,0,0,0,0,0]),32]]},f.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},f.prototype.kind=function(){return"ipv6"},f.prototype.match=function(p,m){let v;if(m===void 0&&(v=p,p=v[0],m=v[1]),p.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return c(this.parts,p.parts,16,m)},f.prototype.prefixLengthFromSubnetMask=function(){let p=0,m=!1,v={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},y,E;for(let b=7;b>=0;b-=1)if(y=this.parts[b],y in v){if(E=v[y],m&&E!==0)return null;E!==16&&(m=!0),p+=E}else return null;return 128-p},f.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},f.prototype.toByteArray=function(){let p,m=[],v=this.parts;for(let y=0;y<v.length;y++)p=v[y],m.push(p>>8),m.push(p&255);return m},f.prototype.toFixedLengthString=function(){let p=function(){let v=[];for(let y=0;y<this.parts.length;y++)v.push(d(this.parts[y].toString(16),4));return v}.call(this).join(":"),m="";return this.zoneId&&(m=`%${this.zoneId}`),p+m},f.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let p=this.parts.slice(-2),m=p[0],v=p[1];return new h.IPv4([m>>8,m&255,v>>8,v&255])},f.prototype.toNormalizedString=function(){let p=function(){let v=[];for(let y=0;y<this.parts.length;y++)v.push(this.parts[y].toString(16));return v}.call(this).join(":"),m="";return this.zoneId&&(m=`%${this.zoneId}`),p+m},f.prototype.toRFC5952String=function(){let p=/((^|:)(0(:|$)){2,})/g,m=this.toNormalizedString(),v=0,y=-1,E;for(;E=p.exec(m);)E[0].length>y&&(v=E.index,y=E[0].length);return y<0?m:`${m.substring(0,v)}::${m.substring(v+y)}`},f.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},f}(),h.IPv6.broadcastAddressFromCIDR=function(f){try{let p=this.parseCIDR(f),m=p[0].toByteArray(),v=this.subnetMaskFromPrefixLength(p[1]).toByteArray(),y=[],E=0;for(;E<16;)y.push(parseInt(m[E],10)|parseInt(v[E],10)^255),E++;return new this(y)}catch(p){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${p})`)}},h.IPv6.isIPv6=function(f){return this.parser(f)!==null},h.IPv6.isValid=function(f){if(typeof f=="string"&&f.indexOf(":")===-1)return!1;try{let p=this.parser(f);return new this(p.parts,p.zoneId),!0}catch{return!1}},h.IPv6.networkAddressFromCIDR=function(f){let p,m,v,y,E;try{for(p=this.parseCIDR(f),v=p[0].toByteArray(),E=this.subnetMaskFromPrefixLength(p[1]).toByteArray(),y=[],m=0;m<16;)y.push(parseInt(v[m],10)&parseInt(E[m],10)),m++;return new this(y)}catch(b){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${b})`)}},h.IPv6.parse=function(f){let p=this.parser(f);if(p.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(p.parts,p.zoneId)},h.IPv6.parseCIDR=function(f){let p,m,v;if((m=f.match(/^(.+)\/(\d+)$/))&&(p=parseInt(m[2]),p>=0&&p<=128))return v=[this.parse(m[1]),p],Object.defineProperty(v,"toString",{value:function(){return this.join("/")}}),v;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},h.IPv6.parser=function(f){let p,m,v,y,E,b;if(v=f.match(a.deprecatedTransitional))return this.parser(`::ffff:${v[1]}`);if(a.native.test(f))return l(f,8);if((v=f.match(a.transitional))&&(b=v[6]||"",p=l(v[1].slice(0,-1)+b,6),p.parts)){for(E=[parseInt(v[2]),parseInt(v[3]),parseInt(v[4]),parseInt(v[5])],m=0;m<E.length;m++)if(y=E[m],!(0<=y&&y<=255))return null;return p.parts.push(E[0]<<8|E[1]),p.parts.push(E[2]<<8|E[3]),{parts:p.parts,zoneId:p.zoneId}}return null},h.IPv6.subnetMaskFromPrefixLength=function(f){if(f=parseInt(f),f<0||f>128)throw new Error("ipaddr: invalid IPv6 prefix length");let p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=0,v=Math.floor(f/8);for(;m<v;)p[m]=255,m++;return v<16&&(p[v]=Math.pow(2,f%8)-1<<8-f%8),new this(p)},h.fromByteArray=function(f){let p=f.length;if(p===4)return new h.IPv4(f);if(p===16)return new h.IPv6(f);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},h.isValid=function(f){return h.IPv6.isValid(f)||h.IPv4.isValid(f)},h.parse=function(f){if(h.IPv6.isValid(f))return h.IPv6.parse(f);if(h.IPv4.isValid(f))return h.IPv4.parse(f);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},h.parseCIDR=function(f){try{return h.IPv6.parseCIDR(f)}catch{try{return h.IPv4.parseCIDR(f)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},h.process=function(f){let p=this.parse(f);return p.kind()==="ipv6"&&p.isIPv4MappedAddress()?p.toIPv4Address():p},h.subnetMatch=function(f,p,m){let v,y,E,b;m==null&&(m="unicast");for(y in p)if(Object.prototype.hasOwnProperty.call(p,y)){for(E=p[y],E[0]&&!(E[0]instanceof Array)&&(E=[E]),v=0;v<E.length;v++)if(b=E[v],f.kind()===b[0].kind()&&f.match.apply(f,b))return y}return m},typeof ly<"u"&&ly.exports?ly.exports=h:e.ipaddr=h})(AU)});var DU=w((vje,qU)=>{"use strict";var mR=L("https"),gR=L("http"),{URL:jU}=L("url"),yR=class extends gR.Agent{constructor(t){let{proxy:r,proxyRequestOptions:n,...i}=t;super(i),this.proxy=typeof r=="string"?new jU(r):r,this.proxyRequestOptions=n||{}}createConnection(t,r){let n={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${t.host}:${t.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${t.host}:${t.port}`},agent:!1,timeout:t.timeout||0};if(this.proxy.username||this.proxy.password){let s=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");n.headers["proxy-authorization"]=`Basic ${s}`}this.proxy.protocol==="https:"&&(n.servername=this.proxy.hostname);let i=(this.proxy.protocol==="http:"?gR:mR).request(n);i.once("connect",(s,o,a)=>{i.removeAllListeners(),o.removeAllListeners(),s.statusCode===200?r(null,o):(o.destroy(),r(new Error(`Bad response: ${s.statusCode}`),null))}),i.once("timeout",()=>{i.destroy(new Error("Proxy timeout"))}),i.once("error",s=>{i.removeAllListeners(),r(s,null)}),i.end()}},bR=class extends mR.Agent{constructor(t){let{proxy:r,proxyRequestOptions:n,...i}=t;super(i),this.proxy=typeof r=="string"?new jU(r):r,this.proxyRequestOptions=n||{}}createConnection(t,r){let n={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${t.host}:${t.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${t.host}:${t.port}`},agent:!1,timeout:t.timeout||0};if(this.proxy.username||this.proxy.password){let s=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");n.headers["proxy-authorization"]=`Basic ${s}`}this.proxy.protocol==="https:"&&(n.servername=this.proxy.hostname);let i=(this.proxy.protocol==="http:"?gR:mR).request(n);i.once("connect",(s,o,a)=>{if(i.removeAllListeners(),o.removeAllListeners(),s.statusCode===200){let l=super.createConnection({...t,socket:o});r(null,l)}else o.destroy(),r(new Error(`Bad response: ${s.statusCode}`),null)}),i.once("timeout",()=>{i.destroy(new Error("Proxy timeout"))}),i.once("error",s=>{i.removeAllListeners(),r(s,null)}),i.end()}};qU.exports={HttpProxyAgent:yR,HttpsProxyAgent:bR}});var QU=Yt(_R(),1);var XU=Yt(PD(),1);var KU=Yt(O3(),1);import*as _d from"node:fs";import{fileURLToPath as gSe}from"node:url";import{dirname as ySe}from"node:path";var k1=Yt(k5(),1);function O5(){return new Promise((e,t)=>{k1.file((r,n,i,s)=>{if(r)return t(r);e([n,process.env.NODE_ENV==="production"?s:()=>{}])})})}var sg=["image/png","image/gif","image/jpeg","image/webp","image/avif","image/apng","image/bmp","image/tiff","image/x-icon","audio/opus","video/ogg","audio/ogg","application/ogg","video/quicktime","video/mp4","audio/mp4","video/x-m4v","audio/x-m4a","video/3gpp","video/3gpp2","video/mpeg","audio/mpeg","video/webm","audio/webm","audio/aac","audio/x-flac","audio/vnd.wave"];var iB=Yt(W1(),1),yg={quality:85,alphaQuality:95,lossless:!1,nearLossless:!1,smartSubsample:!0,mixed:!0};function bg(e,t,r,n=yg){return pwe((0,iB.default)(e),t,r,n)}function pwe(e,t,r,n=yg){return{data:e.resize(t,r,{fit:"inside",withoutEnlargement:!0}).rotate().webp(n),ext:"webp",type:"image/webp"}}import lz from"node:fs";import yc from"node:fs";var zCe=yc.existsSync,HCe=yc.createReadStream;async function K1(e){return new Promise((t,r)=>{yc.stat(e,(n,i)=>{n?r(n):t(i)})})}async function sB(e){return new Promise((t,r)=>{yc.close(e,n=>{n?r(n):t()})})}async function oB(e,t){return new Promise((r,n)=>{yc.open(e,t,(i,s)=>{i?n(i):r(s)})})}async function J1(e,t,r,n,i){return new Promise((s,o)=>{yc.read(e,t,r,n,i,(a,l,c)=>{a?o(a):s({bytesRead:l,buffer:c})})})}var mwe="End-Of-Stream",Gt=class extends Error{constructor(){super(mwe)}};var JCe=1*1024*1024;import{Buffer as lB}from"node:buffer";var bc=class{constructor(t){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=t||{}}async readToken(t,r=this.position){let n=lB.alloc(t.len);if(await this.readBuffer(n,{position:r})<t.len)throw new Gt;return t.get(n,0)}async peekToken(t,r=this.position){let n=lB.alloc(t.len);if(await this.peekBuffer(n,{position:r})<t.len)throw new Gt;return t.get(n,0)}async readNumber(t){if(await this.readBuffer(this.numBuffer,{length:t.len})<t.len)throw new Gt;return t.get(this.numBuffer,0)}async peekNumber(t){if(await this.peekBuffer(this.numBuffer,{length:t.len})<t.len)throw new Gt;return t.get(this.numBuffer,0)}async ignore(t){if(this.fileInfo.size!==void 0){let r=this.fileInfo.size-this.position;if(t>r)return this.position+=r,r}return this.position+=t,t}async close(){}normalizeOptions(t,r){if(r&&r.position!==void 0&&r.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return r?{mayBeLess:r.mayBeLess===!0,offset:r.offset?r.offset:0,length:r.length?r.length:t.length-(r.offset?r.offset:0),position:r.position?r.position:this.position}:{mayBeLess:!1,offset:0,length:t.length,position:this.position}}};var Y1=class extends bc{constructor(t,r){super(r),this.fd=t}async readBuffer(t,r){let n=this.normalizeOptions(t,r);this.position=n.position;let i=await J1(this.fd,t,n.offset,n.length,n.position);if(this.position+=i.bytesRead,i.bytesRead<n.length&&(!r||!r.mayBeLess))throw new Gt;return i.bytesRead}async peekBuffer(t,r){let n=this.normalizeOptions(t,r),i=await J1(this.fd,t,n.offset,n.length,n.position);if(!n.mayBeLess&&i.bytesRead<n.length)throw new Gt;return i.bytesRead}async close(){return sB(this.fd)}};async function X1(e){let t=await K1(e);if(!t.isFile)throw new Error(`File not a file: ${e}`);let r=await oB(e,"r");return new Y1(r,{path:e,size:t.size})}import{Buffer as Ta}from"node:buffer";var fB=Yt(uB(),1);import{Buffer as wwe}from"node:buffer";function sn(e){return new DataView(e.buffer,e.byteOffset)}var dB={len:1,get(e,t){return sn(e).getUint8(t)},put(e,t,r){return sn(e).setUint8(t,r),t+1}},vg={len:2,get(e,t){return sn(e).getUint16(t,!0)},put(e,t,r){return sn(e).setUint16(t,r,!0),t+2}},wg={len:2,get(e,t){return sn(e).getUint16(t)},put(e,t,r){return sn(e).setUint16(t,r),t+2}};var hB={len:4,get(e,t){return sn(e).getUint32(t,!0)},put(e,t,r){return sn(e).setUint32(t,r,!0),t+4}},pB={len:4,get(e,t){return sn(e).getUint32(t)},put(e,t,r){return sn(e).setUint32(t,r),t+4}};var mB={len:4,get(e,t){return sn(e).getInt32(t)},put(e,t,r){return sn(e).setInt32(t,r),t+4}};var gB={len:8,get(e,t){return sn(e).getBigUint64(t,!0)},put(e,t,r){return sn(e).setBigUint64(t,r,!0),t+8}};var bs=class{constructor(t,r){this.len=t,this.encoding=r}get(t,r){return wwe.from(t).toString(this.encoding,r,r+this.len)}},ys=class{constructor(t){this.len=t}static decode(t,r,n){let i="";for(let s=r;s<n;++s)i+=ys.codePointToString(ys.singleByteDecoder(t[s]));return i}static inRange(t,r,n){return r<=t&&t<=n}static codePointToString(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}static singleByteDecoder(t){if(ys.inRange(t,0,127))return t;let r=ys.windows1252[t-128];if(r===null)throw Error("invaliding encoding");return r}get(t,r=0){return ys.decode(t,r,r+this.len)}};ys.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255];function yB(e){return[...e].map(t=>t.charCodeAt(0))}function bB(e,t=0){let r=Number.parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(r))return!1;let n=8*32;for(let i=t;i<t+148;i++)n+=e[i];for(let i=t+156;i<t+512;i++)n+=e[i];return r===n}var vB={get:(e,t)=>e[t+3]&127|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4};var wB=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet"],_B=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/x-parquet"];var Ewe=4100;function Ni(e,t,r){r={offset:0,...r};for(let[n,i]of t.entries())if(r.mask){if(i!==(r.mask[n]&e[n+r.offset]))return!1}else if(i!==e[n+r.offset])return!1;return!0}async function eS(e){try{return new Z1().parse(e)}catch(t){if(!(t instanceof Gt))throw t}}var Z1=class{check(t,r){return Ni(this.buffer,t,r)}checkString(t,r){return this.check(yB(t),r)}async parse(t){if(this.buffer=Ta.alloc(Ewe),t.fileInfo.size===void 0&&(t.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=t,await t.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await t.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(t);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await t.ignore(6);let r=await t.readToken(vB);return t.position+r>t.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await t.ignore(r),eS(t))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;t.position+30<t.fileInfo.size;){await t.readBuffer(this.buffer,{length:30});let r={compressedSize:this.buffer.readUInt32LE(18),uncompressedSize:this.buffer.readUInt32LE(22),filenameLength:this.buffer.readUInt16LE(26),extraFieldLength:this.buffer.readUInt16LE(28)};if(r.filename=await t.readToken(new bs(r.filenameLength,"utf-8")),await t.ignore(r.extraFieldLength),r.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(r.filename.endsWith(".rels")||r.filename.endsWith(".xml"))switch(r.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(r.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(r.filename.startsWith("3D/")&&r.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(r.filename==="mimetype"&&r.compressedSize===r.uncompressedSize){let n=await t.readToken(new bs(r.compressedSize,"utf-8"));switch(n=n.trim(),n){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}}if(r.compressedSize===0){let n=-1;for(;n<0&&t.position<t.fileInfo.size;)await t.peekBuffer(this.buffer,{mayBeLess:!0}),n=this.buffer.indexOf("504B0304",0,"hex"),await t.ignore(n>=0?n:this.buffer.length)}else await t.ignore(r.compressedSize)}}catch(r){if(!(r instanceof Gt))throw r}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await t.ignore(28);let r=Ta.alloc(8);return await t.readBuffer(r),Ni(r,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:Ni(r,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:Ni(r,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:Ni(r,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:Ni(r,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:Ni(r,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&this.buffer[8]&96){let r=this.buffer.toString("binary",8,12).replace("\0"," ").trim();switch(r){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return r.startsWith("3g")?r.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){await t.ignore(1350);let r=10*1024*1024,n=Ta.alloc(Math.min(r,t.fileInfo.size));return await t.readBuffer(n,{mayBeLess:!0}),n.includes(Ta.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let r=await this.readTiffHeader(!1);if(r)return r}if(this.check([77,77])){let r=await this.readTiffHeader(!0);if(r)return r}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function r(){let a=await t.peekNumber(dB),l=128,c=0;for(;!(a&l)&&l!==0;)++c,l>>=1;let u=Ta.alloc(c+1);return await t.readBuffer(u),u}async function n(){let a=await r(),l=await r();l[0]^=128>>l.length-1;let c=Math.min(6,l.length);return{id:a.readUIntBE(0,a.length),len:l.readUIntBE(l.length-c,c)}}async function i(a){for(;a>0;){let l=await n();if(l.id===17026)return(await t.readToken(new bs(l.len,"utf-8"))).replace(/\00.*$/g,"");await t.ignore(l.len),--a}}let s=await n();switch(await i(s.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let r=this.buffer.toString("binary",2,6);if(r.match("^d*")&&r>=1e3&&r<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await t.ignore(8),await t.readToken(new bs(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.check([137,80,78,71,13,10,26,10])){await t.ignore(8);async function r(){return{length:await t.readToken(mB),type:await t.readToken(new bs(4,"binary"))}}do{let n=await r();if(n.length<0)return;switch(n.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await t.ignore(n.length+4)}}while(t.position+8<t.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function r(){let n=Ta.alloc(16);return await t.readBuffer(n),{id:n,size:Number(await t.readToken(gB))}}for(await t.ignore(30);t.position+24<t.fileInfo.size;){let n=await r(),i=n.size-24;if(Ni(n.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let s=Ta.alloc(16);if(i-=await t.readBuffer(s),Ni(s,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(Ni(s,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await t.ignore(i)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await t.ignore(20),await t.readToken(new bs(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await t.peekBuffer(this.buffer,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0}),this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let r=this.buffer.readUInt32LE(12);if(r>12&&this.buffer.length>=r+16)try{let n=this.buffer.slice(16,r+16).toString();if(JSON.parse(n).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await t.peekBuffer(this.buffer,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0}),bB(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(t){let r=await this.tokenizer.readToken(t?wg:vg);switch(this.tokenizer.ignore(10),r){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"};default:}}async readTiffIFD(t){let r=await this.tokenizer.readToken(t?wg:vg);for(let n=0;n<r;++n){let i=await this.readTiffTag(t);if(i)return i}}async readTiffHeader(t){let r=(t?wg:vg).get(this.buffer,2),n=(t?pB:hB).get(this.buffer,4);if(r===42){if(n>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}return await this.tokenizer.ignore(n),await this.readTiffIFD(t)??{ext:"tif",mime:"image/tiff"}}if(r===43)return{ext:"tif",mime:"image/tiff"}}};var PIe=new Set(wB),AIe=new Set(_B);async function EB(e){let t=await X1(e);try{return await eS(t)}finally{await t.close()}}var cz=Yt(iz(),1);import{promisify as h_e}from"node:util";var sz={mime:"application/octet-stream",ext:null},oz={mime:"image/svg+xml",ext:"svg"};async function uz(e){return(await h_e(lz.stat)(e)).size}async function fz(e){if(await uz(e)===0)return sz;let r=await EB(e);return r?r.mime==="application/xml"&&await az(e)?oz:{mime:r.mime,ext:r.ext}:await az(e)?oz:sz}async function az(e){try{return await uz(e)>1*1024*1024?!1:(0,cz.default)(lz.readFileSync(e))}catch{return!1}}var p_e={"safe-file":sg,"sharp-convertible-image":["image/jpeg","image/png","image/gif","image/apng","image/vnd.mozilla.apng","image/webp","image/avif","image/svg+xml"],"sharp-animation-convertible-image":["image/jpeg","image/png","image/gif","image/webp","image/avif","image/svg+xml"]},aS=(e,t)=>p_e[t].includes(e);var cy=Yt(W1(),1);var vs=class extends Error{constructor(t,r,n){super(t),this.name="StatusError",this.statusCode=r,this.statusMessage=n,this.isClientError=typeof this.statusCode=="number"&&this.statusCode>=400&&this.statusCode<500}};import*as HU from"node:fs";import*as UU from"node:stream";import*as VU from"node:util";var dz=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function m_e(e){return dz.includes(e)}var g_e=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...dz];function y_e(e){return g_e.includes(e)}var b_e=["null","undefined","string","number","bigint","boolean","symbol"];function v_e(e){return b_e.includes(e)}function vc(e){return t=>typeof t===e}var{toString:w_e}=Object.prototype,Jf=e=>{let t=w_e.call(e).slice(8,-1);if(/HTML\w+Element/.test(t)&&k.domElement(e))return"HTMLElement";if(y_e(t))return t},ot=e=>t=>Jf(t)===e;function k(e){if(e===null)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(k.observable(e))return"Observable";if(k.array(e))return"Array";if(k.buffer(e))return"Buffer";let t=Jf(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}k.undefined=vc("undefined");k.string=vc("string");var __e=vc("number");k.number=e=>__e(e)&&!k.nan(e);k.bigint=vc("bigint");k.function_=vc("function");k.null_=e=>e===null;k.class_=e=>k.function_(e)&&e.toString().startsWith("class ");k.boolean=e=>e===!0||e===!1;k.symbol=vc("symbol");k.numericString=e=>k.string(e)&&!k.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e));k.array=(e,t)=>Array.isArray(e)?k.function_(t)?e.every(r=>t(r)):!0:!1;k.buffer=e=>e?.constructor?.isBuffer?.(e)??!1;k.blob=e=>ot("Blob")(e);k.nullOrUndefined=e=>k.null_(e)||k.undefined(e);k.object=e=>!k.null_(e)&&(typeof e=="object"||k.function_(e));k.iterable=e=>k.function_(e?.[Symbol.iterator]);k.asyncIterable=e=>k.function_(e?.[Symbol.asyncIterator]);k.generator=e=>k.iterable(e)&&k.function_(e?.next)&&k.function_(e?.throw);k.asyncGenerator=e=>k.asyncIterable(e)&&k.function_(e.next)&&k.function_(e.throw);k.nativePromise=e=>ot("Promise")(e);var E_e=e=>k.function_(e?.then)&&k.function_(e?.catch);k.promise=e=>k.nativePromise(e)||E_e(e);k.generatorFunction=ot("GeneratorFunction");k.asyncGeneratorFunction=e=>Jf(e)==="AsyncGeneratorFunction";k.asyncFunction=e=>Jf(e)==="AsyncFunction";k.boundFunction=e=>k.function_(e)&&!e.hasOwnProperty("prototype");k.regExp=ot("RegExp");k.date=ot("Date");k.error=ot("Error");k.map=e=>ot("Map")(e);k.set=e=>ot("Set")(e);k.weakMap=e=>ot("WeakMap")(e);k.weakSet=e=>ot("WeakSet")(e);k.weakRef=e=>ot("WeakRef")(e);k.int8Array=ot("Int8Array");k.uint8Array=ot("Uint8Array");k.uint8ClampedArray=ot("Uint8ClampedArray");k.int16Array=ot("Int16Array");k.uint16Array=ot("Uint16Array");k.int32Array=ot("Int32Array");k.uint32Array=ot("Uint32Array");k.float32Array=ot("Float32Array");k.float64Array=ot("Float64Array");k.bigInt64Array=ot("BigInt64Array");k.bigUint64Array=ot("BigUint64Array");k.arrayBuffer=ot("ArrayBuffer");k.sharedArrayBuffer=ot("SharedArrayBuffer");k.dataView=ot("DataView");k.enumCase=(e,t)=>Object.values(t).includes(e);k.directInstanceOf=(e,t)=>Object.getPrototypeOf(e)===t.prototype;k.urlInstance=e=>ot("URL")(e);k.urlString=e=>{if(!k.string(e))return!1;try{return new URL(e),!0}catch{return!1}};k.truthy=e=>Boolean(e);k.falsy=e=>!e;k.nan=e=>Number.isNaN(e);k.primitive=e=>k.null_(e)||v_e(typeof e);k.integer=e=>Number.isInteger(e);k.safeInteger=e=>Number.isSafeInteger(e);k.plainObject=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};k.typedArray=e=>m_e(Jf(e));var x_e=e=>k.safeInteger(e)&&e>=0;k.arrayLike=e=>!k.nullOrUndefined(e)&&!k.function_(e)&&x_e(e.length);k.inRange=(e,t)=>{if(k.number(t))return e>=Math.min(0,t)&&e<=Math.max(t,0);if(k.array(t)&&t.length===2)return e>=Math.min(...t)&&e<=Math.max(...t);throw new TypeError(`Invalid range: ${JSON.stringify(t)}`)};var S_e=1,R_e=["innerHTML","ownerDocument","style","attributes","nodeValue"];k.domElement=e=>k.object(e)&&e.nodeType===S_e&&k.string(e.nodeName)&&!k.plainObject(e)&&R_e.every(t=>t in e);k.observable=e=>e?e===e[Symbol.observable]?.()||e===e["@@observable"]?.():!1;k.nodeStream=e=>k.object(e)&&k.function_(e.pipe)&&!k.observable(e);k.infinite=e=>e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY;var hz=e=>t=>k.integer(t)&&Math.abs(t%2)===e;k.evenInteger=hz(0);k.oddInteger=hz(1);k.emptyArray=e=>k.array(e)&&e.length===0;k.nonEmptyArray=e=>k.array(e)&&e.length>0;k.emptyString=e=>k.string(e)&&e.length===0;var T_e=e=>k.string(e)&&!/\S/.test(e);k.emptyStringOrWhitespace=e=>k.emptyString(e)||T_e(e);k.nonEmptyString=e=>k.string(e)&&e.length>0;k.nonEmptyStringAndNotWhitespace=e=>k.string(e)&&!k.emptyStringOrWhitespace(e);k.emptyObject=e=>k.object(e)&&!k.map(e)&&!k.set(e)&&Object.keys(e).length===0;k.nonEmptyObject=e=>k.object(e)&&!k.map(e)&&!k.set(e)&&Object.keys(e).length>0;k.emptySet=e=>k.set(e)&&e.size===0;k.nonEmptySet=e=>k.set(e)&&e.size>0;k.emptyMap=e=>k.map(e)&&e.size===0;k.nonEmptyMap=e=>k.map(e)&&e.size>0;k.propertyKey=e=>k.any([k.string,k.number,k.symbol],e);k.formData=e=>ot("FormData")(e);k.urlSearchParams=e=>ot("URLSearchParams")(e);var pz=(e,t,r)=>{if(!k.function_(t))throw new TypeError(`Invalid predicate: ${JSON.stringify(t)}`);if(r.length===0)throw new TypeError("Invalid number of values");return e.call(r,t)};k.any=(e,...t)=>(k.array(e)?e:[e]).some(n=>pz(Array.prototype.some,n,t));k.all=(e,...t)=>pz(Array.prototype.every,e,t);var te=(e,t,r,n={})=>{if(!e){let{multipleValues:i}=n,s=i?`received values of types ${[...new Set(r.map(o=>`\`${k(o)}\``))].join(", ")}`:`received value of type \`${k(r)}\``;throw new TypeError(`Expected value which is \`${t}\`, ${s}.`)}},Y={undefined:e=>te(k.undefined(e),"undefined",e),string:e=>te(k.string(e),"string",e),number:e=>te(k.number(e),"number",e),bigint:e=>te(k.bigint(e),"bigint",e),function_:e=>te(k.function_(e),"Function",e),null_:e=>te(k.null_(e),"null",e),class_:e=>te(k.class_(e),"Class",e),boolean:e=>te(k.boolean(e),"boolean",e),symbol:e=>te(k.symbol(e),"symbol",e),numericString:e=>te(k.numericString(e),"string with a number",e),array:(e,t)=>{te(k.array(e),"Array",e),t&&e.forEach(t)},buffer:e=>te(k.buffer(e),"Buffer",e),blob:e=>te(k.blob(e),"Blob",e),nullOrUndefined:e=>te(k.nullOrUndefined(e),"null or undefined",e),object:e=>te(k.object(e),"Object",e),iterable:e=>te(k.iterable(e),"Iterable",e),asyncIterable:e=>te(k.asyncIterable(e),"AsyncIterable",e),generator:e=>te(k.generator(e),"Generator",e),asyncGenerator:e=>te(k.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>te(k.nativePromise(e),"native Promise",e),promise:e=>te(k.promise(e),"Promise",e),generatorFunction:e=>te(k.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>te(k.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>te(k.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>te(k.boundFunction(e),"Function",e),regExp:e=>te(k.regExp(e),"RegExp",e),date:e=>te(k.date(e),"Date",e),error:e=>te(k.error(e),"Error",e),map:e=>te(k.map(e),"Map",e),set:e=>te(k.set(e),"Set",e),weakMap:e=>te(k.weakMap(e),"WeakMap",e),weakSet:e=>te(k.weakSet(e),"WeakSet",e),weakRef:e=>te(k.weakRef(e),"WeakRef",e),int8Array:e=>te(k.int8Array(e),"Int8Array",e),uint8Array:e=>te(k.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>te(k.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>te(k.int16Array(e),"Int16Array",e),uint16Array:e=>te(k.uint16Array(e),"Uint16Array",e),int32Array:e=>te(k.int32Array(e),"Int32Array",e),uint32Array:e=>te(k.uint32Array(e),"Uint32Array",e),float32Array:e=>te(k.float32Array(e),"Float32Array",e),float64Array:e=>te(k.float64Array(e),"Float64Array",e),bigInt64Array:e=>te(k.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>te(k.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>te(k.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>te(k.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>te(k.dataView(e),"DataView",e),enumCase:(e,t)=>te(k.enumCase(e,t),"EnumCase",e),urlInstance:e=>te(k.urlInstance(e),"URL",e),urlString:e=>te(k.urlString(e),"string with a URL",e),truthy:e=>te(k.truthy(e),"truthy",e),falsy:e=>te(k.falsy(e),"falsy",e),nan:e=>te(k.nan(e),"NaN",e),primitive:e=>te(k.primitive(e),"primitive",e),integer:e=>te(k.integer(e),"integer",e),safeInteger:e=>te(k.safeInteger(e),"integer",e),plainObject:e=>te(k.plainObject(e),"plain object",e),typedArray:e=>te(k.typedArray(e),"TypedArray",e),arrayLike:e=>te(k.arrayLike(e),"array-like",e),domElement:e=>te(k.domElement(e),"HTMLElement",e),observable:e=>te(k.observable(e),"Observable",e),nodeStream:e=>te(k.nodeStream(e),"Node.js Stream",e),infinite:e=>te(k.infinite(e),"infinite number",e),emptyArray:e=>te(k.emptyArray(e),"empty array",e),nonEmptyArray:e=>te(k.nonEmptyArray(e),"non-empty array",e),emptyString:e=>te(k.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>te(k.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>te(k.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>te(k.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>te(k.emptyObject(e),"empty object",e),nonEmptyObject:e=>te(k.nonEmptyObject(e),"non-empty object",e),emptySet:e=>te(k.emptySet(e),"empty set",e),nonEmptySet:e=>te(k.nonEmptySet(e),"non-empty set",e),emptyMap:e=>te(k.emptyMap(e),"empty map",e),nonEmptyMap:e=>te(k.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>te(k.propertyKey(e),"PropertyKey",e),formData:e=>te(k.formData(e),"FormData",e),urlSearchParams:e=>te(k.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>te(k.evenInteger(e),"even integer",e),oddInteger:e=>te(k.oddInteger(e),"odd integer",e),directInstanceOf:(e,t)=>te(k.directInstanceOf(e,t),"T",e),inRange:(e,t)=>te(k.inRange(e,t),"in range",e),any:(e,...t)=>te(k.any(e,...t),"predicate returns truthy for any value",t,{multipleValues:!0}),all:(e,...t)=>te(k.all(e,...t),"predicate returns truthy for all values",t,{multipleValues:!0})};Object.defineProperties(k,{class:{value:k.class_},function:{value:k.function_},null:{value:k.null_}});Object.defineProperties(Y,{class:{value:Y.class_},function:{value:Y.function_},null:{value:Y.null_}});var $=k;import{EventEmitter as w1e}from"node:events";var lS=class extends Error{constructor(t){super(t||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},yo=class{static fn(t){return(...r)=>new yo((n,i,s)=>{r.push(s),t(...r).then(n,i)})}constructor(t){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let i=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},s=a=>{this._isPending=!1,n(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),t(i,s,o)})}then(t,r){return this._promise.then(t,r)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(t){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new lS(t))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(yo.prototype,Promise.prototype);function P_e(e){return $.object(e)&&"_onResponse"in e}var Et=class extends Error{constructor(t,r,n){if(super(t),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=r.code??"ERR_GOT_REQUEST_ERROR",this.input=r.input,P_e(n)?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n.response}),this.options=n.options):this.options=n,this.timings=this.request?.timings,$.string(r.stack)&&$.string(this.stack)){let i=this.stack.indexOf(this.message)+this.message.length,s=this.stack.slice(i).split(`
`).reverse(),o=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;o.length>0&&o[0]===s[0];)s.shift();this.stack=`${this.stack.slice(0,i)}${s.reverse().join(`
`)}${o.reverse().join(`
`)}`}}},Pg=class extends Et{constructor(t){super(`Redirected ${t.options.maxRedirects} times. Aborting.`,{},t),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},Di=class extends Et{constructor(t){super(`Response code ${t.statusCode} (${t.statusMessage})`,{},t.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},Ag=class extends Et{constructor(t,r){super(t.message,t,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},Yf=class extends Et{constructor(t,r){super(t.message,t,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},kg=class extends Et{constructor(t,r,n){super(t.message,t,n),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=t.event,this.timings=r}},Xf=class extends Et{constructor(t,r){super(t.message,t,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},Og=class extends Et{constructor(t){super("Retrying",{},t),this.name="RetryError",this.code="ERR_RETRYING"}},Cg=class extends Et{constructor(t){super("This operation was aborted.",{},t),this.code="ERR_ABORTED",this.name="AbortError"}};import nU from"node:process";import{Buffer as iR}from"node:buffer";import{Duplex as d1e}from"node:stream";import{URL as h1e,URLSearchParams as p1e}from"node:url";import m1e,{ServerResponse as rU}from"node:http";var gz=Yt(mz(),1);import{errorMonitor as k_e}from"events";import{types as O_e}from"util";var C_e=e=>{if(e.timings)return e.timings;let t={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=t;let r=o=>{o.once(k_e,()=>{t.error=Date.now(),t.phases.total=t.error-t.start})};r(e);let n=()=>{t.abort=Date.now(),t.phases.total=t.abort-t.start};e.prependOnceListener("abort",n);let i=o=>{if(t.socket=Date.now(),t.phases.wait=t.socket-t.start,O_e.isProxy(o))return;let a=()=>{t.lookup=Date.now(),t.phases.dns=t.lookup-t.socket};o.prependOnceListener("lookup",a),(0,gz.default)(o,{connect:()=>{t.connect=Date.now(),t.lookup===void 0&&(o.removeListener("lookup",a),t.lookup=t.connect,t.phases.dns=t.lookup-t.socket),t.phases.tcp=t.connect-t.lookup},secureConnect:()=>{t.secureConnect=Date.now(),t.phases.tls=t.secureConnect-t.connect}})};e.socket?i(e.socket):e.prependOnceListener("socket",i);let s=()=>{t.upload=Date.now(),t.phases.request=t.upload-(t.secureConnect??t.connect)};return e.writableFinished?s():e.prependOnceListener("finish",s),e.prependOnceListener("response",o=>{t.response=Date.now(),t.phases.firstByte=t.response-t.upload,o.timings=t,r(o),o.prependOnceListener("end",()=>{e.off("abort",n),o.off("aborted",n),!t.phases.total&&(t.end=Date.now(),t.phases.download=t.end-t.response,t.phases.total=t.end-t.start)}),o.prependOnceListener("aborted",n)}),t},yz=C_e;import eEe from"node:events";import Ng from"node:url";import tEe from"node:crypto";import rEe,{PassThrough as nEe}from"node:stream";var I_e="text/plain",$_e="us-ascii",dS=(e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),N_e=new Set(["https:","http:","file:"]),j_e=e=>{try{let{protocol:t}=new URL(e);return t.endsWith(":")&&!N_e.has(t)}catch{return!1}},q_e=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,o=n.split(";");s=t?"":s;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let l=o.shift()?.toLowerCase()??"",u=[...o.map(d=>{let[h,f=""]=d.split("=").map(p=>p.trim());return h==="charset"&&(f=f.toLowerCase(),f===$_e)?"":`${h}${f?`=${f}`:""}`}).filter(Boolean)];return a&&u.push("base64"),(u.length>0||l&&l!==I_e)&&u.unshift(l),`data:${u.join(";")},${a?i.trim():i}${s?`#${s}`:""}`};function hS(e,t){if(t={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...t},typeof t.defaultProtocol=="string"&&!t.defaultProtocol.endsWith(":")&&(t.defaultProtocol=`${t.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return q_e(e,t);if(j_e(e))return e;let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,a=0,l="";for(;;){let u=o.exec(i.pathname);if(!u)break;let d=u[0],h=u.index,f=i.pathname.slice(a,h);l+=f.replace(/\/{2,}/g,"/"),l+=d,a=h+d.length}let c=i.pathname.slice(a,i.pathname.length);l+=c.replace(/\/{2,}/g,"/"),i.pathname=l}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=i.pathname.split("/"),a=o[o.length-1];dS(a,t.removeDirectoryIndex)&&(o=o.slice(0,-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let o of[...i.searchParams.keys()])dS(o,t.removeQueryParameters)&&i.searchParams.delete(o);if(!Array.isArray(t.keepQueryParameters)&&t.removeQueryParameters===!0&&(i.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(let o of[...i.searchParams.keys()])dS(o,t.keepQueryParameters)||i.searchParams.delete(o);if(t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,"")),t.removeExplicitPort&&i.port&&(i.port="");let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var Az=Yt(mS(),1),jg=Yt(_z(),1);import{Readable as Y_e}from"node:stream";function wc(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLowerCase(),r]))}var _c=class extends Y_e{statusCode;headers;body;url;constructor({statusCode:t,headers:r,body:n,url:i}){if(typeof t!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Uint8Array))throw new TypeError("Argument `body` should be a buffer");if(typeof i!="string")throw new TypeError("Argument `url` should be a string");super({read(){this.push(n),this.push(null)}}),this.statusCode=t,this.headers=wc(r),this.body=n,this.url=i}};var Zf=Yt(Tz(),1);var Z_e=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];function vS(e,t){if(t._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set([...Object.keys(e),...Z_e]),n={};for(let i of r)i in t||(n[i]={get(){let s=e[i];return typeof s=="function"?s.bind(e):s},set(s){e[i]=s},enumerable:!0,configurable:!1});return Object.defineProperties(t,n),e.once("aborted",()=>{t.destroy(),t.emit("aborted")}),e.once("close",()=>{e.complete&&t.readable?t.once("end",()=>{t.emit("close")}):t.emit("close")}),t}var $g=class extends Error{constructor(t){super(t.message),Object.assign(this,t)}},ws=class extends Error{constructor(t){super(t.message),Object.assign(this,t)}};var _S=class{constructor(t,r){this.hooks=new Map,this.request=()=>(n,i)=>{let s;if(typeof n=="string")s=wS(Ng.parse(n)),n={};else if(n instanceof Ng.URL)s=wS(Ng.parse(n.toString())),n={};else{let[h,...f]=(n.path??"").split("?"),p=f.length>0?`?${f.join("?")}`:"";s=wS({...n,pathname:h,search:p})}n={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...n,...oEe(s)},n.headers=Object.fromEntries(iEe(n.headers).map(([h,f])=>[h.toLowerCase(),f]));let o=new eEe,a=hS(Ng.format(s),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),l=`${n.method}:${a}`;n.body&&n.method!==void 0&&["POST","PATCH","PUT"].includes(n.method)&&(n.body instanceof rEe.Readable?n.cache=!1:l+=`:${tEe.createHash("md5").update(n.body).digest("hex")}`);let c=!1,u=!1,d=h=>{u=!0;let f=!1,p=()=>{},m=new Promise(y=>{p=()=>{f||(f=!0,y())}}),v=async y=>{if(c){y.status=y.statusCode;let b=jg.default.fromObject(c.cachePolicy).revalidatedPolicy(h,y);if(!b.modified){y.resume(),await new Promise(P=>{y.once("end",P)});let g=Pz(b.policy.responseHeaders());y=new _c({statusCode:c.statusCode,headers:g,body:c.body,url:c.url}),y.cachePolicy=b.policy,y.fromCache=!0}}y.fromCache||(y.cachePolicy=new jg.default(h,y,h),y.fromCache=!1);let E;h.cache&&y.cachePolicy.storable()?(E=sEe(y),(async()=>{try{let b=Az.default.buffer(y);await Promise.race([m,new Promise(R=>y.once("end",R)),new Promise(R=>y.once("close",R))]);let g=await b,P={url:y.url,statusCode:y.fromCache?c.statusCode:y.statusCode,body:g,cachePolicy:y.cachePolicy.toObject()},O=h.strictTtl?y.cachePolicy.timeToLive():void 0;if(h.maxTtl&&(O=O?Math.min(O,h.maxTtl):h.maxTtl),this.hooks.size>0)for(let R of this.hooks.keys())P=await this.runHook(R,P,y);await this.cache.set(l,P,O)}catch(b){o.emit("error",new ws(b))}})()):h.cache&&c&&(async()=>{try{await this.cache.delete(l)}catch(b){o.emit("error",new ws(b))}})(),o.emit("response",E??y),typeof i=="function"&&i(E??y)};try{let y=this.cacheRequest(h,v);y.once("error",p),y.once("abort",p),y.once("destroy",p),o.emit("request",y)}catch(y){o.emit("error",new $g(y))}};return(async()=>{let h=async p=>{await Promise.resolve();let m=p.cache?await this.cache.get(l):void 0;if(typeof m>"u"&&!p.forceRefresh){d(p);return}let v=jg.default.fromObject(m.cachePolicy);if(v.satisfiesWithoutRevalidation(p)&&!p.forceRefresh){let y=Pz(v.responseHeaders()),E=new _c({statusCode:m.statusCode,headers:y,body:m.body,url:m.url});E.cachePolicy=v,E.fromCache=!0,o.emit("response",E),typeof i=="function"&&i(E)}else v.satisfiesWithoutRevalidation(p)&&Date.now()>=v.timeToLive()&&p.forceRefresh?(await this.cache.delete(l),p.headers=v.revalidationHeaders(p),d(p)):(c=m,p.headers=v.revalidationHeaders(p),d(p))},f=p=>o.emit("error",new ws(p));if(this.cache instanceof Zf.default){let p=this.cache;p.once("error",f),o.on("error",()=>p.removeListener("error",f)),o.on("response",()=>p.removeListener("error",f))}try{await h(n)}catch(p){n.automaticFailover&&!u&&d(n),o.emit("error",new ws(p))}})(),o},this.addHook=(n,i)=>{this.hooks.has(n)||this.hooks.set(n,i)},this.removeHook=n=>this.hooks.delete(n),this.getHook=n=>this.hooks.get(n),this.runHook=async(n,...i)=>this.hooks.get(n)?.(...i),r instanceof Zf.default?this.cache=r:typeof r=="string"?this.cache=new Zf.default({uri:r,namespace:"cacheable-request"}):this.cache=new Zf.default({store:r,namespace:"cacheable-request"}),this.request=this.request.bind(this),this.cacheRequest=t}},iEe=Object.entries,sEe=e=>{let t=new nEe({autoDestroy:!1});return vS(e,t),e.pipe(t)},oEe=e=>{let t={...e};return t.path=`${e.pathname||"/"}${e.search||""}`,delete t.pathname,delete t.search,t},wS=e=>({protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}),Pz=e=>{let t=[];for(let r of Object.keys(e))t[r.toLowerCase()]=e[r];return t},kz=_S;var iU=Yt($z(),1);var sU=Yt(mS(),1);var Ln=e=>typeof e=="function";var fEe=e=>Ln(e[Symbol.asyncIterator]);async function*dEe(e){let t=e.getReader();for(;;){let{done:r,value:n}=await t.read();if(r)break;yield n}}var Nz=e=>{if(fEe(e))return e;if(Ln(e.getReader))return dEe(e);throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")};var jz="abcdefghijklmnopqrstuvwxyz0123456789";function qz(){let e=16,t="";for(;e--;)t+=jz[Math.random()*jz.length<<0];return t}var xS=e=>String(e).replace(/\r|\n/g,(t,r,n)=>t==="\r"&&n[r+1]!==`
`||t===`
`&&n[r-1]!=="\r"?`\r
`:t);var hEe=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function SS(e){if(hEe(e)!=="object")return!1;let t=Object.getPrototypeOf(e);return t==null?!0:(t.constructor&&t.constructor.toString())===Object.toString()}function Dz(e,t){if(typeof t=="string"){for(let[r,n]of Object.entries(e))if(t.toLowerCase()===r.toLowerCase())return n}}var Lz=e=>new Proxy(e,{get:(t,r)=>Dz(t,r),has:(t,r)=>Dz(t,r)!==void 0});var Ec=e=>Boolean(e&&Ln(e.constructor)&&e[Symbol.toStringTag]==="FormData"&&Ln(e.append)&&Ln(e.getAll)&&Ln(e.entries)&&Ln(e[Symbol.iterator]));var RS=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22");var bo=e=>Boolean(e&&typeof e=="object"&&Ln(e.constructor)&&e[Symbol.toStringTag]==="File"&&Ln(e.stream)&&e.name!=null);var ed=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},vt=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},td,vo,rd,qg,nd,Oa,id,sd,Dg,TS,Fz,pEe={enableAdditionalHeaders:!1},Lg={writable:!1,configurable:!1},Fg=class{constructor(t,r,n){if(td.add(this),vo.set(this,`\r
`),rd.set(this,void 0),qg.set(this,void 0),nd.set(this,"-".repeat(2)),Oa.set(this,new TextEncoder),id.set(this,void 0),sd.set(this,void 0),Dg.set(this,void 0),!Ec(t))throw new TypeError("Expected first argument to be a FormData instance.");let i;if(SS(r)?n=r:i=r,i||(i=qz()),typeof i!="string")throw new TypeError("Expected boundary argument to be a string.");if(n&&!SS(n))throw new TypeError("Expected options argument to be an object.");ed(this,sd,Array.from(t.entries()),"f"),ed(this,Dg,{...pEe,...n},"f"),ed(this,rd,vt(this,Oa,"f").encode(vt(this,vo,"f")),"f"),ed(this,qg,vt(this,rd,"f").byteLength,"f"),this.boundary=`form-data-boundary-${i}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,ed(this,id,vt(this,Oa,"f").encode(`${vt(this,nd,"f")}${this.boundary}${vt(this,nd,"f")}${vt(this,vo,"f").repeat(2)}`),"f");let s={"Content-Type":this.contentType},o=vt(this,td,"m",Fz).call(this);o&&(this.contentLength=o,s["Content-Length"]=o),this.headers=Lz(Object.freeze(s)),Object.defineProperties(this,{boundary:Lg,contentType:Lg,contentLength:Lg,headers:Lg})}getContentLength(){return this.contentLength==null?void 0:Number(this.contentLength)}*values(){for(let[t,r]of vt(this,sd,"f")){let n=bo(r)?r:vt(this,Oa,"f").encode(xS(r));yield vt(this,td,"m",TS).call(this,t,n),yield n,yield vt(this,rd,"f")}yield vt(this,id,"f")}async*encode(){for(let t of this.values())bo(t)?yield*Nz(t.stream()):yield t}[(vo=new WeakMap,rd=new WeakMap,qg=new WeakMap,nd=new WeakMap,Oa=new WeakMap,id=new WeakMap,sd=new WeakMap,Dg=new WeakMap,td=new WeakSet,TS=function(r,n){let i="";i+=`${vt(this,nd,"f")}${this.boundary}${vt(this,vo,"f")}`,i+=`Content-Disposition: form-data; name="${RS(r)}"`,bo(n)&&(i+=`; filename="${RS(n.name)}"${vt(this,vo,"f")}`,i+=`Content-Type: ${n.type||"application/octet-stream"}`);let s=bo(n)?n.size:n.byteLength;return vt(this,Dg,"f").enableAdditionalHeaders===!0&&s!=null&&!isNaN(s)&&(i+=`${vt(this,vo,"f")}Content-Length: ${bo(n)?n.size:n.byteLength}`),vt(this,Oa,"f").encode(`${i}${vt(this,vo,"f").repeat(2)}`)},Fz=function(){let r=0;for(let[n,i]of vt(this,sd,"f")){let s=bo(i)?i:vt(this,Oa,"f").encode(xS(i)),o=bo(s)?s.size:s.byteLength;if(o==null||isNaN(o))return;r+=vt(this,td,"m",TS).call(this,n,s).byteLength,r+=o,r+=vt(this,qg,"f")}return String(r+vt(this,id,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};import{Buffer as mEe}from"node:buffer";import{promisify as gEe}from"node:util";function od(e){return $.nodeStream(e)&&$.function_(e.getBoundary)}async function PS(e,t){if(t&&"content-length"in t)return Number(t["content-length"]);if(!e)return 0;if($.string(e))return mEe.byteLength(e);if($.buffer(e))return e.length;if(od(e))return gEe(e.getLength.bind(e))()}function ad(e,t,r){let n={};for(let i of r){let s=(...o)=>{t.emit(i,...o)};n[i]=s,e.on(i,s)}return()=>{for(let[i,s]of Object.entries(n))e.off(i,s)}}import yEe from"node:net";function AS(){let e=[];return{once(t,r,n){t.once(r,n),e.push({origin:t,event:r,fn:n})},unhandleAll(){for(let t of e){let{origin:r,event:n,fn:i}=t;r.removeListener(n,i)}e.length=0}}}var Mz=Symbol("reentry"),bEe=()=>{},ld=class extends Error{constructor(t,r){super(`Timeout awaiting '${r}' for ${t}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function kS(e,t,r){if(Mz in e)return bEe;e[Mz]=!0;let n=[],{once:i,unhandleAll:s}=AS(),o=(m,v,y)=>{let E=setTimeout(v,m,m,y);E.unref?.();let b=()=>{clearTimeout(E)};return n.push(b),b},{host:a,hostname:l}=r,c=(m,v)=>{e.destroy(new ld(m,v))},u=()=>{for(let m of n)m();s()};if(e.once("error",m=>{if(u(),e.listenerCount("error")===0)throw m}),typeof t.request<"u"){let m=o(t.request,c,"request");i(e,"response",v=>{i(v,"end",m)})}if(typeof t.socket<"u"){let{socket:m}=t,v=()=>{c(m,"socket")};e.setTimeout(m,v),n.push(()=>{e.removeListener("timeout",v)})}let d=typeof t.lookup<"u",h=typeof t.connect<"u",f=typeof t.secureConnect<"u",p=typeof t.send<"u";return(d||h||f||p)&&i(e,"socket",m=>{let{socketPath:v}=e;if(m.connecting){let y=Boolean(v??yEe.isIP(l??a??"")!==0);if(d&&!y&&typeof m.address().address>"u"){let E=o(t.lookup,c,"lookup");i(m,"lookup",E)}if(h){let E=()=>o(t.connect,c,"connect");y?i(m,"connect",E()):i(m,"lookup",b=>{b===null&&i(m,"connect",E())})}f&&r.protocol==="https:"&&i(m,"connect",()=>{let E=o(t.secureConnect,c,"secureConnect");i(m,"secureConnect",E)})}if(p){let y=()=>o(t.send,c,"send");m.connecting?i(m,"connect",()=>{i(e,"upload-complete",y())}):i(e,"upload-complete",y())}}),typeof t.response<"u"&&i(e,"upload-complete",()=>{let m=o(t.response,c,"response");i(e,"response",m)}),typeof t.read<"u"&&i(e,"response",m=>{let v=o(t.read,c,"read");i(m,"end",v)}),u}function OS(e){e=e;let t={protocol:e.protocol,hostname:$.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return $.string(e.port)&&e.port.length>0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}var cd=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(t,r){typeof t=="object"?this.weakMap.set(t,r):this.map.set(t,r)}get(t){return typeof t=="object"?this.weakMap.get(t):this.map.get(t)}has(t){return typeof t=="object"?this.weakMap.has(t):this.map.has(t)}};var vEe=({attemptCount:e,retryOptions:t,error:r,retryAfter:n,computedValue:i})=>{if(r.name==="RetryError")return 1;if(e>t.limit)return 0;let s=t.methods.includes(r.options.method),o=t.errorCodes.includes(r.code),a=r.response&&t.statusCodes.includes(r.response.statusCode);if(!s||!o&&!a)return 0;if(r.response){if(n)return n>i?0:n;if(r.response.statusCode===413)return 0}let l=Math.random()*t.noise;return Math.min(2**(e-1)*1e3,t.backoffLimit)+l},Bz=vEe;import Qxe from"node:process";import{promisify as YH,inspect as Zxe}from"node:util";import{URL as ZH,URLSearchParams as md}from"node:url";import{checkServerIdentity as e1e}from"node:tls";import t1e from"node:http";import r1e from"node:https";import{V4MAPPED as wEe,ADDRCONFIG as _Ee,ALL as Wz,promises as EEe,lookup as xEe}from"node:dns";import{promisify as CS}from"node:util";import SEe from"node:os";var{Resolver:zz}=EEe,xc=Symbol("cacheableLookupCreateConnection"),IS=Symbol("cacheableLookupInstance"),Hz=Symbol("expires"),REe=typeof Wz=="number",Uz=e=>{if(!(e&&typeof e.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},TEe=e=>{for(let t of e)t.family!==6&&(t.address=`::ffff:${t.address}`,t.family=6)},Vz=()=>{let e=!1,t=!1;for(let r of Object.values(SEe.networkInterfaces()))for(let n of r)if(!n.internal&&(n.family==="IPv6"?t=!0:e=!0,e&&t))return{has4:e,has6:t};return{has4:e,has6:t}},PEe=e=>Symbol.iterator in e,Mg=e=>e.catch(t=>{if(t.code==="ENODATA"||t.code==="ENOTFOUND"||t.code==="ENOENT")return[];throw t}),Gz={ttl:!0},AEe={all:!0},kEe={all:!0,family:4},OEe={all:!0,family:6},Ca=class{constructor({cache:t=new Map,maxTtl:r=1/0,fallbackDuration:n=3600,errorTtl:i=.15,resolver:s=new zz,lookup:o=xEe}={}){if(this.maxTtl=r,this.errorTtl=i,this._cache=t,this._resolver=s,this._dnsLookup=o&&CS(o),this.stats={cache:0,query:0},this._resolver instanceof zz?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=CS(this._resolver.resolve4.bind(this._resolver)),this._resolve6=CS(this._resolver.resolve6.bind(this._resolver))),this._iface=Vz(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=n,n>0){let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref(),this._fallbackInterval=a}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(t){this.clear(),this._resolver.setServers(t)}get servers(){return this._resolver.getServers()}lookup(t,r,n){if(typeof r=="function"?(n=r,r={}):typeof r=="number"&&(r={family:r}),!n)throw new Error("Callback must be a function.");this.lookupAsync(t,r).then(i=>{r.all?n(null,i):n(null,i.address,i.family,i.expires,i.ttl,i.source)},n)}async lookupAsync(t,r={}){typeof r=="number"&&(r={family:r});let n=await this.query(t);if(r.family===6){let i=n.filter(s=>s.family===6);r.hints&wEe&&(REe&&r.hints&Wz||i.length===0)?TEe(n):n=i}else r.family===4&&(n=n.filter(i=>i.family===4));if(r.hints&_Ee){let{_iface:i}=this;n=n.filter(s=>s.family===6?i.has6:i.has4)}if(n.length===0){let i=new Error(`cacheableLookup ENOTFOUND ${t}`);throw i.code="ENOTFOUND",i.hostname=t,i}return r.all?n:n[0]}async query(t){let r="cache",n=await this._cache.get(t);if(n&&this.stats.cache++,!n){let i=this._pending[t];if(i)this.stats.cache++,n=await i;else{r="query";let s=this.queryAndCache(t);this._pending[t]=s,this.stats.query++;try{n=await s}finally{delete this._pending[t]}}}return n=n.map(i=>({...i,source:r})),n}async _resolve(t){let[r,n]=await Promise.all([Mg(this._resolve4(t,Gz)),Mg(this._resolve6(t,Gz))]),i=0,s=0,o=0,a=Date.now();for(let l of r)l.family=4,l.expires=a+l.ttl*1e3,i=Math.max(i,l.ttl);for(let l of n)l.family=6,l.expires=a+l.ttl*1e3,s=Math.max(s,l.ttl);return r.length>0?n.length>0?o=Math.min(i,s):o=i:o=s,{entries:[...r,...n],cacheTtl:o}}async _lookup(t){try{let[r,n]=await Promise.all([Mg(this._dnsLookup(t,kEe)),Mg(this._dnsLookup(t,OEe))]);return{entries:[...r,...n],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(t,r,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,r[Hz]=Date.now()+n;try{await this._cache.set(t,r,n)}catch(i){this.lookupAsync=async()=>{let s=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw s.cause=i,s}}PEe(this._cache)&&this._tick(n)}}async queryAndCache(t){if(this._hostnamesToFallback.has(t))return this._dnsLookup(t,AEe);let r=await this._resolve(t);r.entries.length===0&&this._dnsLookup&&(r=await this._lookup(t),r.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(t));let n=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(t,r.entries,n),r.entries}_tick(t){let r=this._nextRemovalTime;(!r||t<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=t,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,i=Date.now();for(let[s,o]of this._cache){let a=o[Hz];i>=a?this._cache.delete(s):a<n&&(n=a)}n!==1/0&&this._tick(n-i)},t),this._removalTimeout.unref&&this._removalTimeout.unref())}install(t){if(Uz(t),xc in t)throw new Error("CacheableLookup has been already installed");t[xc]=t.createConnection,t[IS]=this,t.createConnection=(r,n)=>("lookup"in r||(r.lookup=this.lookup),t[xc](r,n))}uninstall(t){if(Uz(t),t[xc]){if(t[IS]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");t.createConnection=t[xc],delete t[xc],delete t[IS]}}updateInterfaceInfo(){let{_iface:t}=this;this._iface=Vz(),(t.has4&&!this._iface.has4||t.has6&&!this._iface.has6)&&this._cache.clear()}clear(t){if(t){this._cache.delete(t);return}this._cache.clear()}};var eU=Yt(JH(),1);function rR(e){let t=[],r=e.split(",");for(let n of r){let[i,...s]=n.split(";"),o=i.trim();if(o[0]!=="<"||o[o.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${o}`);let a=o.slice(1,-1),l={};if(s.length===0)throw new Error(`Unexpected end of Link header parameters: ${s.join(";")}`);for(let c of s){let u=c.trim(),d=u.indexOf("=");if(d===-1)throw new Error(`Failed to parse Link header: ${e}`);let h=u.slice(0,d).trim(),f=u.slice(d+1).trim();l[h]=f}t.push({reference:a,parameters:l})}return t}var[XH,n1e]=Qxe.versions.node.split(".").map(Number);function i1e(e){for(let t in e){let r=e[t];Y.any([$.string,$.number,$.boolean,$.null_,$.undefined],r)}}var s1e=new Map,Wg,o1e=()=>Wg||(Wg=new Ca,Wg),a1e={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(e){return e.request.options.responseType==="json"?e.body:JSON.parse(e.body)},paginate({response:e}){let t=e.headers.link;if(typeof t!="string"||t.trim()==="")return!1;let n=rR(t).find(i=>i.parameters.rel==="next"||i.parameters.rel==='"next"');return n?{url:new ZH(n.reference,e.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!0},l1e=e=>{let{hooks:t,retry:r}=e,n={...e,context:{...e.context},cacheOptions:{...e.cacheOptions},https:{...e.https},agent:{...e.agent},headers:{...e.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...e.timeout},hooks:{init:[...t.init],beforeRequest:[...t.beforeRequest],beforeError:[...t.beforeError],beforeRedirect:[...t.beforeRedirect],beforeRetry:[...t.beforeRetry],afterResponse:[...t.afterResponse]},searchParams:e.searchParams?new md(e.searchParams):void 0,pagination:{...e.pagination}};return n.url!==void 0&&(n.prefixUrl=""),n},c1e=e=>{let{hooks:t,retry:r}=e,n={...e};return $.object(e.context)&&(n.context={...e.context}),$.object(e.cacheOptions)&&(n.cacheOptions={...e.cacheOptions}),$.object(e.https)&&(n.https={...e.https}),$.object(e.cacheOptions)&&(n.cacheOptions={...n.cacheOptions}),$.object(e.agent)&&(n.agent={...e.agent}),$.object(e.headers)&&(n.headers={...e.headers}),$.object(r)&&(n.retry={...r},$.array(r.errorCodes)&&(n.retry.errorCodes=[...r.errorCodes]),$.array(r.methods)&&(n.retry.methods=[...r.methods]),$.array(r.statusCodes)&&(n.retry.statusCodes=[...r.statusCodes])),$.object(e.timeout)&&(n.timeout={...e.timeout}),$.object(t)&&(n.hooks={...t},$.array(t.init)&&(n.hooks.init=[...t.init]),$.array(t.beforeRequest)&&(n.hooks.beforeRequest=[...t.beforeRequest]),$.array(t.beforeError)&&(n.hooks.beforeError=[...t.beforeError]),$.array(t.beforeRedirect)&&(n.hooks.beforeRedirect=[...t.beforeRedirect]),$.array(t.beforeRetry)&&(n.hooks.beforeRetry=[...t.beforeRetry]),$.array(t.afterResponse)&&(n.hooks.afterResponse=[...t.afterResponse])),$.object(e.pagination)&&(n.pagination={...e.pagination}),n},u1e=e=>{let t=[e.timeout.socket,e.timeout.connect,e.timeout.lookup,e.timeout.request,e.timeout.secureConnect].filter(r=>typeof r=="number");if(t.length>0)return Math.min(...t)},QH=(e,t,r)=>{let n=e.hooks?.init;if(n)for(let i of n)i(t,r)},Rr=class{constructor(t,r,n){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Y.any([$.string,$.urlInstance,$.object,$.undefined],t),Y.any([$.object,$.undefined],r),Y.any([$.object,$.undefined],n),t instanceof Rr||r instanceof Rr)throw new TypeError("The defaults must be passed as the third argument");this._internals=l1e(n?._internals??n??a1e),this._init=[...n?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if($.plainObject(t))try{this.merge(t),this.merge(r)}finally{this.url=t.url}else try{this.merge(r)}finally{if(r?.url!==void 0)if(t===void 0)this.url=r.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else t!==void 0&&(this.url=t)}}catch(i){throw i.options=this,i}}merge(t){if(t){if(t instanceof Rr){for(let r of t._init)this.merge(r);return}t=c1e(t),QH(this,t,this),QH(t,t,this),this._merging=!0,"isStream"in t&&(this.isStream=t.isStream);try{let r=!1;for(let n in t)if(!(n==="mutableDefaults"||n==="handlers")&&n!=="url"){if(!(n in this))throw new Error(`Unexpected option: ${n}`);this[n]=t[n],r=!0}r&&this._init.push(t)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(t){Y.any([$.function_,$.undefined],t),this._internals.request=t}get agent(){return this._internals.agent}set agent(t){Y.plainObject(t);for(let r in t){if(!(r in this._internals.agent))throw new TypeError(`Unexpected agent option: ${r}`);Y.any([$.object,$.undefined],t[r])}this._merging?Object.assign(this._internals.agent,t):this._internals.agent={...t}}get h2session(){return this._internals.h2session}set h2session(t){this._internals.h2session=t}get decompress(){return this._internals.decompress}set decompress(t){Y.boolean(t),this._internals.decompress=t}get timeout(){return this._internals.timeout}set timeout(t){Y.plainObject(t);for(let r in t){if(!(r in this._internals.timeout))throw new Error(`Unexpected timeout option: ${r}`);Y.any([$.number,$.undefined],t[r])}this._merging?Object.assign(this._internals.timeout,t):this._internals.timeout={...t}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(t){if(Y.any([$.string,$.urlInstance],t),t===""){this._internals.prefixUrl="";return}if(t=t.toString(),t.endsWith("/")||(t+="/"),this._internals.prefixUrl&&this._internals.url){let{href:r}=this._internals.url;this._internals.url.href=t+r.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=t}get body(){return this._internals.body}set body(t){Y.any([$.string,$.buffer,$.nodeStream,$.generator,$.asyncGenerator,Ec,$.undefined],t),$.nodeStream(t)&&Y.truthy(t.readable),t!==void 0&&(Y.undefined(this._internals.form),Y.undefined(this._internals.json)),this._internals.body=t}get form(){return this._internals.form}set form(t){Y.any([$.plainObject,$.undefined],t),t!==void 0&&(Y.undefined(this._internals.body),Y.undefined(this._internals.json)),this._internals.form=t}get json(){return this._internals.json}set json(t){t!==void 0&&(Y.undefined(this._internals.body),Y.undefined(this._internals.form)),this._internals.json=t}get url(){return this._internals.url}set url(t){if(Y.any([$.string,$.urlInstance,$.undefined],t),t===void 0){this._internals.url=void 0;return}if($.string(t)&&t.startsWith("/"))throw new Error("`url` must not start with a slash");let r=`${this.prefixUrl}${t.toString()}`,n=new ZH(r);if(this._internals.url=n,decodeURI(r),n.protocol==="unix:"&&(n.href=`http://unix${n.pathname}${n.search}`),n.protocol!=="http:"&&n.protocol!=="https:"){let i=new Error(`Unsupported protocol: ${n.protocol}`);throw i.code="ERR_UNSUPPORTED_PROTOCOL",i}if(this._internals.username&&(n.username=this._internals.username,this._internals.username=""),this._internals.password&&(n.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(n.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),n.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let i=/(?<socketPath>.+?):(?<path>.+)/.exec(`${n.pathname}${n.search}`);if(i?.groups){let{socketPath:s,path:o}=i.groups;this._unixOptions={socketPath:s,path:o,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(t){if(Y.any([$.object,$.undefined],t),t===void 0){this._internals.cookieJar=void 0;return}let{setCookie:r,getCookieString:n}=t;Y.function_(r),Y.function_(n),r.length===4&&n.length===0?(r=YH(r.bind(t)),n=YH(n.bind(t)),this._internals.cookieJar={setCookie:r,getCookieString:n}):this._internals.cookieJar=t}get signal(){return this._internals.signal}set signal(t){Y.object(t),this._internals.signal=t}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(t){Y.boolean(t),this._internals.ignoreInvalidCookies=t}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new md),this._internals.searchParams)}set searchParams(t){Y.any([$.string,$.object,$.undefined],t);let r=this._internals.url;if(t===void 0){this._internals.searchParams=void 0,r&&(r.search="");return}let n=this.searchParams,i;if($.string(t))i=new md(t);else if(t instanceof md)i=t;else{i1e(t),i=new md;for(let s in t){let o=t[s];o===null?i.append(s,""):o===void 0?n.delete(s):i.append(s,o)}}if(this._merging){for(let s of i.keys())n.delete(s);for(let[s,o]of i)n.append(s,o)}else r?r.search=n.toString():this._internals.searchParams=n}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(t){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(t){Y.any([$.function_,$.undefined],t),this._internals.dnsLookup=t}get dnsCache(){return this._internals.dnsCache}set dnsCache(t){Y.any([$.object,$.boolean,$.undefined],t),t===!0?this._internals.dnsCache=o1e():t===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=t}get context(){return this._internals.context}set context(t){Y.object(t),this._merging?Object.assign(this._internals.context,t):this._internals.context={...t}}get hooks(){return this._internals.hooks}set hooks(t){Y.object(t);for(let r in t){if(!(r in this._internals.hooks))throw new Error(`Unexpected hook event: ${r}`);let n=r,i=t[n];if(Y.any([$.array,$.undefined],i),i)for(let s of i)Y.function_(s);if(this._merging)i&&this._internals.hooks[n].push(...i);else{if(!i)throw new Error(`Missing hook event: ${r}`);this._internals.hooks[r]=[...i]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(t){Y.boolean(t),this._internals.followRedirect=t}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(t){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(t){Y.number(t),this._internals.maxRedirects=t}get cache(){return this._internals.cache}set cache(t){Y.any([$.object,$.string,$.boolean,$.undefined],t),t===!0?this._internals.cache=s1e:t===!1?this._internals.cache=void 0:this._internals.cache=t}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(t){Y.boolean(t),this._internals.throwHttpErrors=t}get username(){let t=this._internals.url,r=t?t.username:this._internals.username;return decodeURIComponent(r)}set username(t){Y.string(t);let r=this._internals.url,n=encodeURIComponent(t);r?r.username=n:this._internals.username=n}get password(){let t=this._internals.url,r=t?t.password:this._internals.password;return decodeURIComponent(r)}set password(t){Y.string(t);let r=this._internals.url,n=encodeURIComponent(t);r?r.password=n:this._internals.password=n}get http2(){return this._internals.http2}set http2(t){Y.boolean(t),this._internals.http2=t}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(t){Y.boolean(t),this._internals.allowGetBody=t}get headers(){return this._internals.headers}set headers(t){Y.plainObject(t),this._merging?Object.assign(this._internals.headers,wc(t)):this._internals.headers=wc(t)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(t){Y.boolean(t),this._internals.methodRewriting=t}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(t){if(t!==void 0&&t!==4&&t!==6)throw new TypeError(`Invalid DNS lookup IP version: ${t}`);this._internals.dnsLookupIpVersion=t}get parseJson(){return this._internals.parseJson}set parseJson(t){Y.function_(t),this._internals.parseJson=t}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(t){Y.function_(t),this._internals.stringifyJson=t}get retry(){return this._internals.retry}set retry(t){if(Y.plainObject(t),Y.any([$.function_,$.undefined],t.calculateDelay),Y.any([$.number,$.undefined],t.maxRetryAfter),Y.any([$.number,$.undefined],t.limit),Y.any([$.array,$.undefined],t.methods),Y.any([$.array,$.undefined],t.statusCodes),Y.any([$.array,$.undefined],t.errorCodes),Y.any([$.number,$.undefined],t.noise),t.noise&&Math.abs(t.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${t.noise}`);for(let n in t)if(!(n in this._internals.retry))throw new Error(`Unexpected retry option: ${n}`);this._merging?Object.assign(this._internals.retry,t):this._internals.retry={...t};let{retry:r}=this._internals;r.methods=[...new Set(r.methods.map(n=>n.toUpperCase()))],r.statusCodes=[...new Set(r.statusCodes)],r.errorCodes=[...new Set(r.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(t){Y.any([$.string,$.undefined],t),this._internals.localAddress=t}get method(){return this._internals.method}set method(t){Y.string(t),this._internals.method=t.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(t){Y.any([$.function_,$.undefined],t),this._internals.createConnection=t}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(t){Y.plainObject(t),Y.any([$.boolean,$.undefined],t.shared),Y.any([$.number,$.undefined],t.cacheHeuristic),Y.any([$.number,$.undefined],t.immutableMinTimeToLive),Y.any([$.boolean,$.undefined],t.ignoreCargoCult);for(let r in t)if(!(r in this._internals.cacheOptions))throw new Error(`Cache option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,t):this._internals.cacheOptions={...t}}get https(){return this._internals.https}set https(t){Y.plainObject(t),Y.any([$.boolean,$.undefined],t.rejectUnauthorized),Y.any([$.function_,$.undefined],t.checkServerIdentity),Y.any([$.string,$.object,$.array,$.undefined],t.certificateAuthority),Y.any([$.string,$.object,$.array,$.undefined],t.key),Y.any([$.string,$.object,$.array,$.undefined],t.certificate),Y.any([$.string,$.undefined],t.passphrase),Y.any([$.string,$.buffer,$.array,$.undefined],t.pfx),Y.any([$.array,$.undefined],t.alpnProtocols),Y.any([$.string,$.undefined],t.ciphers),Y.any([$.string,$.buffer,$.undefined],t.dhparam),Y.any([$.string,$.undefined],t.signatureAlgorithms),Y.any([$.string,$.undefined],t.minVersion),Y.any([$.string,$.undefined],t.maxVersion),Y.any([$.boolean,$.undefined],t.honorCipherOrder),Y.any([$.number,$.undefined],t.tlsSessionLifetime),Y.any([$.string,$.undefined],t.ecdhCurve),Y.any([$.string,$.buffer,$.array,$.undefined],t.certificateRevocationLists);for(let r in t)if(!(r in this._internals.https))throw new Error(`HTTPS option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.https,t):this._internals.https={...t}}get encoding(){return this._internals.encoding}set encoding(t){if(t===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");Y.any([$.string,$.undefined],t),this._internals.encoding=t}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(t){Y.boolean(t),this._internals.resolveBodyOnly=t}get isStream(){return this._internals.isStream}set isStream(t){Y.boolean(t),this._internals.isStream=t}get responseType(){return this._internals.responseType}set responseType(t){if(t===void 0){this._internals.responseType="text";return}if(t!=="text"&&t!=="buffer"&&t!=="json")throw new Error(`Invalid \`responseType\` option: ${t}`);this._internals.responseType=t}get pagination(){return this._internals.pagination}set pagination(t){Y.object(t),this._merging?Object.assign(this._internals.pagination,t):this._internals.pagination=t}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(t){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(t){Y.boolean(t),this._internals.setHost=t}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(t){Y.any([$.number,$.undefined],t),this._internals.maxHeaderSize=t}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(t){Y.boolean(t),this._internals.enableUnixSockets=t}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](t,r){return Zxe(this._internals,r)}createNativeRequestOptions(){let t=this._internals,r=t.url,n;r.protocol==="https:"?n=t.http2?t.agent:t.agent.https:n=t.agent.http;let{https:i}=t,{pfx:s}=i;return $.array(s)&&$.plainObject(s[0])&&(s=s.map(o=>({buf:o.buffer,passphrase:o.passphrase}))),{...t.cacheOptions,...this._unixOptions,ALPNProtocols:i.alpnProtocols,ca:i.certificateAuthority,cert:i.certificate,key:i.key,passphrase:i.passphrase,pfx:i.pfx,rejectUnauthorized:i.rejectUnauthorized,checkServerIdentity:i.checkServerIdentity??e1e,ciphers:i.ciphers,honorCipherOrder:i.honorCipherOrder,minVersion:i.minVersion,maxVersion:i.maxVersion,sigalgs:i.signatureAlgorithms,sessionTimeout:i.tlsSessionLifetime,dhparam:i.dhparam,ecdhCurve:i.ecdhCurve,crl:i.certificateRevocationLists,lookup:t.dnsLookup??t.dnsCache?.lookup,family:t.dnsLookupIpVersion,agent:n,setHost:t.setHost,method:t.method,maxHeaderSize:t.maxHeaderSize,localAddress:t.localAddress,headers:t.headers,createConnection:t.createConnection,timeout:t.http2?u1e(t):void 0,h2session:t.h2session}}getRequestFunction(){let t=this._internals.url,{request:r}=this._internals;return!r&&t?this.getFallbackRequestFunction():r}getFallbackRequestFunction(){let t=this._internals.url;if(t){if(t.protocol==="https:"){if(this._internals.http2){if(XH<15||XH===15&&n1e<10){let r=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw r.code="EUNSUPPORTED",r}return eU.default.auto}return r1e.request}return t1e.request}}freeze(){let t=this._internals;Object.freeze(t),Object.freeze(t.hooks),Object.freeze(t.hooks.afterResponse),Object.freeze(t.hooks.beforeError),Object.freeze(t.hooks.beforeRedirect),Object.freeze(t.hooks.beforeRequest),Object.freeze(t.hooks.beforeRetry),Object.freeze(t.hooks.init),Object.freeze(t.https),Object.freeze(t.cacheOptions),Object.freeze(t.agent),Object.freeze(t.headers),Object.freeze(t.timeout),Object.freeze(t.retry),Object.freeze(t.retry.errorCodes),Object.freeze(t.retry.methods),Object.freeze(t.retry.statusCodes)}};var Tc=e=>{let{statusCode:t}=e,r=e.request.options.followRedirect?299:399;return t>=200&&t<=r||t===304},Kg=class extends Et{constructor(t,r){let{options:n}=r.request;super(`${t.message} in "${n.url.toString()}"`,t,r.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},nR=(e,t,r,n)=>{let{rawBody:i}=e;try{if(t==="text")return i.toString(n);if(t==="json")return i.length===0?"":r(i.toString(n));if(t==="buffer")return i}catch(s){throw new Kg(s,e)}throw new Kg({message:`Unknown body type '${t}'`,name:"Error"},e)};function f1e(e){return e.writable&&!e.writableEnded}var tU=f1e;function Jg(e){return e.protocol==="unix:"||e.hostname==="unix"}var g1e=$.string(nU.versions.brotli),y1e=new Set(["GET","HEAD"]),sR=new cd,b1e=new Set([300,301,302,303,304,307,308]),v1e=["socket","connect","continue","information","upgrade"],Yg=()=>{},_s=class extends d1e{constructor(t,r,n){super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_removeListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=Yg,this._triggerRead=!1,this._cancelTimeouts=Yg,this._removeListeners=Yg,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=Yg,this.on("pipe",s=>{s.headers&&Object.assign(this.options.headers,s.headers)}),this.on("newListener",s=>{if(s==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new Rr(t,r,n),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(s){let{options:o}=s;o&&(this.options=o),this.flush=async()=>{this.flush=async()=>{},this.destroy(s)};return}let{body:i}=this.options;if($.nodeStream(i)&&i.once("error",s=>{this._flushed?this._beforeError(new Yf(s,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new Yf(s,this))}}),this.options.signal){let s=()=>{this.destroy(new Cg(this))};this.options.signal.aborted?s():(this.options.signal.addEventListener("abort",s),this._removeListeners=()=>{this.options.signal.removeEventListener("abort",s)})}}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){this._request?.destroy();return}for(let t of this._jobs)t();this._jobs.length=0,this._requestInitialized=!0}catch(t){this._beforeError(t)}}}_beforeError(t){if(this._stopReading)return;let{response:r,options:n}=this,i=this.retryCount+(t.name==="RetryError"?0:1);this._stopReading=!0,t instanceof Et||(t=new Et(t.message,t,this));let s=t;(async()=>{if(r?.readable&&!r.rawBody&&!this._request?.socket?.destroyed&&(r.setEncoding(this.readableEncoding),await this._setRawBody(r)&&(r.body=r.rawBody.toString())),this.listenerCount("retry")!==0){let o;try{let a;r&&"retry-after"in r.headers&&(a=Number(r.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(r.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3);let l=n.retry;o=await l.calculateDelay({attemptCount:i,retryOptions:l,error:s,retryAfter:a,computedValue:Bz({attemptCount:i,retryOptions:l,error:s,retryAfter:a,computedValue:l.maxRetryAfter??n.timeout.request??Number.POSITIVE_INFINITY})})}catch(a){this._error(new Et(a.message,a,this));return}if(o){if(await new Promise(a=>{let l=setTimeout(a,o);this._stopRetry=()=>{clearTimeout(l),a()}}),this.destroyed)return;try{for(let a of this.options.hooks.beforeRetry)await a(s,this.retryCount+1)}catch(a){this._error(new Et(a.message,t,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,t,a=>{let l=new _s(n.url,a,n);return l.retryCount=this.retryCount+1,nU.nextTick(()=>{l.flush()}),l});return}}this._error(s)})()}_read(){this._triggerRead=!0;let{response:t}=this;if(t&&!this._stopReading){t.readableLength&&(this._triggerRead=!1);let r;for(;(r=t.read())!==null;){this._downloadedSize+=r.length;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(t,r,n){let i=()=>{this._writeRequest(t,r,n)};this._requestInitialized?i():this._jobs.push(i)}_final(t){let r=()=>{if(!this._request||this._request.destroyed){t();return}this._request.end(n=>{this._request._writableState?.errored||(n||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),t(n))})};this._requestInitialized?r():this._jobs.push(r)}_destroy(t,r){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this._removeListeners(),this.options){let{body:n}=this.options;$.nodeStream(n)&&n.destroy()}this._request&&this._request.destroy(),t!==null&&!$.undefined(t)&&!(t instanceof Et)&&(t=new Et(t.message,t,this)),r(t)}pipe(t,r){return t instanceof rU&&this._pipedServerResponses.add(t),super.pipe(t,r)}unpipe(t){return t instanceof rU&&this._pipedServerResponses.delete(t),super.unpipe(t),this}async _finalizeBody(){let{options:t}=this,{headers:r}=t,n=!$.undefined(t.form),i=!$.undefined(t.json),s=!$.undefined(t.body),o=y1e.has(t.method)&&!(t.method==="GET"&&t.allowGetBody);if(this._cannotHaveBody=o,n||i||s){if(o)throw new TypeError(`The \`${t.method}\` method cannot be used with a body`);let a=!$.string(r["content-type"]);if(s){if(Ec(t.body)){let c=new Fg(t.body);a&&(r["content-type"]=c.headers["Content-Type"]),"Content-Length"in c.headers&&(r["content-length"]=c.headers["Content-Length"]),t.body=c.encode()}od(t.body)&&a&&(r["content-type"]=`multipart/form-data; boundary=${t.body.getBoundary()}`)}else if(n){a&&(r["content-type"]="application/x-www-form-urlencoded");let{form:c}=t;t.form=void 0,t.body=new p1e(c).toString()}else{a&&(r["content-type"]="application/json");let{json:c}=t;t.json=void 0,t.body=t.stringifyJson(c)}let l=await PS(t.body,t.headers);$.undefined(r["content-length"])&&$.undefined(r["transfer-encoding"])&&!o&&!$.undefined(l)&&(r["content-length"]=String(l))}t.responseType==="json"&&!("accept"in t.headers)&&(t.headers.accept="application/json"),this._bodySize=Number(r["content-length"])||void 0}async _onResponseBase(t){if(this.isAborted)return;let{options:r}=this,{url:n}=r;this._nativeResponse=t,r.decompress&&(t=(0,iU.default)(t));let i=t.statusCode,s=t;s.statusMessage=s.statusMessage?s.statusMessage:m1e.STATUS_CODES[i],s.url=r.url.toString(),s.requestUrl=this.requestUrl,s.redirectUrls=this.redirectUrls,s.request=this,s.isFromCache=this._nativeResponse.fromCache??!1,s.ip=this.ip,s.retryCount=this.retryCount,s.ok=Tc(s),this._isFromCache=s.isFromCache,this._responseSize=Number(t.headers["content-length"])||void 0,this.response=s,t.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),t.once("error",a=>{this._aborted=!0,t.destroy(),this._beforeError(new Xf(a,this))}),t.once("aborted",()=>{this._aborted=!0,this._beforeError(new Xf({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=t.headers["set-cookie"];if($.object(r.cookieJar)&&o){let a=o.map(async l=>r.cookieJar.setCookie(l,n.toString()));r.ignoreInvalidCookies&&(a=a.map(async l=>{try{await l}catch{}}));try{await Promise.all(a)}catch(l){this._beforeError(l);return}}if(!this.isAborted){if(r.followRedirect&&t.headers.location&&b1e.has(i)){if(t.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=r.maxRedirects){this._beforeError(new Pg(this));return}this._request=void 0;let a=new Rr(void 0,void 0,this.options),l=i===303&&a.method!=="GET"&&a.method!=="HEAD",c=i!==307&&i!==308,u=a.methodRewriting&&c;(l||u)&&(a.method="GET",a.body=void 0,a.json=void 0,a.form=void 0,delete a.headers["content-length"]);try{let d=iR.from(t.headers.location,"binary").toString(),h=new h1e(d,n);if(!Jg(n)&&Jg(h)){this._beforeError(new Et("Cannot redirect to UNIX socket",{},this));return}h.hostname!==n.hostname||h.port!==n.port?("host"in a.headers&&delete a.headers.host,"cookie"in a.headers&&delete a.headers.cookie,"authorization"in a.headers&&delete a.headers.authorization,(a.username||a.password)&&(a.username="",a.password="")):(h.username=a.username,h.password=a.password),this.redirectUrls.push(h),a.prefixUrl="",a.url=h;for(let f of a.hooks.beforeRedirect)await f(a,s);this.emit("redirect",a,s),this.options=a,await this._makeRequest()}catch(d){this._beforeError(d);return}return}if(r.isStream&&r.throwHttpErrors&&!Tc(s)){this._beforeError(new Di(s));return}if(t.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{t.resume()}),this.on("pause",()=>{t.pause()}),t.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",t);return}this.emit("response",t);for(let a of this._pipedServerResponses)if(!a.headersSent){for(let l in t.headers){let c=r.decompress?l!=="content-encoding":!0,u=t.headers[l];c&&a.setHeader(l,u)}a.statusCode=i}}}async _setRawBody(t=this){if(t.readableEnded)return!1;try{let r=await(0,sU.buffer)(t);if(!this.isAborted)return this.response.rawBody=r,!0}catch{}return!1}async _onResponse(t){try{await this._onResponseBase(t)}catch(r){this._beforeError(r)}}_onRequest(t){let{options:r}=this,{timeout:n,url:i}=r;yz(t),this.options.http2&&t.setTimeout(0),this._cancelTimeouts=kS(t,n,i);let s=r.cache?"cacheableResponse":"response";t.once(s,o=>{this._onResponse(o)}),t.once("error",o=>{this._aborted=!0,t.destroy(),o=o instanceof ld?new kg(o,this.timings,this):new Et(o.message,o,this),this._beforeError(o)}),this._unproxyEvents=ad(t,this,v1e),this._request=t,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",t)}async _asyncWrite(t){return new Promise((r,n)=>{super.write(t,i=>{if(i){n(i);return}r()})})}_sendBody(){let{body:t}=this.options,r=this.redirectUrls.length===0?this:this._request??this;$.nodeStream(t)?t.pipe(r):$.generator(t)||$.asyncGenerator(t)?(async()=>{try{for await(let n of t)await this._asyncWrite(n);super.end()}catch(n){this._beforeError(n)}})():$.undefined(t)?(this._cannotHaveBody||this._noPipe)&&r.end():(this._writeRequest(t,void 0,()=>{}),r.end())}_prepareCache(t){if(!sR.has(t)){let r=new kz((n,i)=>{let s=n._request(n,i);return $.promise(s)&&(s.once=(o,a)=>{if(o==="error")(async()=>{try{await s}catch(l){a(l)}})();else if(o==="abort")(async()=>{try{(await s).once("abort",a)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${o}`);return s}),s},t);sR.set(t,r.request())}}async _createCacheableRequest(t,r){return new Promise((n,i)=>{Object.assign(r,OS(t));let s,o=sR.get(r.cache)(r,async a=>{if(a._readableState.autoDestroy=!1,s){let l=()=>{a.req&&(a.complete=a.req.res.complete)};a.prependOnceListener("end",l),l(),(await s).emit("cacheableResponse",a)}n(a)});o.once("error",i),o.once("request",async a=>{s=a,n(s)})})}async _makeRequest(){let{options:t}=this,{headers:r,username:n,password:i}=t,s=t.cookieJar;for(let c in r)if($.undefined(r[c]))delete r[c];else if($.null_(r[c]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${c}\` header`);if(t.decompress&&$.undefined(r["accept-encoding"])&&(r["accept-encoding"]=g1e?"gzip, deflate, br":"gzip, deflate"),n||i){let c=iR.from(`${n}:${i}`).toString("base64");r.authorization=`Basic ${c}`}if(s){let c=await s.getCookieString(t.url.toString());$.nonEmptyString(c)&&(r.cookie=c)}t.prefixUrl="";let o;for(let c of t.hooks.beforeRequest){let u=await c(t);if(!$.undefined(u)){o=()=>u;break}}o||(o=t.getRequestFunction());let a=t.url;this._requestOptions=t.createNativeRequestOptions(),t.cache&&(this._requestOptions._request=o,this._requestOptions.cache=t.cache,this._requestOptions.body=t.body,this._prepareCache(t.cache));let l=t.cache?this._createCacheableRequest:o;try{let c=l(a,this._requestOptions);$.promise(c)&&(c=await c),$.undefined(c)&&(c=t.getFallbackRequestFunction()(a,this._requestOptions),$.promise(c)&&(c=await c)),tU(c)?this._onRequest(c):this.writable?(this.once("finish",()=>{this._onResponse(c)}),this._sendBody()):this._onResponse(c)}catch(c){throw c instanceof ws?new Ag(c,this):c}}async _error(t){try{if(!(t instanceof Di&&!this.options.throwHttpErrors))for(let r of this.options.hooks.beforeError)t=await r(t)}catch(r){t=new Et(r.message,r,this)}this.destroy(t)}_writeRequest(t,r,n){!this._request||this._request.destroyed||this._request.write(t,r,i=>{if(!i&&!this._request.destroyed){this._uploadedSize+=iR.byteLength(t,r);let s=this.uploadProgress;s.percent<1&&this.emit("uploadProgress",s)}n(i)})}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let t;return this._responseSize?t=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?t=1:t=0,{percent:t,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let t;return this._bodySize?t=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?t=1:t=0,{percent:t,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}};var Xg=class extends Et{constructor(t){super("Promise was canceled",{},t),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};var _1e=["request","response","redirect","uploadProgress","downloadProgress"];function Qg(e){let t,r,n,i=new w1e,s=new yo((a,l,c)=>{c(()=>{t.destroy()}),c.shouldReject=!1,c(()=>{l(new Xg(t))});let u=d=>{c(()=>{});let h=e??new _s(void 0,void 0,n);h.retryCount=d,h._noPipe=!0,t=h,h.once("response",async m=>{let v=(m.headers["content-encoding"]??"").toLowerCase(),y=v==="gzip"||v==="deflate"||v==="br",{options:E}=h;if(y&&!E.decompress)m.body=m.rawBody;else try{m.body=nR(m,E.responseType,E.parseJson,E.encoding)}catch(b){if(m.body=m.rawBody.toString(),Tc(m)){h._beforeError(b);return}}try{let b=E.hooks.afterResponse;for(let[g,P]of b.entries())if(m=await P(m,async O=>{throw E.merge(O),E.prefixUrl="",O.url&&(E.url=O.url),E.hooks.afterResponse=E.hooks.afterResponse.slice(0,g),new Og(h)}),!($.object(m)&&$.number(m.statusCode)&&!$.nullOrUndefined(m.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(b){h._beforeError(b);return}if(r=m,!Tc(m)){h._beforeError(new Di(m));return}h.destroy(),a(h.options.resolveBodyOnly?m.body:m)});let f=m=>{if(s.isCanceled)return;let{options:v}=h;if(m instanceof Di&&!v.throwHttpErrors){let{response:y}=m;h.destroy(),a(h.options.resolveBodyOnly?y.body:y);return}l(m)};h.once("error",f);let p=h.options?.body;h.once("retry",(m,v)=>{e=void 0;let y=h.options.body;if(p===y&&$.nodeStream(y)){v.message="Cannot retry with consumed body stream",f(v);return}n=h.options,u(m)}),ad(h,i,_1e),$.undefined(e)&&h.flush()};u(0)});s.on=(a,l)=>(i.on(a,l),s),s.off=(a,l)=>(i.off(a,l),s);let o=a=>{let l=(async()=>{await s;let{options:c}=r.request;return nR(r,a,c.parseJson,c.encoding)})();return Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)),l};return s.json=()=>{if(t.options){let{headers:a}=t.options;!t.writableFinished&&!("accept"in a)&&(a.accept="application/json")}return o("json")},s.buffer=()=>o("buffer"),s.text=()=>o("text"),s}var E1e=async e=>new Promise(t=>{setTimeout(t,e)}),x1e=e=>$.function_(e),S1e=["get","post","put","patch","head","delete"],oU=e=>{e={options:new Rr(void 0,void 0,e.options),handlers:[...e.handlers],mutableDefaults:e.mutableDefaults},Object.defineProperty(e,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let t=(n,i,s=e.options)=>{let o=new _s(n,i,s),a,l=d=>(o.options=d,o._noPipe=!d.isStream,o.flush(),d.isStream?o:(a||(a=Qg(o)),a)),c=0,u=d=>{let f=(e.handlers[c++]??l)(d,u);if($.promise(f)&&!o.options.isStream&&(a||(a=Qg(o)),f!==a)){let p=Object.getOwnPropertyDescriptors(a);for(let m in p)m in f&&delete p[m];Object.defineProperties(f,p),f.cancel=a.cancel}return f};return u(o.options)};t.extend=(...n)=>{let i=new Rr(void 0,void 0,e.options),s=[...e.handlers],o;for(let a of n)x1e(a)?(i.merge(a.defaults.options),s.push(...a.defaults.handlers),o=a.defaults.mutableDefaults):(i.merge(a),a.handlers&&s.push(...a.handlers),o=a.mutableDefaults);return oU({options:i,handlers:s,mutableDefaults:Boolean(o)})};let r=async function*(n,i){let s=new Rr(n,i,e.options);s.resolveBodyOnly=!1;let{pagination:o}=s;Y.function_(o.transform),Y.function_(o.shouldContinue),Y.function_(o.filter),Y.function_(o.paginate),Y.number(o.countLimit),Y.number(o.requestLimit),Y.number(o.backoff);let a=[],{countLimit:l}=o,c=0;for(;c<o.requestLimit;){c!==0&&await E1e(o.backoff);let u=await t(void 0,void 0,s),d=await o.transform(u),h=[];Y.array(d);for(let p of d)if(o.filter({item:p,currentItems:h,allItems:a})&&(!o.shouldContinue({item:p,currentItems:h,allItems:a})||(yield p,o.stackAllItems&&a.push(p),h.push(p),--l<=0)))return;let f=o.paginate({response:u,currentItems:h,allItems:a});if(f===!1)return;f===u.request.options?s=u.request.options:(s.merge(f),Y.any([$.urlInstance,$.undefined],f.url),f.url!==void 0&&(s.prefixUrl="",s.url=f.url)),c++}};t.paginate=r,t.paginate.all=async(n,i)=>{let s=[];for await(let o of r(n,i))s.push(o);return s},t.paginate.each=r,t.stream=(n,i)=>t(n,{...i,isStream:!0});for(let n of S1e)t[n]=(i,s)=>t(i,{...s,method:n}),t.stream[n]=(i,s)=>t(i,{...s,method:n,isStream:!0});return e.mutableDefaults||(Object.freeze(e.handlers),e.options.freeze()),Object.defineProperty(t,"defaults",{value:e,writable:!1,configurable:!1,enumerable:!0}),t},aU=oU;var R1e={options:new Rr,handlers:[],mutableDefaults:!1},T1e=aU(R1e),lU=T1e;var GU=Yt(xU(),1);var CU=Yt(SU(),1);var RU="[a-fA-F\\d:]",Eo=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${RU})|(?<=${RU})(?=\\s|$))`:"",fi="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Kt="[a-fA-F\\d]{1,4}",ay=`
(?:
(?:${Kt}:){7}(?:${Kt}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${Kt}:){6}(?:${fi}|:${Kt}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${Kt}:){5}(?::${fi}|(?::${Kt}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${Kt}:){4}(?:(?::${Kt}){0,1}:${fi}|(?::${Kt}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${Kt}:){3}(?:(?::${Kt}){0,2}:${fi}|(?::${Kt}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${Kt}:){2}(?:(?::${Kt}){0,3}:${fi}|(?::${Kt}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${Kt}:){1}(?:(?::${Kt}){0,4}:${fi}|(?::${Kt}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${Kt}){0,5}:${fi}|(?::${Kt}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),nSe=new RegExp(`(?:^${fi}$)|(?:^${ay}$)`),iSe=new RegExp(`^${fi}$`),sSe=new RegExp(`^${ay}$`),pR=e=>e&&e.exact?nSe:new RegExp(`(?:${Eo(e)}${fi}${Eo(e)})|(?:${Eo(e)}${ay}${Eo(e)})`,"g");pR.v4=e=>e&&e.exact?iSe:new RegExp(`${Eo(e)}${fi}${Eo(e)}`,"g");pR.v6=e=>e&&e.exact?sSe:new RegExp(`${Eo(e)}${ay}${Eo(e)}`,"g");var TU=pR;import{isIPv4 as fje,isIPv6 as dje,isIP as oSe}from"node:net";function PU(e){return Boolean(oSe(e))}var IU=Yt(kU(),1),{isValid:aSe,parse:lSe}=IU.default,cSe=["0.0.0.0/8","10.0.0.0/8","100.64.0.0/10","127.0.0.0/8","169.254.0.0/16","172.16.0.0/12","192.0.0.0/24","192.0.0.0/29","192.0.0.8/32","192.0.0.9/32","192.0.0.10/32","192.0.0.170/32","192.0.0.171/32","192.0.2.0/24","192.31.196.0/24","192.52.193.0/24","192.88.99.0/24","192.168.0.0/16","192.175.48.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","240.0.0.0/4","255.255.255.255/32"],uSe=cSe.map(e=>new CU.Netmask(e));function fSe(e){for(let t of uSe)if(t.contains(e))return!0;return!1}function OU(e){return/^::$/.test(e)||/^::1$/.test(e)||/^::f{4}:([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^::f{4}:0.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^64:ff9b::([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^100::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001:2[0-9a-fA-F]:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001:db8:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2002:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^f[c-d]([0-9a-fA-F]{2,2}):/i.test(e)||/^fe[8-9a-bA-B][0-9a-fA-F]:/i.test(e)||/^ff([0-9a-fA-F]{2,2}):/i.test(e)}var $U=e=>{if(aSe(e)){let t=lSe(e);if(t.kind()==="ipv4")return fSe(t.toNormalizedString());if(t.kind()==="ipv6")return OU(e)}else if(PU(e)&&TU.v6().test(e))return OU(e)};var NU=$U;import*as MU from"node:http";import*as BU from"node:https";var vR=Yt(DU(),1);var LU=vR.default.HttpProxyAgent,FU=vR.default.HttpsProxyAgent;var zU=new Ca({maxTtl:3600,errorTtl:30,lookup:!1}),dSe=new MU.Agent({keepAlive:!0,keepAliveMsecs:30*1e3,lookup:zU.lookup}),hSe=new BU.Agent({keepAlive:!0,keepAliveMsecs:30*1e3,lookup:zU.lookup});function Oc(e){let t=e?new LU({keepAlive:!0,keepAliveMsecs:3e4,maxSockets:256,maxFreeSockets:256,scheduling:"lifo",proxy:e}):dSe,r=e?new FU({keepAlive:!0,keepAliveMsecs:30*1e3,maxSockets:256,maxFreeSockets:256,scheduling:"lifo",proxy:e}):hSe;return{httpAgent:t,httpsAgent:r}}var pSe=VU.promisify(UU.pipeline),La={userAgent:"MisskeyMediaProxy/0.0.0",allowedPrivateNetworks:[],maxSize:262144e3,proxy:!1,...Oc()};async function WU(e,t,r=La){process.env.NODE_ENV!=="production"&&console.log(`Downloading ${e} to ${t} ...`);let n=30*1e3,i=60*1e3,s=lU.stream(e,{headers:{"User-Agent":r.userAgent},timeout:{lookup:n,connect:n,secureConnect:n,socket:n,response:n,send:n,request:i},agent:{http:r.httpAgent,https:r.httpsAgent},http2:!0,retry:{limit:0},enableUnixSockets:!1}).on("response",o=>{(process.env.NODE_ENV==="production"||process.env.NODE_ENV==="test")&&!r.proxy&&o.ip&&mSe(o.ip,r.allowedPrivateNetworks)&&(console.log(`Blocked address: ${o.ip}`),s.destroy());let a=o.headers["content-length"];if(a!=null){let l=Number(a);l>r.maxSize&&(console.log(`maxSize exceeded (${l} > ${r.maxSize}) on response`),s.destroy())}}).on("downloadProgress",o=>{o.transferred>r.maxSize&&(console.log(`maxSize exceeded (${o.transferred} > ${r.maxSize}) on downloadProgress`),s.destroy())});try{await pSe(s,HU.createWriteStream(t))}catch(o){throw o instanceof Di?new vs(`${o.response.statusCode} ${o.response.statusMessage}`,o.response.statusCode,o.response.statusMessage):o}process.env.NODE_ENV!=="production"&&console.log(`Download finished: ${e}`)}function mSe(e,t){for(let r of t??[])if(new GU.default(r).contains(e))return!1;return NU(e)??!1}var bSe=gSe(import.meta.url),JU=ySe(bSe),vSe=`${JU}/../../server/file/assets/`,wd=La;function wSe(e){let t=process.env.HTTP_PROXY??process.env.http_proxy;if(!e){wd={...La,...t?Oc(t):{},proxy:!!t},console.log(wd);return}wd={userAgent:e.userAgent??La.userAgent,allowedPrivateNetworks:e.allowedPrivateNetworks??La.allowedPrivateNetworks,maxSize:e.maxSize??La.maxSize,..."proxy"in e?{...Oc(e.proxy),proxy:!!e.proxy}:"httpAgent"in e?{httpAgent:e.httpAgent,httpsAgent:e.httpsAgent,proxy:!0}:{...Oc(t),proxy:!!t}},console.log(wd)}function YU(e,t,r){wSe(t),e.addHook("onRequest",(n,i,s)=>{i.header("Content-Security-Policy","default-src 'none'; img-src 'self'; media-src 'self'; style-src 'unsafe-inline'"),s()}),e.register(KU.default,{root:JU,serve:!1}),e.get("/:url*",async(n,i)=>await ESe(n,i).catch(s=>_Se(n,i,s))),r()}function _Se(e,t,r){if(console.log(`${r}`),t.header("Cache-Control","max-age=300"),e.query&&"fallback"in e.query)return t.sendFile("/dummy.png",vSe);if(r instanceof vs&&(r.statusCode===302||r.isClientError)){t.code(r.statusCode);return}t.code(500)}async function ESe(e,t){let r="url"in e.query?e.query.url:e.params.url&&"https://"+e.params.url;if(!r||typeof r!="string"){t.code(400);return}let n=await xSe(r);console.log(_d.statSync(n.path));try{let i=aS(n.mime,"sharp-convertible-image"),s=aS(n.mime,"sharp-animation-convertible-image"),o=null;if(("emoji"in e.query||"avatar"in e.query)&&i)!s&&!("static"in e.query)?o={data:_d.createReadStream(n.path),ext:n.ext,type:n.mime}:o={data:(0,cy.default)(n.path,{animated:!("static"in e.query)}).resize({height:"emoji"in e.query?128:320,withoutEnlargement:!0}).webp(yg),ext:"webp",type:"image/webp"};else if("static"in e.query&&i)o=bg(n.path,498,280);else if("preview"in e.query&&i)o=bg(n.path,200,200);else if("badge"in e.query){if(!i)throw new vs("Unexpected mime",404);let a=(0,cy.default)(n.path).resize(96,96,{fit:"inside",withoutEnlargement:!1}).greyscale().normalise().linear(1.75,-(128*1.75)+128).flatten({background:"#000"}).toColorspace("b-w");if((await a.clone().stats()).entropy<.1)throw new vs("Skip to provide badge",404);o={data:await(0,cy.default)({create:{width:96,height:96,channels:4,background:{r:0,g:0,b:0,alpha:0}}}).pipelineColorspace("b-w").boolean(await a.png().toBuffer(),"eor").png().toBuffer(),ext:"png",type:"image/png"}}else if(n.mime==="image/svg+xml")o=bg(n.path,2048,2048);else if(!n.mime.startsWith("image/")||!sg.includes(n.mime))throw new vs("Rejected type",403,"Rejected type");return o||(o={data:_d.createReadStream(n.path),ext:n.ext,type:n.mime}),"cleanup"in n&&("pipe"in o.data&&typeof o.data.pipe=="function"?(o.data.on("end",n.cleanup),o.data.on("close",n.cleanup)):n.cleanup()),t.header("Content-Type",o.type),t.header("Cache-Control","max-age=31536000, immutable"),o.data}catch(i){throw"cleanup"in n&&n.cleanup(),i}}async function xSe(e){let[t,r]=await O5();try{await WU(e,t,wd);let{mime:n,ext:i}=await fz(t);return{state:"remote",mime:n,ext:i,path:t,cleanup:r}}catch(n){throw r(),n}}import SSe from"url";function uy(){let e=(0,XU.default)();return e.addHook("onRequest",(t,r,n)=>{r.header("Server","Misskey Media Proxy"),n()}),e.get("/",(t,r)=>r.send("Hello World!")),e.register(YU),e}process.argv[1]===SSe.fileURLToPath(import.meta.url)&&uy().listen({port:3e3},e=>{e&&console.error(e),console.log("server listening on 3000")});var RSe=uy(),TSe=(0,QU.default)(uy()),zje=TSe;await RSe.ready();export{zje as handler};
/*! Bundled license information:

forwarded/index.js:
  (*!
   * forwarded
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

proxy-addr/index.js:
  (*!
   * proxy-addr
   * Copyright(c) 2014-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

tiny-lru/dist/tiny-lru.cjs:
  (**
   * tiny-lru
   *
   * @copyright 2022 Jason Mulligan <jason.mulligan@avoidwork.com>
   * @license BSD-3-Clause
   * @version 10.0.1
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

escape-html/index.js:
  (*!
   * escape-html
   * Copyright(c) 2012-2013 TJ Holowaychuk
   * Copyright(c) 2015 Andreas Lubbe
   * Copyright(c) 2015 Tiancheng "Timothy" Gu
   * MIT Licensed
   *)

@fastify/send/lib/clearHeaders.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/containsDotFile.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/contentRange.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/createHtmlDocument.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

depd/index.js:
  (*!
   * depd
   * Copyright(c) 2014-2018 Douglas Christopher Wilson
   * MIT Licensed
   *)

statuses/index.js:
  (*!
   * statuses
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toidentifier/index.js:
  (*!
   * toidentifier
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

http-errors/index.js:
  (*!
   * http-errors
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/parseRange.js:
  (*!
   * Based on range-parser
   *
   * Copyright(c) 2012-2014 TJ Holowaychuk
   * Copyright(c) 2015-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/lib/SendStream.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

@fastify/send/index.js:
  (*!
   * send
   * Copyright(c) 2012 TJ Holowaychuk
   * Copyright(c) 2014-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

content-disposition/index.js:
  (*!
   * content-disposition
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

tmp/lib/tmp.js:
  (*!
   * Tmp
   *
   * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
   *
   * MIT Licensed
   *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
